The version of configure script matches kaldi.mk version. Good.
test -d  || mkdir 
make -C base
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/base'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/base'
make -C matrix
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/matrix'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/matrix'
make -C util
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/util'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/util'
make -C cudamatrix
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/cudamatrix'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/cudamatrix'
make -C tree
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/tree'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/tree'
make -C fstext
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/fstext'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/fstext'
make -C hmm
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/hmm'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/hmm'
make -C lat
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/lat'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/lat'
make -C chain
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/chain'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/chain'
make -C gmm
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/gmm'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/gmm'
make -C transform
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/transform'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/transform'
make -C decoder
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/decoder'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/decoder'
make -C feat
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/feat'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/feat'
make -C ivector
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/ivector'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/ivector'
make -C kws
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/kws'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/kws'
make -C lm
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/lm'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/lm'
make -C nnet
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/nnet'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/nnet'
make -C nnet2
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/nnet2'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/nnet2'
make -C nnet3
make[1]: Entering directory `/home/xxr/works/kaldi_bayes_adapt/src/nnet3'
g++ -std=c++14 -I.. -isystem /home/xxr/works/kaldi_bayes_adapt/tools/openfst-1.7.2/include -O1 -Wall -Wno-sign-compare -Wno-unused-local-typedefs -Wno-deprecated-declarations -Winit-self -DKALDI_DOUBLEPRECISION=0 -DHAVE_EXECINFO_H=1 -DHAVE_CXXABI_H -DHAVE_MKL -I/opt/intel/mkl/include -m64 -msse -msse2 -pthread -g  -DHAVE_CUDA -I/usr/local/cuda-11.3/include -fPIC -pthread -isystem /home/xxr/works/kaldi_bayes_adapt/tools/openfst-1.7.2/include   -c -o nnet-simple-component.o nnet-simple-component.cc
In file included from nnet-simple-component.cc:28:
../nnet3/nnet-simple-component.h: In constructor 'kaldi::nnet3::BayesVecKLGaussianLogStdComponent::BayesVecKLGaussianLogStdComponent()':
../nnet3/nnet-simple-component.h:2821:8: warning: 'kaldi::nnet3::BayesVecKLGaussianLogStdComponent::rand_per_frame_' will be initialized after [-Wreorder]
 2821 |   bool rand_per_frame_;
      |        ^~~~~~~~~~~~~~~
../nnet3/nnet-simple-component.h:2820:8: warning:   'bool kaldi::nnet3::BayesVecKLGaussianLogStdComponent::KL_output_' [-Wreorder]
 2820 |   bool KL_output_;
      |        ^~~~~~~~~~
../nnet3/nnet-simple-component.h:2775:3: warning:   when initialized here [-Wreorder]
 2775 |   BayesVecKLGaussianLogStdComponent(): input_dim_(0), output_dim_(0), KL_scale_(1.0), input_frame_scale_(false), inv_frame_scale_(false), rand_per_frame_(false), KL_output_(true) { }
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../nnet3/nnet-simple-component.h: In constructor 'kaldi::nnet3::BayesVecKLGaussianComponent::BayesVecKLGaussianComponent()':
../nnet3/nnet-simple-component.h:2882:8: warning: 'kaldi::nnet3::BayesVecKLGaussianComponent::rand_per_frame_' will be initialized after [-Wreorder]
 2882 |   bool rand_per_frame_;
      |        ^~~~~~~~~~~~~~~
../nnet3/nnet-simple-component.h:2881:8: warning:   'bool kaldi::nnet3::BayesVecKLGaussianComponent::KL_output_' [-Wreorder]
 2881 |   bool KL_output_;
      |        ^~~~~~~~~~
../nnet3/nnet-simple-component.h:2835:3: warning:   when initialized here [-Wreorder]
 2835 |   BayesVecKLGaussianComponent(): input_dim_(0), output_dim_(0), KL_scale_(1.0), input_frame_scale_(false), inv_frame_scale_(false), rand_per_frame_(false), KL_output_(true), fix_rand_val_(false) { }
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
../nnet3/nnet-simple-component.h: In constructor 'kaldi::nnet3::BayesVecKLGaussianFComponent::BayesVecKLGaussianFComponent()':
../nnet3/nnet-simple-component.h:2944:8: warning: 'kaldi::nnet3::BayesVecKLGaussianFComponent::rand_per_frame_' will be initialized after [-Wreorder]
 2944 |   bool rand_per_frame_;
      |        ^~~~~~~~~~~~~~~
../nnet3/nnet-simple-component.h:2943:8: warning:   'bool kaldi::nnet3::BayesVecKLGaussianFComponent::KL_output_' [-Wreorder]
 2943 |   bool KL_output_;
      |        ^~~~~~~~~~
../nnet3/nnet-simple-component.h:2897:3: warning:   when initialized here [-Wreorder]
 2897 |   BayesVecKLGaussianFComponent(): input_dim_(0), output_dim_(0), KL_scale_(1.0), input_frame_scale_(false), inv_frame_scale_(false), rand_per_frame_(false), KL_output_(true), fix_rand_val_(false) { }
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
../nnet3/nnet-simple-component.h: In constructor 'kaldi::nnet3::BayesVecKLGaussianVarComponent::BayesVecKLGaussianVarComponent()':
../nnet3/nnet-simple-component.h:3004:8: warning: 'kaldi::nnet3::BayesVecKLGaussianVarComponent::rand_per_frame_' will be initialized after [-Wreorder]
 3004 |   bool rand_per_frame_;
      |        ^~~~~~~~~~~~~~~
../nnet3/nnet-simple-component.h:3003:8: warning:   'bool kaldi::nnet3::BayesVecKLGaussianVarComponent::KL_output_' [-Wreorder]
 3003 |   bool KL_output_;
      |        ^~~~~~~~~~
../nnet3/nnet-simple-component.h:2959:3: warning:   when initialized here [-Wreorder]
 2959 |   BayesVecKLGaussianVarComponent(): input_dim_(0), output_dim_(0), KL_scale_(1.0), input_frame_scale_(false), inv_frame_scale_(false), rand_per_frame_(false), KL_output_(true) { }
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../nnet3/nnet-simple-component.h: In copy constructor 'kaldi::nnet3::CopyNPerDimComponent::CopyNPerDimComponent(const kaldi::nnet3::CopyNPerDimComponent&)':
../nnet3/nnet-simple-component.h:2407:9: warning: 'kaldi::nnet3::CopyNPerDimComponent::copy_num_' will be initialized after [-Wreorder]
 2407 |   int32 copy_num_;
      |         ^~~~~~~~~
../nnet3/nnet-simple-component.h:2406:13: warning:   'kaldi::BaseFloat kaldi::nnet3::CopyNPerDimComponent::scale_' [-Wreorder]
 2406 |   BaseFloat scale_;
      |             ^~~~~~
nnet-simple-component.cc:5364:1: warning:   when initialized here [-Wreorder]
 5364 | CopyNPerDimComponent::CopyNPerDimComponent(const CopyNPerDimComponent &other):
      | ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In member function 'virtual void kaldi::nnet3::MinValueComponent::StoreStats(const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*)':
nnet-simple-component.cc:5563:3: error: expected '}' before 'else'
 5563 |   else
      |   ^~~~
nnet-simple-component.cc:5560:51: note: to match this '{'
 5560 |   if (!test_mode_ && memo->count >= report_step_) {
      |                                                   ^
nnet-simple-component.cc:5563:3: warning: this 'else' clause does not guard... [-Wmisleading-indentation]
 5563 |   else
      |   ^~~~
nnet-simple-component.cc:5565:5: note: ...this statement, but the latter is misleadingly indented as if it were guarded by the 'else'
 5565 |     sum_ = memo->sum;
      |     ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:5569:6: error: 'MinValueComponent' has not been declared
 5569 | void MinValueComponent::ZeroStats() {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::ZeroStats()':
nnet-simple-component.cc:5570:3: error: 'count_' was not declared in this scope
 5570 |   count_ = 0;
      |   ^~~~~~
nnet-simple-component.cc:5571:3: error: 'sum_' was not declared in this scope
 5571 |   sum_ = 0;
      |   ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:5574:6: error: 'MinValueComponent' has not been declared
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5575:36: error: 'ComponentPrecomputedIndexes' does not name a type
 5575 |                              const ComponentPrecomputedIndexes *indexes,
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5580:30: error: 'Component' has not been declared
 5580 |                              Component *to_update, // may be NULL; may be identical
      |                              ^~~~~~~~~
nnet-simple-component.cc:5582:65: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 5582 |                              CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                 ^~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:5583:22: error: 'scale_' was not declared in this scope; did you mean 'scalbl'?
 5583 |   in_deriv->Set(-1.0*scale_);
      |                      ^~~~~~
      |                      scalbl
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:5586:6: error: 'MinValueComponent' has not been declared
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:5587:3: error: 'scale_' was not declared in this scope; did you mean 'scalbl'?
 5587 |   scale_ = 1.0;
      |   ^~~~~~
      |   scalbl
nnet-simple-component.cc:5588:3: error: 'report_step_' was not declared in this scope
 5588 |   report_step_ = 50000;
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:5589:3: error: 'count_' was not declared in this scope
 5589 |   count_ = 0;
      |   ^~~~~~
nnet-simple-component.cc:5590:3: error: 'sum_' was not declared in this scope
 5590 |   sum_ = 0;
      |   ^~~~
nnet-simple-component.cc:5591:3: error: 'test_mode_' was not declared in this scope
 5591 |   test_mode_ = false;
      |   ^~~~~~~~~~
nnet-simple-component.cc:5595:30: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
 5595 |   if (!cfl->GetValue("dim", &dim_) ||
      |                              ^~~~
      |                              dim3
nnet-simple-component.cc:5598:18: error: 'Type' was not declared in this scope
 5598 |               << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                  ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:5602:13: error: 'MinValueComponent' has not been declared
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:39: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
 5602 | std::string MinValueComponent::Info() const {
      |                                       ^~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:5604:13: error: 'Type' was not declared in this scope
 5604 |   stream << Type() << ", dim=" << dim_;
      |             ^~~~
nnet-simple-component.cc:5604:35: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
 5604 |   stream << Type() << ", dim=" << dim_;
      |                                   ^~~~
      |                                   dim3
nnet-simple-component.cc:5605:33: error: 'report_step_' was not declared in this scope
 5605 |   stream << ", report-step=" << report_step_;
      |                                 ^~~~~~~~~~~~
nnet-simple-component.cc:5606:7: error: 'scale_' was not declared in this scope; did you mean 'scalbl'?
 5606 |   if (scale_ != 1.0)
      |       ^~~~~~
      |       scalbl
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:5611:6: error: 'MinValueComponent' has not been declared
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:62: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |                                                              ^~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:5614:30: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
 5614 |   WriteBasicType(os, binary, dim_);
      |                              ^~~~
      |                              dim3
nnet-simple-component.cc:5616:30: error: 'scale_' was not declared in this scope; did you mean 'scalbl'?
 5616 |   WriteBasicType(os, binary, scale_);
      |                              ^~~~~~
      |                              scalbl
nnet-simple-component.cc:5618:30: error: 'report_step_' was not declared in this scope
 5618 |   WriteBasicType(os, binary, report_step_);
      |                              ^~~~~~~~~~~~
nnet-simple-component.cc:5620:30: error: 'test_mode_' was not declared in this scope
 5620 |   WriteBasicType(os, binary, test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:5624:6: error: 'MinValueComponent' has not been declared
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:5626:30: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
 5626 |   ReadBasicType(is, binary, &dim_);
      |                              ^~~~
      |                              dim3
nnet-simple-component.cc:5628:30: error: 'scale_' was not declared in this scope; did you mean 'scalbl'?
 5628 |   ReadBasicType(is, binary, &scale_);
      |                              ^~~~~~
      |                              scalbl
nnet-simple-component.cc:5630:30: error: 'report_step_' was not declared in this scope
 5630 |   ReadBasicType(is, binary, &report_step_);
      |                              ^~~~~~~~~~~~
nnet-simple-component.cc:5632:30: error: 'test_mode_' was not declared in this scope
 5632 |   ReadBasicType(is, binary, &test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:5634:3: error: 'count_' was not declared in this scope
 5634 |   count_ = 0;
      |   ^~~~~~
nnet-simple-component.cc:5635:3: error: 'sum_' was not declared in this scope
 5635 |   sum_ = 0;
      |   ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:5641:7: error: 'ExpComponent' has not been declared
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc:5641:37: error: 'ComponentPrecomputedIndexes' does not name a type
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5643:64: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 5643 |                                  CuMatrixBase<BaseFloat> *out) const {
      |                                                                ^~~~~
nnet-simple-component.cc:5650:6: error: 'ExpComponent' has not been declared
 5650 | void ExpComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~
nnet-simple-component.cc:5651:39: error: 'ComponentPrecomputedIndexes' does not name a type
 5651 |                                 const ComponentPrecomputedIndexes *indexes,
      |                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5656:33: error: 'Component' has not been declared
 5656 |                                 Component *to_update_in,
      |                                 ^~~~~~~~~
nnet-simple-component.cc:5657:68: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 5657 |                                 CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                    ^~~~~
nnet-simple-component.cc:5650:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 5650 | void ExpComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5665:6: error: 'ExpComponent' has not been declared
 5665 | void ExpComponent::StoreStats(const CuMatrixBase<BaseFloat> &in_value,
      |      ^~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::StoreStats(const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*)':
nnet-simple-component.cc:5671:29: error: 'count_' was not declared in this scope
 5671 |   if (RandInt(0, 1) == 0 && count_ != 0)
      |                             ^~~~~~
nnet-simple-component.cc:5677:3: error: 'StoreStatsInternal' was not declared in this scope
 5677 |   StoreStatsInternal(out_value, &temp_deriv);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:5683:7: error: 'LogComponent' has not been declared
 5683 | void* LogComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc:5683:37: error: 'ComponentPrecomputedIndexes' does not name a type
 5683 | void* LogComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5685:64: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 5685 |                                  CuMatrixBase<BaseFloat> *out) const {
      |                                                                ^~~~~
nnet-simple-component.cc:5683:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 5683 | void* LogComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc:5692:6: error: 'LogComponent' has not been declared
 5692 | void LogComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~
nnet-simple-component.cc:5693:39: error: 'ComponentPrecomputedIndexes' does not name a type
 5693 |                                 const ComponentPrecomputedIndexes *indexes,
      |                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5698:33: error: 'Component' has not been declared
 5698 |                                 Component *to_update_in,
      |                                 ^~~~~~~~~
nnet-simple-component.cc:5699:68: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 5699 |                                 CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                    ^~~~~
nnet-simple-component.cc:5692:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 5692 | void LogComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5711:6: error: 'LogComponent' has not been declared
 5711 | void LogComponent::StoreStats(const CuMatrixBase<BaseFloat> &in_value,
      |      ^~~~~~~~~~~~
nnet-simple-component.cc:5711:6: error: redefinition of 'void kaldi::StoreStats(const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*)'
nnet-simple-component.cc:5665:6: note: 'void kaldi::StoreStats(const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*)' previously defined here
 5665 | void ExpComponent::StoreStats(const CuMatrixBase<BaseFloat> &in_value,
      |      ^~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::StoreStats(const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*)':
nnet-simple-component.cc:5717:29: error: 'count_' was not declared in this scope
 5717 |   if (RandInt(0, 1) == 0 && count_ != 0)
      |                             ^~~~~~
nnet-simple-component.cc:5726:3: error: 'StoreStatsInternal' was not declared in this scope
 5726 |   StoreStatsInternal(out_value, &temp_deriv);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:5734:7: error: 'SoftReLUComponent' has not been declared
 5734 | void* SoftReLUComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5735:11: error: 'ComponentPrecomputedIndexes' does not name a type
 5735 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5737:35: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 5737 |     CuMatrixBase<BaseFloat> *out) const {
      |                                   ^~~~~
nnet-simple-component.cc:5734:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 5734 | void* SoftReLUComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc:5743:6: error: 'SoftReLUComponent' has not been declared
 5743 | void SoftReLUComponent::Backprop(
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5745:11: error: 'ComponentPrecomputedIndexes' does not name a type
 5745 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5750:5: error: 'Component' has not been declared
 5750 |     Component *to_update_in,
      |     ^~~~~~~~~
nnet-simple-component.cc:5751:40: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 5751 |     CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                        ^~~~~
nnet-simple-component.cc:5743:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 5743 | void SoftReLUComponent::Backprop(
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5759:6: error: 'SoftReLUComponent' has not been declared
 5759 | void SoftReLUComponent::StoreStats(
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5759:6: error: redefinition of 'void kaldi::StoreStats(const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*)'
nnet-simple-component.cc:5665:6: note: 'void kaldi::StoreStats(const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*)' previously defined here
 5665 | void ExpComponent::StoreStats(const CuMatrixBase<BaseFloat> &in_value,
      |      ^~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::StoreStats(const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*)':
nnet-simple-component.cc:5766:29: error: 'count_' was not declared in this scope
 5766 |   if (RandInt(0, 1) == 0 && count_ != 0)
      |                             ^~~~~~
nnet-simple-component.cc:5772:3: error: 'StoreStatsInternal' was not declared in this scope
 5772 |   StoreStatsInternal(out_value, &temp_deriv);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:5777:7: error: 'FloorReLUComponent' has not been declared
 5777 | void* FloorReLUComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5777:43: error: 'ComponentPrecomputedIndexes' does not name a type
 5777 | void* FloorReLUComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |                                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5779:64: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 5779 |                                  CuMatrixBase<BaseFloat> *out) const {
      |                                                                ^~~~~
nnet-simple-component.cc:5777:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 5777 | void* FloorReLUComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc:5785:6: error: 'FloorReLUComponent' has not been declared
 5785 | void FloorReLUComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5786:39: error: 'ComponentPrecomputedIndexes' does not name a type
 5786 |                                 const ComponentPrecomputedIndexes *indexes,
      |                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5791:33: error: 'Component' has not been declared
 5791 |                                 Component *to_update_in,
      |                                 ^~~~~~~~~
nnet-simple-component.cc:5792:68: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 5792 |                                 CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                    ^~~~~
nnet-simple-component.cc:5785:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 5785 | void FloorReLUComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5798:6: error: 'FloorReLUComponent' has not been declared
 5798 | void FloorReLUComponent::StoreStats(const CuMatrixBase<BaseFloat> &in_value,
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5798:6: error: redefinition of 'void kaldi::StoreStats(const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*)'
nnet-simple-component.cc:5665:6: note: 'void kaldi::StoreStats(const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*)' previously defined here
 5665 | void ExpComponent::StoreStats(const CuMatrixBase<BaseFloat> &in_value,
      |      ^~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::StoreStats(const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*)':
nnet-simple-component.cc:5804:29: error: 'count_' was not declared in this scope
 5804 |   if (RandInt(0, 1) == 0 && count_ != 0)
      |                             ^~~~~~
nnet-simple-component.cc:5810:3: error: 'StoreStatsInternal' was not declared in this scope
 5810 |   StoreStatsInternal(out_value, &temp_deriv);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:5815:6: error: 'KLGaussianComponent' has not been declared
 5815 | void KLGaussianComponent::Init(int32 input_dim, int32 output_dim, BaseFloat scale, bool input_frame_scale, bool inv_frame_scale, bool output_sum, bool has_output)  {
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool, bool, bool)':
nnet-simple-component.cc:5816:3: error: 'input_dim_' was not declared in this scope; did you mean 'input_dim'?
 5816 |   input_dim_ = input_dim;
      |   ^~~~~~~~~~
      |   input_dim
nnet-simple-component.cc:5817:3: error: 'output_dim_' was not declared in this scope; did you mean 'output_dim'?
 5817 |   output_dim_ = output_dim;
      |   ^~~~~~~~~~~
      |   output_dim
nnet-simple-component.cc:5818:3: error: 'scale_' was not declared in this scope; did you mean 'scale'?
 5818 |   scale_ = scale;
      |   ^~~~~~
      |   scale
nnet-simple-component.cc:5819:3: error: 'input_frame_scale_' was not declared in this scope; did you mean 'input_frame_scale'?
 5819 |   input_frame_scale_ = input_frame_scale;
      |   ^~~~~~~~~~~~~~~~~~
      |   input_frame_scale
nnet-simple-component.cc:5820:3: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'inv_frame_scale'?
 5820 |   inv_frame_scale_ = inv_frame_scale;
      |   ^~~~~~~~~~~~~~~~
      |   inv_frame_scale
nnet-simple-component.cc:5821:3: error: 'output_sum_' was not declared in this scope; did you mean 'output_sum'?
 5821 |   output_sum_ = output_sum;
      |   ^~~~~~~~~~~
      |   output_sum
nnet-simple-component.cc:5822:3: error: 'has_output_' was not declared in this scope; did you mean 'has_output'?
 5822 |   has_output_ = has_output;
      |   ^~~~~~~~~~~
      |   has_output
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:5836:6: error: 'KLGaussianComponent' has not been declared
 5836 | void KLGaussianComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5836:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:5848:18: error: 'Type' was not declared in this scope
 5848 |               << Type();
      |                  ^~~~
nnet-simple-component.cc:5856:18: error: 'Type' was not declared in this scope
 5856 |               << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                  ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:5893:7: error: 'KLGaussianComponent' has not been declared
 5893 | void* KLGaussianComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5894:11: error: 'ComponentPrecomputedIndexes' does not name a type
 5894 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5896:35: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 5896 |     CuMatrixBase<BaseFloat> *out) const {
      |                                   ^~~~~
nnet-simple-component.cc:5893:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 5893 | void* KLGaussianComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:5897:32: error: 'input_dim_' was not declared in this scope
 5897 |   KALDI_ASSERT(in.NumCols() == input_dim_);
      |                                ^~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:5899:7: error: 'has_output_' was not declared in this scope
 5899 |   if (has_output_) {
      |       ^~~~~~~~~~~
nnet-simple-component.cc:5903:8: error: 'input_frame_scale_' was not declared in this scope
 5903 |    if (input_frame_scale_) {
      |        ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5904:15: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 5904 |   num_dims = (input_dim_-1)/4;
      |               ^~~~~~~~~~
      |               num_dims
nnet-simple-component.cc:5906:14: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 5906 |   num_dims = input_dim_/4;
      |              ^~~~~~~~~~
      |              num_dims
nnet-simple-component.cc:5943:8: error: 'output_sum_' was not declared in this scope
 5943 |    if (output_sum_) {
      |        ^~~~~~~~~~~
nnet-simple-component.cc:5949:8: error: 'input_frame_scale_' was not declared in this scope
 5949 |    if (input_frame_scale_) {
      |        ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5952:9: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'frame_scale'?
 5952 |     if (inv_frame_scale_) {
      |         ^~~~~~~~~~~~~~~~
      |         frame_scale
nnet-simple-component.cc:5961:8: error: 'scale_' was not declared in this scope; did you mean 'scalbl'?
 5961 |    if (scale_ != 2.0) {
      |        ^~~~~~
      |        scalbl
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:5972:6: error: 'KLGaussianComponent' has not been declared
 5972 | void KLGaussianComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5973:37: error: 'ComponentPrecomputedIndexes' does not name a type
 5973 |                               const ComponentPrecomputedIndexes *indexes,
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5978:31: error: 'Component' has not been declared
 5978 |                               Component *to_update,
      |                               ^~~~~~~~~
nnet-simple-component.cc:5979:66: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 5979 |                               CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:5972:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 5972 | void KLGaussianComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:5983:8: error: 'input_frame_scale_' was not declared in this scope
 5983 |    if (input_frame_scale_) {
      |        ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5984:15: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 5984 |   num_dims = (input_dim_-1)/4;
      |               ^~~~~~~~~~
      |               num_dims
nnet-simple-component.cc:5986:14: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 5986 |   num_dims = input_dim_/4;
      |              ^~~~~~~~~~
      |              num_dims
nnet-simple-component.cc:6038:48: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 6038 |   CuMatrix<BaseFloat> out_deriv_temp(num_rows, input_dim_);
      |                                                ^~~~~~~~~~
      |                                                num_dims
nnet-simple-component.cc:6042:7: error: 'input_frame_scale_' was not declared in this scope
 6042 |   if (input_frame_scale_) {
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6046:8: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'frame_scale'?
 6046 |    if (inv_frame_scale_) {
      |        ^~~~~~~~~~~~~~~~
      |        frame_scale
nnet-simple-component.cc:6052:7: error: 'scale_' was not declared in this scope; did you mean 'scalbl'?
 6052 |   if (scale_ != 1.0) {
      |       ^~~~~~
      |       scalbl
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6058:6: error: 'KLGaussianComponent' has not been declared
 6058 | void KLGaussianComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6058:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:6061:30: error: 'input_dim_' was not declared in this scope
 6061 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:6063:30: error: 'output_dim_' was not declared in this scope
 6063 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:6065:30: error: 'scale_' was not declared in this scope; did you mean 'scalbl'?
 6065 |   ReadBasicType(is, binary, &scale_);
      |                              ^~~~~~
      |                              scalbl
nnet-simple-component.cc:6067:30: error: 'input_frame_scale_' was not declared in this scope
 6067 |   ReadBasicType(is, binary, &input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6069:30: error: 'inv_frame_scale_' was not declared in this scope
 6069 |   ReadBasicType(is, binary, &inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:6071:30: error: 'output_sum_' was not declared in this scope
 6071 |   ReadBasicType(is, binary, &output_sum_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:6073:30: error: 'has_output_' was not declared in this scope
 6073 |   ReadBasicType(is, binary, &has_output_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6077:6: error: 'KLGaussianComponent' has not been declared
 6077 | void KLGaussianComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6077:64: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 6077 | void KLGaussianComponent::Write(std::ostream &os, bool binary) const {
      |                                                                ^~~~~
nnet-simple-component.cc:6077:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 6077 | void KLGaussianComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:6080:30: error: 'input_dim_' was not declared in this scope
 6080 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:6082:30: error: 'output_dim_' was not declared in this scope
 6082 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:6084:30: error: 'scale_' was not declared in this scope; did you mean 'scalbl'?
 6084 |   WriteBasicType(os, binary, scale_);
      |                              ^~~~~~
      |                              scalbl
nnet-simple-component.cc:6086:30: error: 'input_frame_scale_' was not declared in this scope
 6086 |   WriteBasicType(os, binary, input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6088:30: error: 'inv_frame_scale_' was not declared in this scope
 6088 |   WriteBasicType(os, binary, inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:6090:30: error: 'output_sum_' was not declared in this scope
 6090 |   WriteBasicType(os, binary, output_sum_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:6092:30: error: 'has_output_' was not declared in this scope
 6092 |   WriteBasicType(os, binary, has_output_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6096:13: error: 'KLGaussianComponent' has not been declared
 6096 | std::string KLGaussianComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6096:41: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
 6096 | std::string KLGaussianComponent::Info() const {
      |                                         ^~~~~
nnet-simple-component.cc:6096:13: error: redefinition of 'std::string kaldi::Info()'
 6096 | std::string KLGaussianComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:6098:13: error: 'Type' was not declared in this scope
 6098 |   stream << Type() << ", input-dim=" << input_dim_
      |             ^~~~
nnet-simple-component.cc:6098:41: error: 'input_dim_' was not declared in this scope
 6098 |   stream << Type() << ", input-dim=" << input_dim_
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:6099:32: error: 'output_dim_' was not declared in this scope
 6099 |          << ", output-dim=" << output_dim_
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:6100:27: error: 'scale_' was not declared in this scope; did you mean 'scalbl'?
 6100 |          << ", scale=" << scale_
      |                           ^~~~~~
      |                           scalbl
nnet-simple-component.cc:6101:32: error: 'input_frame_scale_' was not declared in this scope
 6101 |  << ", input-frame-scale=" << (input_frame_scale_ ? "true" : "false")
      |                                ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6102:30: error: 'inv_frame_scale_' was not declared in this scope
 6102 |  << ", inv-frame-scale=" << (inv_frame_scale_ ? "true" : "false")
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:6103:25: error: 'output_sum_' was not declared in this scope
 6103 |  << ", output-sum=" << (output_sum_ ? "true" : "false")
      |                         ^~~~~~~~~~~
nnet-simple-component.cc:6104:25: error: 'has_output_' was not declared in this scope
 6104 |  << ", has-output=" << (has_output_ ? "true" : "false");
      |                         ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6110:6: error: 'KLGaussianLogStdComponent' has not been declared
 6110 | void KLGaussianLogStdComponent::Init(int32 input_dim, int32 output_dim, BaseFloat scale, bool input_frame_scale, bool inv_frame_scale, bool output_sum, bool has_output)  {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6110:6: error: redefinition of 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool, bool, bool)'
nnet-simple-component.cc:5815:6: note: 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool, bool, bool)' previously defined here
 5815 | void KLGaussianComponent::Init(int32 input_dim, int32 output_dim, BaseFloat scale, bool input_frame_scale, bool inv_frame_scale, bool output_sum, bool has_output)  {
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool, bool, bool)':
nnet-simple-component.cc:6111:3: error: 'input_dim_' was not declared in this scope; did you mean 'input_dim'?
 6111 |   input_dim_ = input_dim;
      |   ^~~~~~~~~~
      |   input_dim
nnet-simple-component.cc:6112:3: error: 'output_dim_' was not declared in this scope; did you mean 'output_dim'?
 6112 |   output_dim_ = output_dim;
      |   ^~~~~~~~~~~
      |   output_dim
nnet-simple-component.cc:6113:3: error: 'scale_' was not declared in this scope; did you mean 'scale'?
 6113 |   scale_ = scale;
      |   ^~~~~~
      |   scale
nnet-simple-component.cc:6114:3: error: 'input_frame_scale_' was not declared in this scope; did you mean 'input_frame_scale'?
 6114 |   input_frame_scale_ = input_frame_scale;
      |   ^~~~~~~~~~~~~~~~~~
      |   input_frame_scale
nnet-simple-component.cc:6115:3: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'inv_frame_scale'?
 6115 |   inv_frame_scale_ = inv_frame_scale;
      |   ^~~~~~~~~~~~~~~~
      |   inv_frame_scale
nnet-simple-component.cc:6116:3: error: 'output_sum_' was not declared in this scope; did you mean 'output_sum'?
 6116 |   output_sum_ = output_sum;
      |   ^~~~~~~~~~~
      |   output_sum
nnet-simple-component.cc:6117:3: error: 'has_output_' was not declared in this scope; did you mean 'has_output'?
 6117 |   has_output_ = has_output;
      |   ^~~~~~~~~~~
      |   has_output
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6131:6: error: 'KLGaussianLogStdComponent' has not been declared
 6131 | void KLGaussianLogStdComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6131:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:6143:18: error: 'Type' was not declared in this scope
 6143 |               << Type();
      |                  ^~~~
nnet-simple-component.cc:6151:18: error: 'Type' was not declared in this scope
 6151 |               << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                  ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6188:7: error: 'KLGaussianLogStdComponent' has not been declared
 6188 | void* KLGaussianLogStdComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6189:11: error: 'ComponentPrecomputedIndexes' does not name a type
 6189 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6191:35: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 6191 |     CuMatrixBase<BaseFloat> *out) const {
      |                                   ^~~~~
nnet-simple-component.cc:6188:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 6188 | void* KLGaussianLogStdComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:6192:32: error: 'input_dim_' was not declared in this scope
 6192 |   KALDI_ASSERT(in.NumCols() == input_dim_);
      |                                ^~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:6194:7: error: 'has_output_' was not declared in this scope
 6194 |   if (has_output_) {
      |       ^~~~~~~~~~~
nnet-simple-component.cc:6198:8: error: 'input_frame_scale_' was not declared in this scope
 6198 |    if (input_frame_scale_) {
      |        ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6199:15: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 6199 |   num_dims = (input_dim_-1)/4;
      |               ^~~~~~~~~~
      |               num_dims
nnet-simple-component.cc:6201:14: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 6201 |   num_dims = input_dim_/4;
      |              ^~~~~~~~~~
      |              num_dims
nnet-simple-component.cc:6240:8: error: 'output_sum_' was not declared in this scope
 6240 |    if (output_sum_) {
      |        ^~~~~~~~~~~
nnet-simple-component.cc:6246:8: error: 'input_frame_scale_' was not declared in this scope
 6246 |    if (input_frame_scale_) {
      |        ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6249:9: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'frame_scale'?
 6249 |     if (inv_frame_scale_) {
      |         ^~~~~~~~~~~~~~~~
      |         frame_scale
nnet-simple-component.cc:6258:8: error: 'scale_' was not declared in this scope; did you mean 'scalbl'?
 6258 |    if (scale_ != 2.0) {
      |        ^~~~~~
      |        scalbl
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6269:6: error: 'KLGaussianLogStdComponent' has not been declared
 6269 | void KLGaussianLogStdComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6270:37: error: 'ComponentPrecomputedIndexes' does not name a type
 6270 |                               const ComponentPrecomputedIndexes *indexes,
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6275:31: error: 'Component' has not been declared
 6275 |                               Component *to_update,
      |                               ^~~~~~~~~
nnet-simple-component.cc:6276:66: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 6276 |                               CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:6269:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 6269 | void KLGaussianLogStdComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:6280:8: error: 'input_frame_scale_' was not declared in this scope
 6280 |    if (input_frame_scale_) {
      |        ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6281:15: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 6281 |   num_dims = (input_dim_-1)/4;
      |               ^~~~~~~~~~
      |               num_dims
nnet-simple-component.cc:6283:14: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 6283 |   num_dims = input_dim_/4;
      |              ^~~~~~~~~~
      |              num_dims
nnet-simple-component.cc:6335:48: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 6335 |   CuMatrix<BaseFloat> out_deriv_temp(num_rows, input_dim_);
      |                                                ^~~~~~~~~~
      |                                                num_dims
nnet-simple-component.cc:6339:7: error: 'input_frame_scale_' was not declared in this scope
 6339 |   if (input_frame_scale_) {
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6343:8: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'frame_scale'?
 6343 |    if (inv_frame_scale_) {
      |        ^~~~~~~~~~~~~~~~
      |        frame_scale
nnet-simple-component.cc:6349:7: error: 'scale_' was not declared in this scope; did you mean 'scalbl'?
 6349 |   if (scale_ != 1.0) {
      |       ^~~~~~
      |       scalbl
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6355:6: error: 'KLGaussianLogStdComponent' has not been declared
 6355 | void KLGaussianLogStdComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6355:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:6358:30: error: 'input_dim_' was not declared in this scope
 6358 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:6360:30: error: 'output_dim_' was not declared in this scope
 6360 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:6362:30: error: 'scale_' was not declared in this scope; did you mean 'scalbl'?
 6362 |   ReadBasicType(is, binary, &scale_);
      |                              ^~~~~~
      |                              scalbl
nnet-simple-component.cc:6364:30: error: 'input_frame_scale_' was not declared in this scope
 6364 |   ReadBasicType(is, binary, &input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6366:30: error: 'inv_frame_scale_' was not declared in this scope
 6366 |   ReadBasicType(is, binary, &inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:6368:30: error: 'output_sum_' was not declared in this scope
 6368 |   ReadBasicType(is, binary, &output_sum_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:6370:30: error: 'has_output_' was not declared in this scope
 6370 |   ReadBasicType(is, binary, &has_output_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6374:6: error: 'KLGaussianLogStdComponent' has not been declared
 6374 | void KLGaussianLogStdComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6374:70: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 6374 | void KLGaussianLogStdComponent::Write(std::ostream &os, bool binary) const {
      |                                                                      ^~~~~
nnet-simple-component.cc:6374:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 6374 | void KLGaussianLogStdComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:6377:30: error: 'input_dim_' was not declared in this scope
 6377 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:6379:30: error: 'output_dim_' was not declared in this scope
 6379 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:6381:30: error: 'scale_' was not declared in this scope; did you mean 'scalbl'?
 6381 |   WriteBasicType(os, binary, scale_);
      |                              ^~~~~~
      |                              scalbl
nnet-simple-component.cc:6383:30: error: 'input_frame_scale_' was not declared in this scope
 6383 |   WriteBasicType(os, binary, input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6385:30: error: 'inv_frame_scale_' was not declared in this scope
 6385 |   WriteBasicType(os, binary, inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:6387:30: error: 'output_sum_' was not declared in this scope
 6387 |   WriteBasicType(os, binary, output_sum_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:6389:30: error: 'has_output_' was not declared in this scope
 6389 |   WriteBasicType(os, binary, has_output_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6393:13: error: 'KLGaussianLogStdComponent' has not been declared
 6393 | std::string KLGaussianLogStdComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6393:47: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
 6393 | std::string KLGaussianLogStdComponent::Info() const {
      |                                               ^~~~~
nnet-simple-component.cc:6393:13: error: redefinition of 'std::string kaldi::Info()'
 6393 | std::string KLGaussianLogStdComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:6395:13: error: 'Type' was not declared in this scope
 6395 |   stream << Type() << ", input-dim=" << input_dim_
      |             ^~~~
nnet-simple-component.cc:6395:41: error: 'input_dim_' was not declared in this scope
 6395 |   stream << Type() << ", input-dim=" << input_dim_
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:6396:32: error: 'output_dim_' was not declared in this scope
 6396 |          << ", output-dim=" << output_dim_
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:6397:27: error: 'scale_' was not declared in this scope; did you mean 'scalbl'?
 6397 |          << ", scale=" << scale_
      |                           ^~~~~~
      |                           scalbl
nnet-simple-component.cc:6398:32: error: 'input_frame_scale_' was not declared in this scope
 6398 |  << ", input-frame-scale=" << (input_frame_scale_ ? "true" : "false")
      |                                ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6399:30: error: 'inv_frame_scale_' was not declared in this scope
 6399 |  << ", inv-frame-scale=" << (inv_frame_scale_ ? "true" : "false")
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:6400:25: error: 'output_sum_' was not declared in this scope
 6400 |  << ", output-sum=" << (output_sum_ ? "true" : "false")
      |                         ^~~~~~~~~~~
nnet-simple-component.cc:6401:25: error: 'has_output_' was not declared in this scope
 6401 |  << ", has-output=" << (has_output_ ? "true" : "false");
      |                         ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6407:6: error: 'BayesVecKLGaussianLogStdComponent' has not been declared
 6407 | void BayesVecKLGaussianLogStdComponent::Init(int32 input_dim, int32 output_dim, BaseFloat KL_scale, bool input_frame_scale, bool inv_frame_scale, bool rand_per_frame, bool KL_output)  {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6407:6: error: redefinition of 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool, bool, bool)'
nnet-simple-component.cc:5815:6: note: 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool, bool, bool)' previously defined here
 5815 | void KLGaussianComponent::Init(int32 input_dim, int32 output_dim, BaseFloat scale, bool input_frame_scale, bool inv_frame_scale, bool output_sum, bool has_output)  {
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool, bool, bool)':
nnet-simple-component.cc:6408:3: error: 'input_dim_' was not declared in this scope; did you mean 'input_dim'?
 6408 |   input_dim_ = input_dim;
      |   ^~~~~~~~~~
      |   input_dim
nnet-simple-component.cc:6409:3: error: 'output_dim_' was not declared in this scope; did you mean 'output_dim'?
 6409 |   output_dim_ = output_dim;
      |   ^~~~~~~~~~~
      |   output_dim
nnet-simple-component.cc:6410:3: error: 'KL_scale_' was not declared in this scope; did you mean 'KL_scale'?
 6410 |   KL_scale_ = KL_scale;
      |   ^~~~~~~~~
      |   KL_scale
nnet-simple-component.cc:6411:3: error: 'input_frame_scale_' was not declared in this scope; did you mean 'input_frame_scale'?
 6411 |   input_frame_scale_ = input_frame_scale;
      |   ^~~~~~~~~~~~~~~~~~
      |   input_frame_scale
nnet-simple-component.cc:6412:3: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'inv_frame_scale'?
 6412 |   inv_frame_scale_ = inv_frame_scale;
      |   ^~~~~~~~~~~~~~~~
      |   inv_frame_scale
nnet-simple-component.cc:6413:3: error: 'rand_per_frame_' was not declared in this scope; did you mean 'rand_per_frame'?
 6413 |   rand_per_frame_ = rand_per_frame;
      |   ^~~~~~~~~~~~~~~
      |   rand_per_frame
nnet-simple-component.cc:6414:3: error: 'KL_output_' was not declared in this scope; did you mean 'KL_output'?
 6414 |   KL_output_ = KL_output;
      |   ^~~~~~~~~~
      |   KL_output
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6431:6: error: 'BayesVecKLGaussianLogStdComponent' has not been declared
 6431 | void BayesVecKLGaussianLogStdComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6431:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:6435:3: error: 'test_mode_' was not declared in this scope
 6435 |   test_mode_ = false;
      |   ^~~~~~~~~~
nnet-simple-component.cc:6444:18: error: 'Type' was not declared in this scope
 6444 |               << Type();
      |                  ^~~~
nnet-simple-component.cc:6453:18: error: 'Type' was not declared in this scope
 6453 |               << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                  ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6457:7: error: 'BayesVecKLGaussianLogStdComponent' has not been declared
 6457 | void* BayesVecKLGaussianLogStdComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6458:11: error: 'ComponentPrecomputedIndexes' does not name a type
 6458 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6460:35: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 6460 |     CuMatrixBase<BaseFloat> *out) const {
      |                                   ^~~~~
nnet-simple-component.cc:6457:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 6457 | void* BayesVecKLGaussianLogStdComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:6461:32: error: 'input_dim_' was not declared in this scope
 6461 |   KALDI_ASSERT(in.NumCols() == input_dim_ && out->NumCols() == output_dim_);
      |                                ^~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:6461:64: error: 'output_dim_' was not declared in this scope
 6461 |   KALDI_ASSERT(in.NumCols() == input_dim_ && out->NumCols() == output_dim_);
      |                                                                ^~~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:6465:7: error: 'input_frame_scale_' was not declared in this scope
 6465 |   if (input_frame_scale_) {
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6466:16: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 6466 |    num_dims = (input_dim_-1)/4;
      |                ^~~~~~~~~~
      |                num_dims
nnet-simple-component.cc:6468:15: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 6468 |    num_dims = input_dim_/4;
      |               ^~~~~~~~~~
      |               num_dims
nnet-simple-component.cc:6470:7: error: 'KL_output_' was not declared in this scope
 6470 |   if (KL_output_) {
      |       ^~~~~~~~~~
nnet-simple-component.cc:6471:4: error: 'output_dim_' was not declared in this scope
 6471 |    output_dim_ == num_dims+1;
      |    ^~~~~~~~~~~
nnet-simple-component.cc:6473:4: error: 'output_dim_' was not declared in this scope
 6473 |    output_dim_ == num_dims;
      |    ^~~~~~~~~~~
nnet-simple-component.cc:6480:8: error: 'test_mode_' was not declared in this scope
 6480 |   if (!test_mode_) {
      |        ^~~~~~~~~~
nnet-simple-component.cc:6482:4: error: 'Memo' was not declared in this scope
 6482 |    Memo *memo = new Memo;
      |    ^~~~
nnet-simple-component.cc:6482:10: error: 'memo' was not declared in this scope
 6482 |    Memo *memo = new Memo;
      |          ^~~~
nnet-simple-component.cc:6482:21: error: 'Memo' does not name a type
 6482 |    Memo *memo = new Memo;
      |                     ^~~~
nnet-simple-component.cc:6490:9: error: 'rand_per_frame_' was not declared in this scope
 6490 |    if (!rand_per_frame_) {
      |         ^~~~~~~~~~~~~~~
nnet-simple-component.cc:6492:36: error: 'random_generator_' was not declared in this scope
 6492 |     const_cast<CuRand<BaseFloat>&>(random_generator_).RandGaussian(&(memo->rand_vec));
      |                                    ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6496:36: error: 'random_generator_' was not declared in this scope
 6496 |     const_cast<CuRand<BaseFloat>&>(random_generator_).RandGaussian(&(memo->rand_mat));
      |                                    ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6502:8: error: 'KL_scale_' was not declared in this scope
 6502 |    if (KL_scale_ != 0) {
      |        ^~~~~~~~~
nnet-simple-component.cc:6534:9: error: 'input_frame_scale_' was not declared in this scope
 6534 |     if (input_frame_scale_) {
      |         ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6537:10: error: 'inv_frame_scale_' was not declared in this scope
 6537 |      if (inv_frame_scale_) {
      |          ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:6542:9: error: 'KL_output_' was not declared in this scope
 6542 |     if (KL_output_) {
      |         ^~~~~~~~~~
nnet-simple-component.cc:6549:10: error: 'input_frame_scale_' was not declared in this scope
 6549 |      if (input_frame_scale_) {
      |          ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6568:6: error: 'BayesVecKLGaussianLogStdComponent' has not been declared
 6568 | void BayesVecKLGaussianLogStdComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6569:37: error: 'ComponentPrecomputedIndexes' does not name a type
 6569 |                               const ComponentPrecomputedIndexes *indexes,
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6574:31: error: 'Component' has not been declared
 6574 |                               Component *to_update,
      |                               ^~~~~~~~~
nnet-simple-component.cc:6575:66: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 6575 |                               CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:6568:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 6568 | void BayesVecKLGaussianLogStdComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:6579:7: error: 'input_frame_scale_' was not declared in this scope
 6579 |   if (input_frame_scale_) {
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6580:16: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 6580 |    num_dims = (input_dim_-1)/4;
      |                ^~~~~~~~~~
      |                num_dims
nnet-simple-component.cc:6582:15: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 6582 |    num_dims = input_dim_/4;
      |               ^~~~~~~~~~
      |               num_dims
nnet-simple-component.cc:6590:8: error: 'test_mode_' was not declared in this scope
 6590 |   if (!test_mode_) {
      |        ^~~~~~~~~~
nnet-simple-component.cc:6592:4: error: 'Memo' was not declared in this scope; did you mean 'memo'?
 6592 |    Memo *memo_in = static_cast<Memo*>(memo);
      |    ^~~~
      |    memo
nnet-simple-component.cc:6592:10: error: 'memo_in' was not declared in this scope; did you mean 'memo'?
 6592 |    Memo *memo_in = static_cast<Memo*>(memo);
      |          ^~~~~~~
      |          memo
nnet-simple-component.cc:6592:32: error: 'Memo' does not name a type; did you mean 'memo'?
 6592 |    Memo *memo_in = static_cast<Memo*>(memo);
      |                                ^~~~
      |                                memo
nnet-simple-component.cc:6592:36: error: expected '>' before '*' token
 6592 |    Memo *memo_in = static_cast<Memo*>(memo);
      |                                    ^
nnet-simple-component.cc:6592:36: error: expected '(' before '*' token
 6592 |    Memo *memo_in = static_cast<Memo*>(memo);
      |                                    ^
      |                                    (
nnet-simple-component.cc:6592:37: error: expected primary-expression before '>' token
 6592 |    Memo *memo_in = static_cast<Memo*>(memo);
      |                                     ^
nnet-simple-component.cc:6592:44: error: expected ')' before ';' token
 6592 |    Memo *memo_in = static_cast<Memo*>(memo);
      |                                            ^
      |                                            )
nnet-simple-component.cc:6597:9: error: 'rand_per_frame_' was not declared in this scope
 6597 |    if (!rand_per_frame_) {
      |         ^~~~~~~~~~~~~~~
nnet-simple-component.cc:6603:8: error: 'KL_scale_' was not declared in this scope
 6603 |    if (KL_scale_ != 0) {
      |        ^~~~~~~~~
nnet-simple-component.cc:6618:9: error: 'input_frame_scale_' was not declared in this scope
 6618 |     if (input_frame_scale_) {
      |         ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6631:6: error: 'BayesVecKLGaussianLogStdComponent' has not been declared
 6631 | void BayesVecKLGaussianLogStdComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6631:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:6634:30: error: 'input_dim_' was not declared in this scope
 6634 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:6636:30: error: 'output_dim_' was not declared in this scope
 6636 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:6638:30: error: 'KL_scale_' was not declared in this scope
 6638 |   ReadBasicType(is, binary, &KL_scale_);
      |                              ^~~~~~~~~
nnet-simple-component.cc:6640:30: error: 'input_frame_scale_' was not declared in this scope
 6640 |   ReadBasicType(is, binary, &input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6642:30: error: 'inv_frame_scale_' was not declared in this scope
 6642 |   ReadBasicType(is, binary, &inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:6644:30: error: 'rand_per_frame_' was not declared in this scope
 6644 |   ReadBasicType(is, binary, &rand_per_frame_);
      |                              ^~~~~~~~~~~~~~~
nnet-simple-component.cc:6646:30: error: 'test_mode_' was not declared in this scope
 6646 |   ReadBasicType(is, binary, &test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:6648:30: error: 'KL_output_' was not declared in this scope
 6648 |   ReadBasicType(is, binary, &KL_output_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6652:6: error: 'BayesVecKLGaussianLogStdComponent' has not been declared
 6652 | void BayesVecKLGaussianLogStdComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6652:78: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 6652 | void BayesVecKLGaussianLogStdComponent::Write(std::ostream &os, bool binary) const {
      |                                                                              ^~~~~
nnet-simple-component.cc:6652:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 6652 | void BayesVecKLGaussianLogStdComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:6655:30: error: 'input_dim_' was not declared in this scope
 6655 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:6657:30: error: 'output_dim_' was not declared in this scope
 6657 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:6659:30: error: 'KL_scale_' was not declared in this scope
 6659 |   WriteBasicType(os, binary, KL_scale_);
      |                              ^~~~~~~~~
nnet-simple-component.cc:6661:30: error: 'input_frame_scale_' was not declared in this scope
 6661 |   WriteBasicType(os, binary, input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6663:30: error: 'inv_frame_scale_' was not declared in this scope
 6663 |   WriteBasicType(os, binary, inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:6665:30: error: 'rand_per_frame_' was not declared in this scope
 6665 |   WriteBasicType(os, binary, rand_per_frame_);
      |                              ^~~~~~~~~~~~~~~
nnet-simple-component.cc:6667:30: error: 'test_mode_' was not declared in this scope
 6667 |   WriteBasicType(os, binary, test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:6669:30: error: 'KL_output_' was not declared in this scope
 6669 |   WriteBasicType(os, binary, KL_output_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6673:13: error: 'BayesVecKLGaussianLogStdComponent' has not been declared
 6673 | std::string BayesVecKLGaussianLogStdComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6673:55: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
 6673 | std::string BayesVecKLGaussianLogStdComponent::Info() const {
      |                                                       ^~~~~
nnet-simple-component.cc:6673:13: error: redefinition of 'std::string kaldi::Info()'
 6673 | std::string BayesVecKLGaussianLogStdComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:6675:13: error: 'Type' was not declared in this scope
 6675 |   stream << Type() << ", input-dim=" << input_dim_
      |             ^~~~
nnet-simple-component.cc:6675:41: error: 'input_dim_' was not declared in this scope
 6675 |   stream << Type() << ", input-dim=" << input_dim_
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:6676:32: error: 'output_dim_' was not declared in this scope
 6676 |          << ", output-dim=" << output_dim_
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:6677:30: error: 'KL_scale_' was not declared in this scope
 6677 |          << ", KL-scale=" << KL_scale_
      |                              ^~~~~~~~~
nnet-simple-component.cc:6678:32: error: 'input_frame_scale_' was not declared in this scope
 6678 |  << ", input-frame-scale=" << (input_frame_scale_ ? "true" : "false")
      |                                ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6679:30: error: 'inv_frame_scale_' was not declared in this scope
 6679 |  << ", inv-frame-scale=" << (inv_frame_scale_ ? "true" : "false")
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:6680:29: error: 'rand_per_frame_' was not declared in this scope
 6680 |  << ", rand-per-frame=" << (rand_per_frame_ ? "true" : "false")
      |                             ^~~~~~~~~~~~~~~
nnet-simple-component.cc:6681:24: error: 'test_mode_' was not declared in this scope
 6681 |  << ", test-mode=" << (test_mode_ ? "true" : "false")
      |                        ^~~~~~~~~~
nnet-simple-component.cc:6682:24: error: 'KL_output_' was not declared in this scope
 6682 |  << ", KL-output=" << (KL_output_ ? "true" : "false");
      |                        ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6688:6: error: 'BayesVecKLGaussianComponent' has not been declared
 6688 | void BayesVecKLGaussianComponent::Init(int32 input_dim, int32 output_dim, BaseFloat KL_scale, bool input_frame_scale, bool inv_frame_scale, bool rand_per_frame, bool KL_output, bool fix_rand_val)  {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool, bool, bool, bool)':
nnet-simple-component.cc:6689:3: error: 'input_dim_' was not declared in this scope; did you mean 'input_dim'?
 6689 |   input_dim_ = input_dim;
      |   ^~~~~~~~~~
      |   input_dim
nnet-simple-component.cc:6690:3: error: 'output_dim_' was not declared in this scope; did you mean 'output_dim'?
 6690 |   output_dim_ = output_dim;
      |   ^~~~~~~~~~~
      |   output_dim
nnet-simple-component.cc:6691:3: error: 'KL_scale_' was not declared in this scope; did you mean 'KL_scale'?
 6691 |   KL_scale_ = KL_scale;
      |   ^~~~~~~~~
      |   KL_scale
nnet-simple-component.cc:6692:3: error: 'input_frame_scale_' was not declared in this scope; did you mean 'input_frame_scale'?
 6692 |   input_frame_scale_ = input_frame_scale;
      |   ^~~~~~~~~~~~~~~~~~
      |   input_frame_scale
nnet-simple-component.cc:6693:3: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'inv_frame_scale'?
 6693 |   inv_frame_scale_ = inv_frame_scale;
      |   ^~~~~~~~~~~~~~~~
      |   inv_frame_scale
nnet-simple-component.cc:6694:3: error: 'rand_per_frame_' was not declared in this scope; did you mean 'rand_per_frame'?
 6694 |   rand_per_frame_ = rand_per_frame;
      |   ^~~~~~~~~~~~~~~
      |   rand_per_frame
nnet-simple-component.cc:6695:3: error: 'KL_output_' was not declared in this scope; did you mean 'KL_output'?
 6695 |   KL_output_ = KL_output;
      |   ^~~~~~~~~~
      |   KL_output
nnet-simple-component.cc:6696:3: error: 'fix_rand_val_' was not declared in this scope; did you mean 'fix_rand_val'?
 6696 |   fix_rand_val_ = fix_rand_val;
      |   ^~~~~~~~~~~~~
      |   fix_rand_val
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6713:6: error: 'BayesVecKLGaussianComponent' has not been declared
 6713 | void BayesVecKLGaussianComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6713:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:6717:3: error: 'test_mode_' was not declared in this scope
 6717 |   test_mode_ = false;
      |   ^~~~~~~~~~
nnet-simple-component.cc:6727:18: error: 'Type' was not declared in this scope
 6727 |               << Type();
      |                  ^~~~
nnet-simple-component.cc:6737:18: error: 'Type' was not declared in this scope
 6737 |               << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                  ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6741:7: error: 'BayesVecKLGaussianComponent' has not been declared
 6741 | void* BayesVecKLGaussianComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6742:11: error: 'ComponentPrecomputedIndexes' does not name a type
 6742 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6744:35: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 6744 |     CuMatrixBase<BaseFloat> *out) const {
      |                                   ^~~~~
nnet-simple-component.cc:6741:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 6741 | void* BayesVecKLGaussianComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:6745:32: error: 'input_dim_' was not declared in this scope
 6745 |   KALDI_ASSERT(in.NumCols() == input_dim_ && out->NumCols() == output_dim_);
      |                                ^~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:6745:64: error: 'output_dim_' was not declared in this scope
 6745 |   KALDI_ASSERT(in.NumCols() == input_dim_ && out->NumCols() == output_dim_);
      |                                                                ^~~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:6749:7: error: 'input_frame_scale_' was not declared in this scope
 6749 |   if (input_frame_scale_) {
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6750:16: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 6750 |    num_dims = (input_dim_-1)/4;
      |                ^~~~~~~~~~
      |                num_dims
nnet-simple-component.cc:6752:15: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 6752 |    num_dims = input_dim_/4;
      |               ^~~~~~~~~~
      |               num_dims
nnet-simple-component.cc:6754:7: error: 'KL_output_' was not declared in this scope
 6754 |   if (KL_output_) {
      |       ^~~~~~~~~~
nnet-simple-component.cc:6755:4: error: 'output_dim_' was not declared in this scope
 6755 |    output_dim_ == num_dims+1;
      |    ^~~~~~~~~~~
nnet-simple-component.cc:6757:4: error: 'output_dim_' was not declared in this scope
 6757 |    output_dim_ == num_dims;
      |    ^~~~~~~~~~~
nnet-simple-component.cc:6764:8: error: 'test_mode_' was not declared in this scope
 6764 |   if (!test_mode_) {
      |        ^~~~~~~~~~
nnet-simple-component.cc:6766:4: error: 'Memo' was not declared in this scope
 6766 |    Memo *memo = new Memo;
      |    ^~~~
nnet-simple-component.cc:6766:10: error: 'memo' was not declared in this scope
 6766 |    Memo *memo = new Memo;
      |          ^~~~
nnet-simple-component.cc:6766:21: error: 'Memo' does not name a type
 6766 |    Memo *memo = new Memo;
      |                     ^~~~
nnet-simple-component.cc:6771:9: error: 'rand_per_frame_' was not declared in this scope
 6771 |    if (!rand_per_frame_) {
      |         ^~~~~~~~~~~~~~~
nnet-simple-component.cc:6773:36: error: 'random_generator_' was not declared in this scope
 6773 |     const_cast<CuRand<BaseFloat>&>(random_generator_).RandGaussian(&(memo->rand_vec));
      |                                    ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6774:9: error: 'fix_rand_val_' was not declared in this scope
 6774 |     if (fix_rand_val_) {
      |         ^~~~~~~~~~~~~
nnet-simple-component.cc:6780:36: error: 'random_generator_' was not declared in this scope
 6780 |     const_cast<CuRand<BaseFloat>&>(random_generator_).RandGaussian(&(memo->rand_mat));
      |                                    ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6781:9: error: 'fix_rand_val_' was not declared in this scope
 6781 |     if (fix_rand_val_) {
      |         ^~~~~~~~~~~~~
nnet-simple-component.cc:6789:8: error: 'KL_scale_' was not declared in this scope
 6789 |    if (KL_scale_ != 0) {
      |        ^~~~~~~~~
nnet-simple-component.cc:6818:9: error: 'input_frame_scale_' was not declared in this scope
 6818 |     if (input_frame_scale_) {
      |         ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6821:10: error: 'inv_frame_scale_' was not declared in this scope
 6821 |      if (inv_frame_scale_) {
      |          ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:6826:9: error: 'KL_output_' was not declared in this scope
 6826 |     if (KL_output_) {
      |         ^~~~~~~~~~
nnet-simple-component.cc:6843:10: error: 'input_frame_scale_' was not declared in this scope
 6843 |      if (input_frame_scale_) {
      |          ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6858:6: error: 'BayesVecKLGaussianComponent' has not been declared
 6858 | void BayesVecKLGaussianComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6859:37: error: 'ComponentPrecomputedIndexes' does not name a type
 6859 |                               const ComponentPrecomputedIndexes *indexes,
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6864:31: error: 'Component' has not been declared
 6864 |                               Component *to_update,
      |                               ^~~~~~~~~
nnet-simple-component.cc:6865:66: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 6865 |                               CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:6858:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 6858 | void BayesVecKLGaussianComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:6869:7: error: 'input_frame_scale_' was not declared in this scope
 6869 |   if (input_frame_scale_) {
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6870:16: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 6870 |    num_dims = (input_dim_-1)/4;
      |                ^~~~~~~~~~
      |                num_dims
nnet-simple-component.cc:6872:15: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 6872 |    num_dims = input_dim_/4;
      |               ^~~~~~~~~~
      |               num_dims
nnet-simple-component.cc:6880:8: error: 'test_mode_' was not declared in this scope
 6880 |   if (!test_mode_) {
      |        ^~~~~~~~~~
nnet-simple-component.cc:6882:4: error: 'Memo' was not declared in this scope; did you mean 'memo'?
 6882 |    Memo *memo_in = static_cast<Memo*>(memo);
      |    ^~~~
      |    memo
nnet-simple-component.cc:6882:10: error: 'memo_in' was not declared in this scope; did you mean 'memo'?
 6882 |    Memo *memo_in = static_cast<Memo*>(memo);
      |          ^~~~~~~
      |          memo
nnet-simple-component.cc:6882:32: error: 'Memo' does not name a type; did you mean 'memo'?
 6882 |    Memo *memo_in = static_cast<Memo*>(memo);
      |                                ^~~~
      |                                memo
nnet-simple-component.cc:6882:36: error: expected '>' before '*' token
 6882 |    Memo *memo_in = static_cast<Memo*>(memo);
      |                                    ^
nnet-simple-component.cc:6882:36: error: expected '(' before '*' token
 6882 |    Memo *memo_in = static_cast<Memo*>(memo);
      |                                    ^
      |                                    (
nnet-simple-component.cc:6882:37: error: expected primary-expression before '>' token
 6882 |    Memo *memo_in = static_cast<Memo*>(memo);
      |                                     ^
nnet-simple-component.cc:6882:44: error: expected ')' before ';' token
 6882 |    Memo *memo_in = static_cast<Memo*>(memo);
      |                                            ^
      |                                            )
nnet-simple-component.cc:6886:9: error: 'rand_per_frame_' was not declared in this scope
 6886 |    if (!rand_per_frame_) {
      |         ^~~~~~~~~~~~~~~
nnet-simple-component.cc:6892:8: error: 'KL_scale_' was not declared in this scope
 6892 |    if (KL_scale_ != 0) {
      |        ^~~~~~~~~
nnet-simple-component.cc:6913:9: error: 'input_frame_scale_' was not declared in this scope
 6913 |     if (input_frame_scale_) {
      |         ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6915:10: error: 'KL_output_' was not declared in this scope
 6915 |      if (KL_output_) {
      |          ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6929:6: error: 'BayesVecKLGaussianComponent' has not been declared
 6929 | void BayesVecKLGaussianComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6929:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:6932:30: error: 'input_dim_' was not declared in this scope
 6932 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:6934:30: error: 'output_dim_' was not declared in this scope
 6934 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:6936:30: error: 'KL_scale_' was not declared in this scope
 6936 |   ReadBasicType(is, binary, &KL_scale_);
      |                              ^~~~~~~~~
nnet-simple-component.cc:6938:30: error: 'input_frame_scale_' was not declared in this scope
 6938 |   ReadBasicType(is, binary, &input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6940:30: error: 'inv_frame_scale_' was not declared in this scope
 6940 |   ReadBasicType(is, binary, &inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:6942:30: error: 'rand_per_frame_' was not declared in this scope
 6942 |   ReadBasicType(is, binary, &rand_per_frame_);
      |                              ^~~~~~~~~~~~~~~
nnet-simple-component.cc:6944:30: error: 'test_mode_' was not declared in this scope
 6944 |   ReadBasicType(is, binary, &test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:6946:30: error: 'KL_output_' was not declared in this scope
 6946 |   ReadBasicType(is, binary, &KL_output_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:6948:30: error: 'fix_rand_val_' was not declared in this scope
 6948 |   ReadBasicType(is, binary, &fix_rand_val_);
      |                              ^~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6952:6: error: 'BayesVecKLGaussianComponent' has not been declared
 6952 | void BayesVecKLGaussianComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6952:72: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 6952 | void BayesVecKLGaussianComponent::Write(std::ostream &os, bool binary) const {
      |                                                                        ^~~~~
nnet-simple-component.cc:6952:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 6952 | void BayesVecKLGaussianComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:6955:30: error: 'input_dim_' was not declared in this scope
 6955 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:6957:30: error: 'output_dim_' was not declared in this scope
 6957 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:6959:30: error: 'KL_scale_' was not declared in this scope
 6959 |   WriteBasicType(os, binary, KL_scale_);
      |                              ^~~~~~~~~
nnet-simple-component.cc:6961:30: error: 'input_frame_scale_' was not declared in this scope
 6961 |   WriteBasicType(os, binary, input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6963:30: error: 'inv_frame_scale_' was not declared in this scope
 6963 |   WriteBasicType(os, binary, inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:6965:30: error: 'rand_per_frame_' was not declared in this scope
 6965 |   WriteBasicType(os, binary, rand_per_frame_);
      |                              ^~~~~~~~~~~~~~~
nnet-simple-component.cc:6967:30: error: 'test_mode_' was not declared in this scope
 6967 |   WriteBasicType(os, binary, test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:6969:30: error: 'KL_output_' was not declared in this scope
 6969 |   WriteBasicType(os, binary, KL_output_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:6971:30: error: 'fix_rand_val_' was not declared in this scope
 6971 |   WriteBasicType(os, binary, fix_rand_val_);
      |                              ^~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6975:13: error: 'BayesVecKLGaussianComponent' has not been declared
 6975 | std::string BayesVecKLGaussianComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6975:49: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
 6975 | std::string BayesVecKLGaussianComponent::Info() const {
      |                                                 ^~~~~
nnet-simple-component.cc:6975:13: error: redefinition of 'std::string kaldi::Info()'
 6975 | std::string BayesVecKLGaussianComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:6977:13: error: 'Type' was not declared in this scope
 6977 |   stream << Type() << ", input-dim=" << input_dim_
      |             ^~~~
nnet-simple-component.cc:6977:41: error: 'input_dim_' was not declared in this scope
 6977 |   stream << Type() << ", input-dim=" << input_dim_
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:6978:32: error: 'output_dim_' was not declared in this scope
 6978 |          << ", output-dim=" << output_dim_
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:6979:30: error: 'KL_scale_' was not declared in this scope
 6979 |          << ", KL-scale=" << KL_scale_
      |                              ^~~~~~~~~
nnet-simple-component.cc:6980:32: error: 'input_frame_scale_' was not declared in this scope
 6980 |  << ", input-frame-scale=" << (input_frame_scale_ ? "true" : "false")
      |                                ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6981:30: error: 'inv_frame_scale_' was not declared in this scope
 6981 |  << ", inv-frame-scale=" << (inv_frame_scale_ ? "true" : "false")
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:6982:29: error: 'rand_per_frame_' was not declared in this scope
 6982 |  << ", rand-per-frame=" << (rand_per_frame_ ? "true" : "false")
      |                             ^~~~~~~~~~~~~~~
nnet-simple-component.cc:6983:24: error: 'test_mode_' was not declared in this scope
 6983 |  << ", test-mode=" << (test_mode_ ? "true" : "false")
      |                        ^~~~~~~~~~
nnet-simple-component.cc:6984:24: error: 'KL_output_' was not declared in this scope
 6984 |  << ", KL-output=" << (KL_output_ ? "true" : "false")
      |                        ^~~~~~~~~~
nnet-simple-component.cc:6985:27: error: 'fix_rand_val_' was not declared in this scope
 6985 |  << ", fix-rand-val=" << (fix_rand_val_ ? "true" : "false");
      |                           ^~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:6991:6: error: 'BayesVecKLGaussianFComponent' has not been declared
 6991 | void BayesVecKLGaussianFComponent::Init(int32 input_dim, int32 output_dim, BaseFloat KL_scale, bool input_frame_scale, bool inv_frame_scale, bool rand_per_frame, bool KL_output, bool fix_rand_val)  {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:6991:6: error: redefinition of 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool, bool, bool, bool)'
nnet-simple-component.cc:6688:6: note: 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool, bool, bool, bool)' previously defined here
 6688 | void BayesVecKLGaussianComponent::Init(int32 input_dim, int32 output_dim, BaseFloat KL_scale, bool input_frame_scale, bool inv_frame_scale, bool rand_per_frame, bool KL_output, bool fix_rand_val)  {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool, bool, bool, bool)':
nnet-simple-component.cc:6992:3: error: 'input_dim_' was not declared in this scope; did you mean 'input_dim'?
 6992 |   input_dim_ = input_dim;
      |   ^~~~~~~~~~
      |   input_dim
nnet-simple-component.cc:6993:3: error: 'output_dim_' was not declared in this scope; did you mean 'output_dim'?
 6993 |   output_dim_ = output_dim;
      |   ^~~~~~~~~~~
      |   output_dim
nnet-simple-component.cc:6994:3: error: 'KL_scale_' was not declared in this scope; did you mean 'KL_scale'?
 6994 |   KL_scale_ = KL_scale;
      |   ^~~~~~~~~
      |   KL_scale
nnet-simple-component.cc:6995:3: error: 'input_frame_scale_' was not declared in this scope; did you mean 'input_frame_scale'?
 6995 |   input_frame_scale_ = input_frame_scale;
      |   ^~~~~~~~~~~~~~~~~~
      |   input_frame_scale
nnet-simple-component.cc:6996:3: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'inv_frame_scale'?
 6996 |   inv_frame_scale_ = inv_frame_scale;
      |   ^~~~~~~~~~~~~~~~
      |   inv_frame_scale
nnet-simple-component.cc:6997:3: error: 'rand_per_frame_' was not declared in this scope; did you mean 'rand_per_frame'?
 6997 |   rand_per_frame_ = rand_per_frame;
      |   ^~~~~~~~~~~~~~~
      |   rand_per_frame
nnet-simple-component.cc:6998:3: error: 'KL_output_' was not declared in this scope; did you mean 'KL_output'?
 6998 |   KL_output_ = KL_output;
      |   ^~~~~~~~~~
      |   KL_output
nnet-simple-component.cc:6999:3: error: 'fix_rand_val_' was not declared in this scope; did you mean 'fix_rand_val'?
 6999 |   fix_rand_val_ = fix_rand_val;
      |   ^~~~~~~~~~~~~
      |   fix_rand_val
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7016:6: error: 'BayesVecKLGaussianFComponent' has not been declared
 7016 | void BayesVecKLGaussianFComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7016:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:7020:3: error: 'test_mode_' was not declared in this scope
 7020 |   test_mode_ = false;
      |   ^~~~~~~~~~
nnet-simple-component.cc:7030:18: error: 'Type' was not declared in this scope
 7030 |               << Type();
      |                  ^~~~
nnet-simple-component.cc:7040:18: error: 'Type' was not declared in this scope
 7040 |               << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                  ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7044:7: error: 'BayesVecKLGaussianFComponent' has not been declared
 7044 | void* BayesVecKLGaussianFComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7045:11: error: 'ComponentPrecomputedIndexes' does not name a type
 7045 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7047:35: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 7047 |     CuMatrixBase<BaseFloat> *out) const {
      |                                   ^~~~~
nnet-simple-component.cc:7044:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 7044 | void* BayesVecKLGaussianFComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:7048:32: error: 'input_dim_' was not declared in this scope
 7048 |   KALDI_ASSERT(in.NumCols() == input_dim_ && out->NumCols() == output_dim_);
      |                                ^~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:7048:64: error: 'output_dim_' was not declared in this scope
 7048 |   KALDI_ASSERT(in.NumCols() == input_dim_ && out->NumCols() == output_dim_);
      |                                                                ^~~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:7052:7: error: 'input_frame_scale_' was not declared in this scope
 7052 |   if (input_frame_scale_) {
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7053:16: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 7053 |    num_dims = (input_dim_-1)/4;
      |                ^~~~~~~~~~
      |                num_dims
nnet-simple-component.cc:7055:15: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 7055 |    num_dims = input_dim_/4;
      |               ^~~~~~~~~~
      |               num_dims
nnet-simple-component.cc:7057:7: error: 'KL_output_' was not declared in this scope
 7057 |   if (KL_output_) {
      |       ^~~~~~~~~~
nnet-simple-component.cc:7058:4: error: 'output_dim_' was not declared in this scope
 7058 |    output_dim_ == num_dims+1;
      |    ^~~~~~~~~~~
nnet-simple-component.cc:7060:4: error: 'output_dim_' was not declared in this scope
 7060 |    output_dim_ == num_dims;
      |    ^~~~~~~~~~~
nnet-simple-component.cc:7068:3: error: 'Memo' was not declared in this scope
 7068 |   Memo *memo = new Memo;
      |   ^~~~
nnet-simple-component.cc:7068:9: error: 'memo' was not declared in this scope
 7068 |   Memo *memo = new Memo;
      |         ^~~~
nnet-simple-component.cc:7068:20: error: 'Memo' does not name a type
 7068 |   Memo *memo = new Memo;
      |                    ^~~~
nnet-simple-component.cc:7073:8: error: 'rand_per_frame_' was not declared in this scope
 7073 |   if (!rand_per_frame_) {
      |        ^~~~~~~~~~~~~~~
nnet-simple-component.cc:7075:35: error: 'random_generator_' was not declared in this scope
 7075 |    const_cast<CuRand<BaseFloat>&>(random_generator_).RandGaussian(&(memo->rand_vec));
      |                                   ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7076:8: error: 'fix_rand_val_' was not declared in this scope
 7076 |    if (fix_rand_val_) {
      |        ^~~~~~~~~~~~~
nnet-simple-component.cc:7082:35: error: 'random_generator_' was not declared in this scope
 7082 |    const_cast<CuRand<BaseFloat>&>(random_generator_).RandGaussian(&(memo->rand_mat));
      |                                   ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7083:8: error: 'fix_rand_val_' was not declared in this scope
 7083 |    if (fix_rand_val_) {
      |        ^~~~~~~~~~~~~
nnet-simple-component.cc:7091:7: error: 'KL_scale_' was not declared in this scope
 7091 |   if (KL_scale_ != 0) {
      |       ^~~~~~~~~
nnet-simple-component.cc:7120:8: error: 'input_frame_scale_' was not declared in this scope
 7120 |    if (input_frame_scale_) {
      |        ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7123:9: error: 'inv_frame_scale_' was not declared in this scope
 7123 |     if (inv_frame_scale_) {
      |         ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:7128:8: error: 'KL_output_' was not declared in this scope
 7128 |    if (KL_output_) {
      |        ^~~~~~~~~~
nnet-simple-component.cc:7145:9: error: 'input_frame_scale_' was not declared in this scope
 7145 |     if (input_frame_scale_) {
      |         ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7156:6: error: 'BayesVecKLGaussianFComponent' has not been declared
 7156 | void BayesVecKLGaussianFComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7157:37: error: 'ComponentPrecomputedIndexes' does not name a type
 7157 |                               const ComponentPrecomputedIndexes *indexes,
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7162:31: error: 'Component' has not been declared
 7162 |                               Component *to_update,
      |                               ^~~~~~~~~
nnet-simple-component.cc:7163:66: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 7163 |                               CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:7156:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 7156 | void BayesVecKLGaussianFComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:7167:7: error: 'input_frame_scale_' was not declared in this scope
 7167 |   if (input_frame_scale_) {
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7168:16: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 7168 |    num_dims = (input_dim_-1)/4;
      |                ^~~~~~~~~~
      |                num_dims
nnet-simple-component.cc:7170:15: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 7170 |    num_dims = input_dim_/4;
      |               ^~~~~~~~~~
      |               num_dims
nnet-simple-component.cc:7179:3: error: 'Memo' was not declared in this scope; did you mean 'memo'?
 7179 |   Memo *memo_in = static_cast<Memo*>(memo);
      |   ^~~~
      |   memo
nnet-simple-component.cc:7179:9: error: 'memo_in' was not declared in this scope; did you mean 'memo'?
 7179 |   Memo *memo_in = static_cast<Memo*>(memo);
      |         ^~~~~~~
      |         memo
nnet-simple-component.cc:7179:31: error: 'Memo' does not name a type; did you mean 'memo'?
 7179 |   Memo *memo_in = static_cast<Memo*>(memo);
      |                               ^~~~
      |                               memo
nnet-simple-component.cc:7179:35: error: expected '>' before '*' token
 7179 |   Memo *memo_in = static_cast<Memo*>(memo);
      |                                   ^
nnet-simple-component.cc:7179:35: error: expected '(' before '*' token
 7179 |   Memo *memo_in = static_cast<Memo*>(memo);
      |                                   ^
      |                                   (
nnet-simple-component.cc:7179:36: error: expected primary-expression before '>' token
 7179 |   Memo *memo_in = static_cast<Memo*>(memo);
      |                                    ^
nnet-simple-component.cc:7179:43: error: expected ')' before ';' token
 7179 |   Memo *memo_in = static_cast<Memo*>(memo);
      |                                           ^
      |                                           )
nnet-simple-component.cc:7183:8: error: 'rand_per_frame_' was not declared in this scope
 7183 |   if (!rand_per_frame_) {
      |        ^~~~~~~~~~~~~~~
nnet-simple-component.cc:7189:7: error: 'KL_scale_' was not declared in this scope
 7189 |   if (KL_scale_ != 0) {
      |       ^~~~~~~~~
nnet-simple-component.cc:7210:8: error: 'input_frame_scale_' was not declared in this scope
 7210 |    if (input_frame_scale_) {
      |        ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7212:9: error: 'KL_output_' was not declared in this scope
 7212 |     if (KL_output_) {
      |         ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7225:6: error: 'BayesVecKLGaussianFComponent' has not been declared
 7225 | void BayesVecKLGaussianFComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7225:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:7228:30: error: 'input_dim_' was not declared in this scope
 7228 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:7230:30: error: 'output_dim_' was not declared in this scope
 7230 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:7232:30: error: 'KL_scale_' was not declared in this scope
 7232 |   ReadBasicType(is, binary, &KL_scale_);
      |                              ^~~~~~~~~
nnet-simple-component.cc:7234:30: error: 'input_frame_scale_' was not declared in this scope
 7234 |   ReadBasicType(is, binary, &input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7236:30: error: 'inv_frame_scale_' was not declared in this scope
 7236 |   ReadBasicType(is, binary, &inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:7238:30: error: 'rand_per_frame_' was not declared in this scope
 7238 |   ReadBasicType(is, binary, &rand_per_frame_);
      |                              ^~~~~~~~~~~~~~~
nnet-simple-component.cc:7240:30: error: 'test_mode_' was not declared in this scope
 7240 |   ReadBasicType(is, binary, &test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:7242:30: error: 'KL_output_' was not declared in this scope
 7242 |   ReadBasicType(is, binary, &KL_output_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:7244:30: error: 'fix_rand_val_' was not declared in this scope
 7244 |   ReadBasicType(is, binary, &fix_rand_val_);
      |                              ^~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7248:6: error: 'BayesVecKLGaussianFComponent' has not been declared
 7248 | void BayesVecKLGaussianFComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7248:73: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 7248 | void BayesVecKLGaussianFComponent::Write(std::ostream &os, bool binary) const {
      |                                                                         ^~~~~
nnet-simple-component.cc:7248:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 7248 | void BayesVecKLGaussianFComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:7251:30: error: 'input_dim_' was not declared in this scope
 7251 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:7253:30: error: 'output_dim_' was not declared in this scope
 7253 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:7255:30: error: 'KL_scale_' was not declared in this scope
 7255 |   WriteBasicType(os, binary, KL_scale_);
      |                              ^~~~~~~~~
nnet-simple-component.cc:7257:30: error: 'input_frame_scale_' was not declared in this scope
 7257 |   WriteBasicType(os, binary, input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7259:30: error: 'inv_frame_scale_' was not declared in this scope
 7259 |   WriteBasicType(os, binary, inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:7261:30: error: 'rand_per_frame_' was not declared in this scope
 7261 |   WriteBasicType(os, binary, rand_per_frame_);
      |                              ^~~~~~~~~~~~~~~
nnet-simple-component.cc:7263:30: error: 'test_mode_' was not declared in this scope
 7263 |   WriteBasicType(os, binary, test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:7265:30: error: 'KL_output_' was not declared in this scope
 7265 |   WriteBasicType(os, binary, KL_output_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:7267:30: error: 'fix_rand_val_' was not declared in this scope
 7267 |   WriteBasicType(os, binary, fix_rand_val_);
      |                              ^~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7271:13: error: 'BayesVecKLGaussianFComponent' has not been declared
 7271 | std::string BayesVecKLGaussianFComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7271:50: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
 7271 | std::string BayesVecKLGaussianFComponent::Info() const {
      |                                                  ^~~~~
nnet-simple-component.cc:7271:13: error: redefinition of 'std::string kaldi::Info()'
 7271 | std::string BayesVecKLGaussianFComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:7273:13: error: 'Type' was not declared in this scope
 7273 |   stream << Type() << ", input-dim=" << input_dim_
      |             ^~~~
nnet-simple-component.cc:7273:41: error: 'input_dim_' was not declared in this scope
 7273 |   stream << Type() << ", input-dim=" << input_dim_
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:7274:32: error: 'output_dim_' was not declared in this scope
 7274 |          << ", output-dim=" << output_dim_
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:7275:30: error: 'KL_scale_' was not declared in this scope
 7275 |          << ", KL-scale=" << KL_scale_
      |                              ^~~~~~~~~
nnet-simple-component.cc:7276:32: error: 'input_frame_scale_' was not declared in this scope
 7276 |  << ", input-frame-scale=" << (input_frame_scale_ ? "true" : "false")
      |                                ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7277:30: error: 'inv_frame_scale_' was not declared in this scope
 7277 |  << ", inv-frame-scale=" << (inv_frame_scale_ ? "true" : "false")
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:7278:29: error: 'rand_per_frame_' was not declared in this scope
 7278 |  << ", rand-per-frame=" << (rand_per_frame_ ? "true" : "false")
      |                             ^~~~~~~~~~~~~~~
nnet-simple-component.cc:7279:24: error: 'test_mode_' was not declared in this scope
 7279 |  << ", test-mode=" << (test_mode_ ? "true" : "false")
      |                        ^~~~~~~~~~
nnet-simple-component.cc:7280:24: error: 'KL_output_' was not declared in this scope
 7280 |  << ", KL-output=" << (KL_output_ ? "true" : "false")
      |                        ^~~~~~~~~~
nnet-simple-component.cc:7281:27: error: 'fix_rand_val_' was not declared in this scope
 7281 |  << ", fix-rand-val=" << (fix_rand_val_ ? "true" : "false");
      |                           ^~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7287:6: error: 'BayesVecKLGaussianVarComponent' has not been declared
 7287 | void BayesVecKLGaussianVarComponent::Init(int32 input_dim, int32 output_dim, BaseFloat KL_scale, bool input_frame_scale, bool inv_frame_scale, bool rand_per_frame, bool KL_output)  {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7287:6: error: redefinition of 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool, bool, bool)'
nnet-simple-component.cc:5815:6: note: 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool, bool, bool)' previously defined here
 5815 | void KLGaussianComponent::Init(int32 input_dim, int32 output_dim, BaseFloat scale, bool input_frame_scale, bool inv_frame_scale, bool output_sum, bool has_output)  {
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool, bool, bool)':
nnet-simple-component.cc:7288:3: error: 'input_dim_' was not declared in this scope; did you mean 'input_dim'?
 7288 |   input_dim_ = input_dim;
      |   ^~~~~~~~~~
      |   input_dim
nnet-simple-component.cc:7289:3: error: 'output_dim_' was not declared in this scope; did you mean 'output_dim'?
 7289 |   output_dim_ = output_dim;
      |   ^~~~~~~~~~~
      |   output_dim
nnet-simple-component.cc:7290:3: error: 'KL_scale_' was not declared in this scope; did you mean 'KL_scale'?
 7290 |   KL_scale_ = KL_scale;
      |   ^~~~~~~~~
      |   KL_scale
nnet-simple-component.cc:7291:3: error: 'input_frame_scale_' was not declared in this scope; did you mean 'input_frame_scale'?
 7291 |   input_frame_scale_ = input_frame_scale;
      |   ^~~~~~~~~~~~~~~~~~
      |   input_frame_scale
nnet-simple-component.cc:7292:3: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'inv_frame_scale'?
 7292 |   inv_frame_scale_ = inv_frame_scale;
      |   ^~~~~~~~~~~~~~~~
      |   inv_frame_scale
nnet-simple-component.cc:7293:3: error: 'rand_per_frame_' was not declared in this scope; did you mean 'rand_per_frame'?
 7293 |   rand_per_frame_ = rand_per_frame;
      |   ^~~~~~~~~~~~~~~
      |   rand_per_frame
nnet-simple-component.cc:7294:3: error: 'KL_output_' was not declared in this scope; did you mean 'KL_output'?
 7294 |   KL_output_ = KL_output;
      |   ^~~~~~~~~~
      |   KL_output
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7311:6: error: 'BayesVecKLGaussianVarComponent' has not been declared
 7311 | void BayesVecKLGaussianVarComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7311:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:7315:3: error: 'test_mode_' was not declared in this scope
 7315 |   test_mode_ = false;
      |   ^~~~~~~~~~
nnet-simple-component.cc:7324:18: error: 'Type' was not declared in this scope
 7324 |               << Type();
      |                  ^~~~
nnet-simple-component.cc:7333:18: error: 'Type' was not declared in this scope
 7333 |               << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                  ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7337:7: error: 'BayesVecKLGaussianVarComponent' has not been declared
 7337 | void* BayesVecKLGaussianVarComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7338:11: error: 'ComponentPrecomputedIndexes' does not name a type
 7338 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7340:35: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 7340 |     CuMatrixBase<BaseFloat> *out) const {
      |                                   ^~~~~
nnet-simple-component.cc:7337:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 7337 | void* BayesVecKLGaussianVarComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:7341:32: error: 'input_dim_' was not declared in this scope
 7341 |   KALDI_ASSERT(in.NumCols() == input_dim_ && out->NumCols() == output_dim_);
      |                                ^~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:7341:64: error: 'output_dim_' was not declared in this scope
 7341 |   KALDI_ASSERT(in.NumCols() == input_dim_ && out->NumCols() == output_dim_);
      |                                                                ^~~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:7345:7: error: 'input_frame_scale_' was not declared in this scope
 7345 |   if (input_frame_scale_) {
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7346:16: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 7346 |    num_dims = (input_dim_-1)/4;
      |                ^~~~~~~~~~
      |                num_dims
nnet-simple-component.cc:7348:15: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 7348 |    num_dims = input_dim_/4;
      |               ^~~~~~~~~~
      |               num_dims
nnet-simple-component.cc:7350:7: error: 'KL_output_' was not declared in this scope
 7350 |   if (KL_output_) {
      |       ^~~~~~~~~~
nnet-simple-component.cc:7351:4: error: 'output_dim_' was not declared in this scope
 7351 |    output_dim_ == num_dims+1;
      |    ^~~~~~~~~~~
nnet-simple-component.cc:7353:4: error: 'output_dim_' was not declared in this scope
 7353 |    output_dim_ == num_dims;
      |    ^~~~~~~~~~~
nnet-simple-component.cc:7360:8: error: 'test_mode_' was not declared in this scope
 7360 |   if (!test_mode_) {
      |        ^~~~~~~~~~
nnet-simple-component.cc:7362:4: error: 'Memo' was not declared in this scope
 7362 |    Memo *memo = new Memo;
      |    ^~~~
nnet-simple-component.cc:7362:10: error: 'memo' was not declared in this scope
 7362 |    Memo *memo = new Memo;
      |          ^~~~
nnet-simple-component.cc:7362:21: error: 'Memo' does not name a type
 7362 |    Memo *memo = new Memo;
      |                     ^~~~
nnet-simple-component.cc:7368:9: error: 'rand_per_frame_' was not declared in this scope
 7368 |    if (!rand_per_frame_) {
      |         ^~~~~~~~~~~~~~~
nnet-simple-component.cc:7370:36: error: 'random_generator_' was not declared in this scope
 7370 |     const_cast<CuRand<BaseFloat>&>(random_generator_).RandGaussian(&(memo->rand_vec));
      |                                    ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7374:36: error: 'random_generator_' was not declared in this scope
 7374 |     const_cast<CuRand<BaseFloat>&>(random_generator_).RandGaussian(&(memo->rand_mat));
      |                                    ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7380:8: error: 'KL_scale_' was not declared in this scope
 7380 |    if (KL_scale_ != 0) {
      |        ^~~~~~~~~
nnet-simple-component.cc:7406:9: error: 'input_frame_scale_' was not declared in this scope
 7406 |     if (input_frame_scale_) {
      |         ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7409:10: error: 'inv_frame_scale_' was not declared in this scope
 7409 |      if (inv_frame_scale_) {
      |          ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:7414:9: error: 'KL_output_' was not declared in this scope
 7414 |     if (KL_output_) {
      |         ^~~~~~~~~~
nnet-simple-component.cc:7424:10: error: 'input_frame_scale_' was not declared in this scope
 7424 |      if (input_frame_scale_) {
      |          ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7443:6: error: 'BayesVecKLGaussianVarComponent' has not been declared
 7443 | void BayesVecKLGaussianVarComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7444:37: error: 'ComponentPrecomputedIndexes' does not name a type
 7444 |                               const ComponentPrecomputedIndexes *indexes,
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7449:31: error: 'Component' has not been declared
 7449 |                               Component *to_update,
      |                               ^~~~~~~~~
nnet-simple-component.cc:7450:66: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 7450 |                               CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:7443:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 7443 | void BayesVecKLGaussianVarComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:7454:7: error: 'input_frame_scale_' was not declared in this scope
 7454 |   if (input_frame_scale_) {
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7455:16: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 7455 |    num_dims = (input_dim_-1)/4;
      |                ^~~~~~~~~~
      |                num_dims
nnet-simple-component.cc:7457:15: error: 'input_dim_' was not declared in this scope; did you mean 'num_dims'?
 7457 |    num_dims = input_dim_/4;
      |               ^~~~~~~~~~
      |               num_dims
nnet-simple-component.cc:7465:8: error: 'test_mode_' was not declared in this scope
 7465 |   if (!test_mode_) {
      |        ^~~~~~~~~~
nnet-simple-component.cc:7467:4: error: 'Memo' was not declared in this scope; did you mean 'memo'?
 7467 |    Memo *memo_in = static_cast<Memo*>(memo);
      |    ^~~~
      |    memo
nnet-simple-component.cc:7467:10: error: 'memo_in' was not declared in this scope; did you mean 'memo'?
 7467 |    Memo *memo_in = static_cast<Memo*>(memo);
      |          ^~~~~~~
      |          memo
nnet-simple-component.cc:7467:32: error: 'Memo' does not name a type; did you mean 'memo'?
 7467 |    Memo *memo_in = static_cast<Memo*>(memo);
      |                                ^~~~
      |                                memo
nnet-simple-component.cc:7467:36: error: expected '>' before '*' token
 7467 |    Memo *memo_in = static_cast<Memo*>(memo);
      |                                    ^
nnet-simple-component.cc:7467:36: error: expected '(' before '*' token
 7467 |    Memo *memo_in = static_cast<Memo*>(memo);
      |                                    ^
      |                                    (
nnet-simple-component.cc:7467:37: error: expected primary-expression before '>' token
 7467 |    Memo *memo_in = static_cast<Memo*>(memo);
      |                                     ^
nnet-simple-component.cc:7467:44: error: expected ')' before ';' token
 7467 |    Memo *memo_in = static_cast<Memo*>(memo);
      |                                            ^
      |                                            )
nnet-simple-component.cc:7474:8: error: 'KL_scale_' was not declared in this scope
 7474 |    if (KL_scale_ != 0) {
      |        ^~~~~~~~~
nnet-simple-component.cc:7495:9: error: 'input_frame_scale_' was not declared in this scope
 7495 |     if (input_frame_scale_) {
      |         ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7508:6: error: 'BayesVecKLGaussianVarComponent' has not been declared
 7508 | void BayesVecKLGaussianVarComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7508:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:7511:30: error: 'input_dim_' was not declared in this scope
 7511 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:7513:30: error: 'output_dim_' was not declared in this scope
 7513 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:7515:30: error: 'KL_scale_' was not declared in this scope
 7515 |   ReadBasicType(is, binary, &KL_scale_);
      |                              ^~~~~~~~~
nnet-simple-component.cc:7517:30: error: 'input_frame_scale_' was not declared in this scope
 7517 |   ReadBasicType(is, binary, &input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7519:30: error: 'inv_frame_scale_' was not declared in this scope
 7519 |   ReadBasicType(is, binary, &inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:7521:30: error: 'rand_per_frame_' was not declared in this scope
 7521 |   ReadBasicType(is, binary, &rand_per_frame_);
      |                              ^~~~~~~~~~~~~~~
nnet-simple-component.cc:7523:30: error: 'test_mode_' was not declared in this scope
 7523 |   ReadBasicType(is, binary, &test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:7525:30: error: 'KL_output_' was not declared in this scope
 7525 |   ReadBasicType(is, binary, &KL_output_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7529:6: error: 'BayesVecKLGaussianVarComponent' has not been declared
 7529 | void BayesVecKLGaussianVarComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7529:75: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 7529 | void BayesVecKLGaussianVarComponent::Write(std::ostream &os, bool binary) const {
      |                                                                           ^~~~~
nnet-simple-component.cc:7529:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 7529 | void BayesVecKLGaussianVarComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:7532:30: error: 'input_dim_' was not declared in this scope
 7532 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:7534:30: error: 'output_dim_' was not declared in this scope
 7534 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:7536:30: error: 'KL_scale_' was not declared in this scope
 7536 |   WriteBasicType(os, binary, KL_scale_);
      |                              ^~~~~~~~~
nnet-simple-component.cc:7538:30: error: 'input_frame_scale_' was not declared in this scope
 7538 |   WriteBasicType(os, binary, input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7540:30: error: 'inv_frame_scale_' was not declared in this scope
 7540 |   WriteBasicType(os, binary, inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:7542:30: error: 'rand_per_frame_' was not declared in this scope
 7542 |   WriteBasicType(os, binary, rand_per_frame_);
      |                              ^~~~~~~~~~~~~~~
nnet-simple-component.cc:7544:30: error: 'test_mode_' was not declared in this scope
 7544 |   WriteBasicType(os, binary, test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:7546:30: error: 'KL_output_' was not declared in this scope
 7546 |   WriteBasicType(os, binary, KL_output_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7550:13: error: 'BayesVecKLGaussianVarComponent' has not been declared
 7550 | std::string BayesVecKLGaussianVarComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7550:52: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
 7550 | std::string BayesVecKLGaussianVarComponent::Info() const {
      |                                                    ^~~~~
nnet-simple-component.cc:7550:13: error: redefinition of 'std::string kaldi::Info()'
 7550 | std::string BayesVecKLGaussianVarComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:7552:13: error: 'Type' was not declared in this scope
 7552 |   stream << Type() << ", input-dim=" << input_dim_
      |             ^~~~
nnet-simple-component.cc:7552:41: error: 'input_dim_' was not declared in this scope
 7552 |   stream << Type() << ", input-dim=" << input_dim_
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:7553:32: error: 'output_dim_' was not declared in this scope
 7553 |          << ", output-dim=" << output_dim_
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:7554:30: error: 'KL_scale_' was not declared in this scope
 7554 |          << ", KL-scale=" << KL_scale_
      |                              ^~~~~~~~~
nnet-simple-component.cc:7555:32: error: 'input_frame_scale_' was not declared in this scope
 7555 |  << ", input-frame-scale=" << (input_frame_scale_ ? "true" : "false")
      |                                ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7556:30: error: 'inv_frame_scale_' was not declared in this scope
 7556 |  << ", inv-frame-scale=" << (inv_frame_scale_ ? "true" : "false")
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:7557:29: error: 'rand_per_frame_' was not declared in this scope
 7557 |  << ", rand-per-frame=" << (rand_per_frame_ ? "true" : "false")
      |                             ^~~~~~~~~~~~~~~
nnet-simple-component.cc:7558:24: error: 'test_mode_' was not declared in this scope
 7558 |  << ", test-mode=" << (test_mode_ ? "true" : "false")
      |                        ^~~~~~~~~~
nnet-simple-component.cc:7559:24: error: 'KL_output_' was not declared in this scope
 7559 |  << ", KL-output=" << (KL_output_ ? "true" : "false");
      |                        ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7567:6: error: 'InputVectorLinearComponent' has not been declared
 7567 | void InputVectorLinearComponent::Init(const std::vector<int32> &sizes) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(const std::vector<int>&)':
nnet-simple-component.cc:7580:3: error: invalid use of 'this' in non-member function
 7580 |   this->indexes_ = cpu_vec;
      |   ^~~~
nnet-simple-component.cc:7581:3: error: invalid use of 'this' in non-member function
 7581 |   this->reverse_indexes_ = reverse_cpu_vec;
      |   ^~~~
nnet-simple-component.cc:7583:3: error: invalid use of 'this' in non-member function
 7583 |   this->output_dim_ = sizes.size();
      |   ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7586:6: error: 'InputVectorLinearComponent' has not been declared
 7586 | void InputVectorLinearComponent::Init(int32 input_dim, int32 output_dim) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(int32, int32)':
nnet-simple-component.cc:7601:3: error: invalid use of 'this' in non-member function
 7601 |   this->indexes_ = cpu_vec;
      |   ^~~~
nnet-simple-component.cc:7602:3: error: invalid use of 'this' in non-member function
 7602 |   this->reverse_indexes_ = reverse_cpu_vec;
      |   ^~~~
nnet-simple-component.cc:7603:3: error: invalid use of 'this' in non-member function
 7603 |   this->input_dim_ = input_dim;
      |   ^~~~
nnet-simple-component.cc:7604:3: error: invalid use of 'this' in non-member function
 7604 |   this->output_dim_ = num_groups;
      |   ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7607:6: error: 'InputVectorLinearComponent' has not been declared
 7607 | void InputVectorLinearComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7607:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:7613:20: error: 'Type' was not declared in this scope
 7613 |                 << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                    ^~~~
nnet-simple-component.cc:7614:5: error: invalid use of 'this' in non-member function
 7614 |     this->Init(sizes);
      |     ^~~~
nnet-simple-component.cc:7620:20: error: 'Type' was not declared in this scope
 7620 |                 << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                    ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7626:1: error: 'Component' does not name a type
 7626 | Component* InputVectorLinearComponent::Copy() const {
      | ^~~~~~~~~
nnet-simple-component.cc:7635:6: error: 'InputVectorLinearComponent' has not been declared
 7635 | void InputVectorLinearComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7635:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:7640:30: error: 'input_dim_' was not declared in this scope
 7640 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:7648:3: error: invalid use of 'this' in non-member function
 7648 |   this->Init(sizes);
      |   ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7651:6: error: 'InputVectorLinearComponent' has not been declared
 7651 | void InputVectorLinearComponent::GetSizes(std::vector<int32> *sizes) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7651:70: error: non-member function 'void kaldi::GetSizes(std::vector<int>*)' cannot have cv-qualifier
 7651 | void InputVectorLinearComponent::GetSizes(std::vector<int32> *sizes) const {
      |                                                                      ^~~~~
nnet-simple-component.cc: In function 'void kaldi::GetSizes(std::vector<int>*)':
nnet-simple-component.cc:7653:3: error: 'indexes_' was not declared in this scope; did you mean 'indexes'?
 7653 |   indexes_.CopyToVec(&indexes);
      |   ^~~~~~~~
      |   indexes
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7664:6: error: 'InputVectorLinearComponent' has not been declared
 7664 | void InputVectorLinearComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7664:71: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 7664 | void InputVectorLinearComponent::Write(std::ostream &os, bool binary) const {
      |                                                                       ^~~~~
nnet-simple-component.cc:7664:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 7664 | void InputVectorLinearComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:7668:3: error: invalid use of 'this' in non-member function
 7668 |   this->GetSizes(&sizes);
      |   ^~~~
nnet-simple-component.cc:7671:30: error: 'input_dim_' was not declared in this scope
 7671 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7675:7: error: 'InputVectorLinearComponent' has not been declared
 7675 | void* InputVectorLinearComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7675:51: error: 'ComponentPrecomputedIndexes' does not name a type
 7675 | void* InputVectorLinearComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |                                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7677:65: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 7677 |                                   CuMatrixBase<BaseFloat> *out) const {
      |                                                                 ^~~~~
nnet-simple-component.cc:7675:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 7675 | void* InputVectorLinearComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:7678:25: error: 'input_dim_' was not declared in this scope
 7678 |   int32 variable_size = input_dim_ / (output_dim_+1);
      |                         ^~~~~~~~~~
nnet-simple-component.cc:7678:39: error: 'output_dim_' was not declared in this scope
 7678 |   int32 variable_size = input_dim_ / (output_dim_+1);
      |                                       ^~~~~~~~~~~
nnet-simple-component.cc:7690:39: error: 'indexes_' was not declared in this scope; did you mean 'indexes'?
 7690 |   out->SumColumnRanges(temp_variable, indexes_);
      |                                       ^~~~~~~~
      |                                       indexes
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7695:6: error: 'InputVectorLinearComponent' has not been declared
 7695 | void InputVectorLinearComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7696:40: error: 'ComponentPrecomputedIndexes' does not name a type
 7696 |                                  const ComponentPrecomputedIndexes *indexes,
      |                                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7701:34: error: 'Component' has not been declared
 7701 |                                  Component *to_update_in,
      |                                  ^~~~~~~~~
nnet-simple-component.cc:7702:69: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 7702 |                                  CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                     ^~~~~
nnet-simple-component.cc:7695:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 7695 | void InputVectorLinearComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:7705:25: error: 'input_dim_' was not declared in this scope
 7705 |   int32 variable_size = input_dim_ / (output_dim_+1);
      |                         ^~~~~~~~~~
nnet-simple-component.cc:7705:39: error: 'output_dim_' was not declared in this scope
 7705 |   int32 variable_size = input_dim_ / (output_dim_+1);
      |                                       ^~~~~~~~~~~
nnet-simple-component.cc:7715:32: error: 'reverse_indexes_' was not declared in this scope
 7715 |   temp_out.CopyCols(out_deriv, reverse_indexes_);
      |                                ^~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7731:6: error: 'BayesAffineComponent' has not been declared
 7731 | void BayesAffineComponent::Scale(BaseFloat scale) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Scale(kaldi::BaseFloat)':
nnet-simple-component.cc:7734:5: error: 'linear_params_mean_' was not declared in this scope
 7734 |     linear_params_mean_.SetZero();
      |     ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7735:2: error: 'linear_params_std_' was not declared in this scope
 7735 |  linear_params_std_.SetZero();
      |  ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7736:2: error: 'linear_prior_mean_' was not declared in this scope
 7736 |  linear_prior_mean_.SetZero();
      |  ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7737:2: error: 'linear_prior_std_' was not declared in this scope
 7737 |  linear_prior_std_.SetZero();
      |  ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7738:5: error: 'bias_params_' was not declared in this scope
 7738 |     bias_params_.SetZero();
      |     ^~~~~~~~~~~~
nnet-simple-component.cc:7740:2: error: 'linear_params_mean_' was not declared in this scope
 7740 |  linear_params_mean_.Scale(scale);
      |  ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7741:2: error: 'linear_params_std_' was not declared in this scope
 7741 |  linear_params_std_.Scale(scale);
      |  ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7742:2: error: 'linear_prior_mean_' was not declared in this scope
 7742 |  linear_prior_mean_.Scale(scale);
      |  ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7743:2: error: 'linear_prior_std_' was not declared in this scope
 7743 |  linear_prior_std_.Scale(scale);
      |  ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7744:5: error: 'bias_params_' was not declared in this scope
 7744 |     bias_params_.Scale(scale);
      |     ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7748:6: error: 'BayesAffineComponent' has not been declared
 7748 | void BayesAffineComponent::Resize(int32 input_dim, int32 output_dim) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Resize(int32, int32)':
nnet-simple-component.cc:7750:3: error: 'bias_params_' was not declared in this scope
 7750 |   bias_params_.Resize(output_dim);
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:7751:3: error: 'linear_params_mean_' was not declared in this scope
 7751 |   linear_params_mean_.Resize(output_dim, input_dim);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7752:3: error: 'linear_prior_mean_' was not declared in this scope
 7752 |   linear_prior_mean_.Resize(output_dim, input_dim);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7758:7: error: 'share_std_input_' was not declared in this scope
 7758 |   if (share_std_input_) {
      |       ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:7761:7: error: 'share_std_output_' was not declared in this scope
 7761 |   if (share_std_output_) {
      |       ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7764:3: error: 'linear_params_std_' was not declared in this scope
 7764 |   linear_params_std_.Resize(output_dim_re, input_dim_re);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7765:3: error: 'linear_prior_std_' was not declared in this scope
 7765 |   linear_prior_std_.Resize(output_dim_re, input_dim_re);
      |   ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7768:6: error: 'BayesAffineComponent' has not been declared
 7768 | void BayesAffineComponent::Add(BaseFloat alpha, const Component &other_in) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7768:55: error: 'Component' does not name a type
 7768 | void BayesAffineComponent::Add(BaseFloat alpha, const Component &other_in) {
      |                                                       ^~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Add(kaldi::BaseFloat, const int&)':
nnet-simple-component.cc:7769:9: error: 'BayesAffineComponent' does not name a type
 7769 |   const BayesAffineComponent *other =
      |         ^~~~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc:7771:16: error: 'other' was not declared in this scope; did you mean 'other_in'?
 7771 |   KALDI_ASSERT(other != NULL);
      |                ^~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:7772:3: error: 'linear_params_mean_' was not declared in this scope
 7772 |   linear_params_mean_.AddMat(alpha, other->linear_params_mean_);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7772:37: error: 'other' was not declared in this scope; did you mean 'other_in'?
 7772 |   linear_params_mean_.AddMat(alpha, other->linear_params_mean_);
      |                                     ^~~~~
      |                                     other_in
nnet-simple-component.cc:7773:3: error: 'linear_prior_mean_' was not declared in this scope
 7773 |   linear_prior_mean_.AddMat(alpha, other->linear_prior_mean_);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7774:3: error: 'bias_params_' was not declared in this scope
 7774 |   bias_params_.AddVec(alpha, other->bias_params_);
      |   ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7777:1: error: 'BayesAffineComponent' does not name a type
 7777 | BayesAffineComponent::BayesAffineComponent(const BayesAffineComponent &component):
      | ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7797:1: error: 'BayesAffineComponent' does not name a type
 7797 | BayesAffineComponent::BayesAffineComponent(const CuMatrixBase<BaseFloat> &linear_params_mean,
      | ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7824:6: error: 'BayesAffineComponent' has not been declared
 7824 | void BayesAffineComponent::SetParams(const CuVectorBase<BaseFloat> &bias,
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::SetParams(const kaldi::CuVectorBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&)':
nnet-simple-component.cc:7829:3: error: 'bias_params_' was not declared in this scope
 7829 |   bias_params_ = bias;
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:7830:3: error: 'linear_params_mean_' was not declared in this scope; did you mean 'linear_prior_mean'?
 7830 |   linear_params_mean_ = linear_mean;
      |   ^~~~~~~~~~~~~~~~~~~
      |   linear_prior_mean
nnet-simple-component.cc:7831:3: error: 'linear_params_std_' was not declared in this scope; did you mean 'linear_prior_std'?
 7831 |   linear_params_std_ = linear_std;
      |   ^~~~~~~~~~~~~~~~~~
      |   linear_prior_std
nnet-simple-component.cc:7832:3: error: 'linear_prior_mean_' was not declared in this scope; did you mean 'linear_prior_mean'?
 7832 |   linear_prior_mean_ = linear_prior_mean;
      |   ^~~~~~~~~~~~~~~~~~
      |   linear_prior_mean
nnet-simple-component.cc:7833:3: error: 'linear_prior_std_' was not declared in this scope; did you mean 'linear_prior_std'?
 7833 |   linear_prior_std_ = linear_prior_std;
      |   ^~~~~~~~~~~~~~~~~
      |   linear_prior_std
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7839:6: error: 'BayesAffineComponent' has not been declared
 7839 | void BayesAffineComponent::PerturbParams(BaseFloat stddev) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::PerturbParams(kaldi::BaseFloat)':
nnet-simple-component.cc:7840:42: error: 'linear_params_mean_' was not declared in this scope
 7840 |   CuMatrix<BaseFloat> temp_linear_params(linear_params_mean_);
      |                                          ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7844:40: error: 'bias_params_' was not declared in this scope; did you mean 'temp_bias_params'?
 7844 |   CuVector<BaseFloat> temp_bias_params(bias_params_);
      |                                        ^~~~~~~~~~~~
      |                                        temp_bias_params
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7849:13: error: 'BayesAffineComponent' has not been declared
 7849 | std::string BayesAffineComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7849:42: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
 7849 | std::string BayesAffineComponent::Info() const {
      |                                          ^~~~~
nnet-simple-component.cc:7849:13: error: redefinition of 'std::string kaldi::Info()'
 7849 | std::string BayesAffineComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:7851:13: error: 'UpdatableComponent' has not been declared
 7851 |   stream << UpdatableComponent::Info();
      |             ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7852:7: error: 'orthonormal_constraint_' was not declared in this scope
 7852 |   if (orthonormal_constraint_ != 0.0)
      |       ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7854:31: error: 'test_mode_' was not declared in this scope
 7854 |   stream << ", test-mode=" << test_mode_;
      |                               ^~~~~~~~~~
nnet-simple-component.cc:7855:37: error: 'share_std_input_' was not declared in this scope
 7855 |   stream << ", share-std-input=" << share_std_input_;
      |                                     ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:7856:38: error: 'share_std_output_' was not declared in this scope
 7856 |   stream << ", share-std-output=" << share_std_output_;
      |                                      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7857:46: error: 'share_std_input_sampling_' was not declared in this scope
 7857 |   stream << ", share-std-input-sampling=" << share_std_input_sampling_;
      |                                              ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7858:47: error: 'share_std_output_sampling_' was not declared in this scope
 7858 |   stream << ", share-std-output-sampling=" << share_std_output_sampling_;
      |                                               ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7859:33: error: 'use_exp_std_' was not declared in this scope
 7859 |   stream << ", use-exp-std=" << use_exp_std_;
      |                                 ^~~~~~~~~~~~
nnet-simple-component.cc:7860:34: error: 'update_prior_' was not declared in this scope
 7860 |   stream << ", update-prior=" << update_prior_;
      |                                  ^~~~~~~~~~~~~
nnet-simple-component.cc:7861:30: error: 'KL_scale_' was not declared in this scope
 7861 |   stream << ", KL-scale=" << KL_scale_;
      |                              ^~~~~~~~~
nnet-simple-component.cc:7862:53: error: 'linear_params_mean_' was not declared in this scope
 7862 |   PrintParameterStats(stream, "linear-params-mean", linear_params_mean_,
      |                                                     ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7862:3: error: 'PrintParameterStats' was not declared in this scope; did you mean 'kaldi::nnet3::PrintParameterStats'?
 7862 |   PrintParameterStats(stream, "linear-params-mean", linear_params_mean_,
      |   ^~~~~~~~~~~~~~~~~~~
      |   kaldi::nnet3::PrintParameterStats
In file included from ../nnet3/nnet-component-itf.h:27,
                 from ../nnet3/nnet-simple-component.h:30,
                 from nnet-simple-component.cc:28:
../nnet3/nnet-parse.h:112:6: note: 'kaldi::nnet3::PrintParameterStats' declared here
  112 | void PrintParameterStats(std::ostringstream &os,
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7867:52: error: 'linear_params_std_' was not declared in this scope
 7867 |   PrintParameterStats(stream, "linear-params-std", linear_params_std_,
      |                                                    ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7872:52: error: 'linear_prior_mean_' was not declared in this scope
 7872 |   PrintParameterStats(stream, "linear-prior-mean", linear_prior_mean_,
      |                                                    ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7877:51: error: 'linear_prior_std_' was not declared in this scope
 7877 |   PrintParameterStats(stream, "linear-prior-std", linear_prior_std_,
      |                                                   ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7882:39: error: 'bias_params_' was not declared in this scope
 7882 |   PrintParameterStats(stream, "bias", bias_params_, true);
      |                                       ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7886:1: error: 'Component' does not name a type
 7886 | Component* BayesAffineComponent::Copy() const {
      | ^~~~~~~~~
nnet-simple-component.cc:7891:11: error: 'BayesAffineComponent' has not been declared
 7891 | BaseFloat BayesAffineComponent::DotProduct(const UpdatableComponent &other_in) const {
      |           ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7891:50: error: 'UpdatableComponent' does not name a type
 7891 | BaseFloat BayesAffineComponent::DotProduct(const UpdatableComponent &other_in) const {
      |                                                  ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7891:80: error: non-member function 'kaldi::BaseFloat kaldi::DotProduct(const int&)' cannot have cv-qualifier
 7891 | BaseFloat BayesAffineComponent::DotProduct(const UpdatableComponent &other_in) const {
      |                                                                                ^~~~~
nnet-simple-component.cc: In function 'kaldi::BaseFloat kaldi::DotProduct(const int&)':
nnet-simple-component.cc:7892:9: error: 'BayesAffineComponent' does not name a type
 7892 |   const BayesAffineComponent *other =
      |         ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7894:22: error: 'linear_params_mean_' was not declared in this scope
 7894 |   return TraceMatMat(linear_params_mean_, other->linear_params_mean_, kTrans)
      |                      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7894:43: error: 'other' was not declared in this scope; did you mean 'other_in'?
 7894 |   return TraceMatMat(linear_params_mean_, other->linear_params_mean_, kTrans)
      |                                           ^~~~~
      |                                           other_in
nnet-simple-component.cc:7895:21: error: 'linear_prior_mean_' was not declared in this scope
 7895 |       + TraceMatMat(linear_prior_mean_, other->linear_prior_mean_, kTrans)
      |                     ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7896:16: error: 'bias_params_' was not declared in this scope
 7896 |       + VecVec(bias_params_, other->bias_params_);
      |                ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7899:6: error: 'BayesAffineComponent' has not been declared
 7899 | void BayesAffineComponent::Init(int32 input_dim, int32 output_dim,
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(int32, int32, kaldi::BaseFloat, kaldi::BaseFloat, kaldi::BaseFloat, kaldi::BaseFloat, kaldi::BaseFloat)':
nnet-simple-component.cc:7902:3: error: 'linear_params_mean_' was not declared in this scope
 7902 |   linear_params_mean_.Resize(output_dim, input_dim);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7903:3: error: 'linear_prior_mean_' was not declared in this scope
 7903 |   linear_prior_mean_.Resize(output_dim, input_dim);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7906:7: error: 'share_std_input_' was not declared in this scope
 7906 |   if (share_std_input_) {
      |       ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:7909:7: error: 'share_std_output_' was not declared in this scope
 7909 |   if (share_std_output_) {
      |       ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7912:3: error: 'linear_params_std_' was not declared in this scope
 7912 |   linear_params_std_.Resize(output_dim_re, input_dim_re);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7913:3: error: 'linear_prior_std_' was not declared in this scope
 7913 |   linear_prior_std_.Resize(output_dim_re, input_dim_re);
      |   ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7914:3: error: 'bias_params_' was not declared in this scope
 7914 |   bias_params_.Resize(output_dim);
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:7921:8: error: 'use_exp_std_' was not declared in this scope
 7921 |   if (!use_exp_std_) {
      |        ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7935:6: error: 'BayesAffineComponent' has not been declared
 7935 | void BayesAffineComponent::Init(std::string matrix_filename) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(std::string)':
nnet-simple-component.cc:7941:3: error: 'linear_params_mean_' was not declared in this scope
 7941 |   linear_params_mean_.Resize(output_dim, input_dim);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7942:3: error: 'linear_prior_mean_' was not declared in this scope
 7942 |   linear_prior_mean_.Resize(output_dim, input_dim);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7945:7: error: 'share_std_input_' was not declared in this scope
 7945 |   if (share_std_input_) {
      |       ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:7948:7: error: 'share_std_output_' was not declared in this scope
 7948 |   if (share_std_output_) {
      |       ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7951:3: error: 'linear_params_std_' was not declared in this scope
 7951 |   linear_params_std_.Resize(output_dim_re, input_dim_re);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7952:3: error: 'linear_prior_std_' was not declared in this scope
 7952 |   linear_prior_std_.Resize(output_dim_re, input_dim_re);
      |   ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7953:3: error: 'bias_params_' was not declared in this scope
 7953 |   bias_params_.Resize(output_dim);
      |   ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:7965:6: error: 'BayesAffineComponent' has not been declared
 7965 | void BayesAffineComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7965:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:7969:3: error: 'test_mode_' was not declared in this scope
 7969 |   test_mode_ = false;
      |   ^~~~~~~~~~
nnet-simple-component.cc:7970:3: error: 'share_std_input_' was not declared in this scope
 7970 |   share_std_input_ = false;
      |   ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:7971:3: error: 'share_std_output_' was not declared in this scope
 7971 |   share_std_output_ = false;
      |   ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7972:3: error: 'share_std_input_sampling_' was not declared in this scope
 7972 |   share_std_input_sampling_ = false;
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7973:3: error: 'share_std_output_sampling_' was not declared in this scope
 7973 |   share_std_output_sampling_ = false;
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7974:3: error: 'use_exp_std_' was not declared in this scope
 7974 |   use_exp_std_ = false;
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:7975:3: error: 'update_prior_' was not declared in this scope
 7975 |   update_prior_ = false;
      |   ^~~~~~~~~~~~~
nnet-simple-component.cc:7976:3: error: 'KL_scale_' was not declared in this scope
 7976 |   KL_scale_ = 0.00001;
      |   ^~~~~~~~~
nnet-simple-component.cc:7977:3: error: 'InitLearningRatesFromConfig' was not declared in this scope
 7977 |   InitLearningRatesFromConfig(cfl);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc:7989:33: error: 'InputDim' was not declared in this scope; did you mean 'input_dim'?
 7989 |       KALDI_ASSERT(input_dim == InputDim() &&
      |                                 ^~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:7992:34: error: 'OutputDim' was not declared in this scope; did you mean 'output_dim'?
 7992 |       KALDI_ASSERT(output_dim == OutputDim() &&
      |                                  ^~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:8014:44: error: 'orthonormal_constraint_' was not declared in this scope
 8014 |   cfl->GetValue("orthonormal-constraint", &orthonormal_constraint_);
      |                                            ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8026:7: error: 'BayesAffineComponent' has not been declared
 8026 | void* BayesAffineComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8026:45: error: 'ComponentPrecomputedIndexes' does not name a type
 8026 | void* BayesAffineComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8028:64: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 8028 |                                  CuMatrixBase<BaseFloat> *out) const {
      |                                                                ^~~~~
nnet-simple-component.cc:8026:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 8026 | void* BayesAffineComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:8031:24: error: 'bias_params_' was not declared in this scope
 8031 |   out->CopyRowsFromVec(bias_params_); // copies bias_params_ to each row
      |                        ^~~~~~~~~~~~
nnet-simple-component.cc:8034:21: error: 'linear_params_mean_' was not declared in this scope
 8034 |   int32 dim_input = linear_params_mean_.NumCols();
      |                     ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8040:7: error: 'share_std_input_sampling_' was not declared in this scope
 8040 |   if (share_std_input_sampling_) {
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8043:7: error: 'share_std_output_sampling_' was not declared in this scope
 8043 |   if (share_std_output_sampling_) {
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8049:7: error: 'test_mode_' was not declared in this scope
 8049 |   if (test_mode_) {
      |       ^~~~~~~~~~
nnet-simple-component.cc:8057:36: error: 'linear_params_std_' was not declared in this scope; did you mean 'linear_params_'?
 8057 |   linear_params_.AddMatBlocks(1.0, linear_params_std_, kNoTrans); // std
      |                                    ^~~~~~~~~~~~~~~~~~
      |                                    linear_params_
nnet-simple-component.cc:8058:7: error: 'use_exp_std_' was not declared in this scope
 8058 |   if (use_exp_std_) {
      |       ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8074:6: error: 'BayesAffineComponent' has not been declared
 8074 | void BayesAffineComponent::UpdateSimple(const CuMatrixBase<BaseFloat> &in_value,
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::UpdateSimple(const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&)':
nnet-simple-component.cc:8077:3: error: 'bias_params_' was not declared in this scope
 8077 |   bias_params_.AddRowSumMat(learning_rate_, out_deriv, 1.0);
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:8077:29: error: 'learning_rate_' was not declared in this scope
 8077 |   bias_params_.AddRowSumMat(learning_rate_, out_deriv, 1.0);
      |                             ^~~~~~~~~~~~~~
nnet-simple-component.cc:8079:21: error: 'linear_params_mean_' was not declared in this scope
 8079 |   int32 dim_input = linear_params_mean_.NumCols();
      |                     ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8086:7: error: 'use_exp_std_' was not declared in this scope
 8086 |   if (use_exp_std_) {
      |       ^~~~~~~~~~~~
nnet-simple-component.cc:8087:46: error: 'linear_params_std_' was not declared in this scope; did you mean 'linear_params_std_exp'?
 8087 |    CuMatrix<BaseFloat> linear_params_std_exp(linear_params_std_);
      |                                              ^~~~~~~~~~~~~~~~~~
      |                                              linear_params_std_exp
nnet-simple-component.cc:8092:3: error: 'linear_params_std_' was not declared in this scope
 8092 |   linear_params_std_.AddMatBlocks(learning_rate_, linear_deriv, kNoTrans);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8094:7: error: 'KL_scale_' was not declared in this scope
 8094 |   if (KL_scale_ != 0) {
      |       ^~~~~~~~~
nnet-simple-component.cc:8110:46: error: 'linear_prior_std_' was not declared in this scope; did you mean 'inv_prior_std'?
 8110 |    linear_prior_std_resize.AddMatBlocks(1.0, linear_prior_std_, kNoTrans);
      |                                              ^~~~~~~~~~~~~~~~~
      |                                              inv_prior_std
nnet-simple-component.cc:8112:8: error: 'use_exp_std_' was not declared in this scope
 8112 |    if (use_exp_std_) {
      |        ^~~~~~~~~~~~
nnet-simple-component.cc:8128:22: error: 'linear_prior_mean_' was not declared in this scope
 8128 |    diff.AddMat(-1.0, linear_prior_mean_); // post_mean - prior_mean
      |                      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8145:8: error: 'use_exp_std_' was not declared in this scope
 8145 |    if (use_exp_std_) {
      |        ^~~~~~~~~~~~
nnet-simple-component.cc:8153:8: error: 'update_prior_' was not declared in this scope
 8153 |    if (update_prior_) {
      |        ^~~~~~~~~~~~~
nnet-simple-component.cc:8158:10: error: 'use_exp_std_' was not declared in this scope
 8158 |     if (!use_exp_std_) {
      |          ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8169:6: error: 'BayesAffineComponent' has not been declared
 8169 | void BayesAffineComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8170:38: error: 'ComponentPrecomputedIndexes' does not name a type
 8170 |                                const ComponentPrecomputedIndexes *indexes,
      |                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8175:32: error: 'Component' has not been declared
 8175 |                                Component *to_update_in,
      |                                ^~~~~~~~~
nnet-simple-component.cc:8176:67: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 8176 |                                CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                   ^~~~~
nnet-simple-component.cc:8169:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 8169 | void BayesAffineComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:8177:3: error: 'BayesAffineComponent' was not declared in this scope; did you mean 'kaldi::nnet3::BayesAffineComponent'?
 8177 |   BayesAffineComponent *to_update = dynamic_cast<BayesAffineComponent*>(to_update_in);
      |   ^~~~~~~~~~~~~~~~~~~~
      |   kaldi::nnet3::BayesAffineComponent
In file included from nnet-simple-component.cc:28:
../nnet3/nnet-simple-component.h:3054:7: note: 'kaldi::nnet3::BayesAffineComponent' declared here
 3054 | class BayesAffineComponent: public UpdatableComponent {
      |       ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8177:25: error: 'to_update' was not declared in this scope; did you mean 'to_update_in'?
 8177 |   BayesAffineComponent *to_update = dynamic_cast<BayesAffineComponent*>(to_update_in);
      |                         ^~~~~~~~~
      |                         to_update_in
nnet-simple-component.cc:8177:50: error: 'BayesAffineComponent' does not name a type
 8177 |   BayesAffineComponent *to_update = dynamic_cast<BayesAffineComponent*>(to_update_in);
      |                                                  ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8177:70: error: expected '>' before '*' token
 8177 |   BayesAffineComponent *to_update = dynamic_cast<BayesAffineComponent*>(to_update_in);
      |                                                                      ^
nnet-simple-component.cc:8177:70: error: expected '(' before '*' token
 8177 |   BayesAffineComponent *to_update = dynamic_cast<BayesAffineComponent*>(to_update_in);
      |                                                                      ^
      |                                                                      (
nnet-simple-component.cc:8177:71: error: expected primary-expression before '>' token
 8177 |   BayesAffineComponent *to_update = dynamic_cast<BayesAffineComponent*>(to_update_in);
      |                                                                       ^
nnet-simple-component.cc:8177:86: error: expected ')' before ';' token
 8177 |   BayesAffineComponent *to_update = dynamic_cast<BayesAffineComponent*>(to_update_in);
      |                                                                                      ^
      |                                                                                      )
nnet-simple-component.cc:8179:21: error: 'linear_params_mean_' was not declared in this scope
 8179 |   int32 dim_input = linear_params_mean_.NumCols();
      |                     ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8203:6: error: 'BayesAffineComponent' has not been declared
 8203 | void BayesAffineComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8203:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:8204:3: error: 'ReadUpdatableCommon' was not declared in this scope
 8204 |   ReadUpdatableCommon(is, binary);  // read opening tag and learning rate.
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8206:3: error: 'linear_params_mean_' was not declared in this scope
 8206 |   linear_params_mean_.Read(is, binary);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8208:3: error: 'linear_params_std_' was not declared in this scope
 8208 |   linear_params_std_.Read(is, binary);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8210:3: error: 'linear_prior_mean_' was not declared in this scope
 8210 |   linear_prior_mean_.Read(is, binary);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8212:3: error: 'linear_prior_std_' was not declared in this scope
 8212 |   linear_prior_std_.Read(is, binary);
      |   ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8214:3: error: 'bias_params_' was not declared in this scope
 8214 |   bias_params_.Read(is, binary);
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:8219:32: error: 'is_gradient_' was not declared in this scope
 8219 |     ReadBasicType(is, binary, &is_gradient_);
      |                                ^~~~~~~~~~~~
nnet-simple-component.cc:8223:32: error: 'orthonormal_constraint_' was not declared in this scope
 8223 |     ReadBasicType(is, binary, &orthonormal_constraint_);
      |                                ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8225:5: error: 'orthonormal_constraint_' was not declared in this scope
 8225 |     orthonormal_constraint_ = 0.0;
      |     ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8228:30: error: 'test_mode_' was not declared in this scope
 8228 |   ReadBasicType(is, binary, &test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:8230:30: error: 'share_std_input_' was not declared in this scope
 8230 |   ReadBasicType(is, binary, &share_std_input_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:8232:30: error: 'share_std_output_' was not declared in this scope
 8232 |   ReadBasicType(is, binary, &share_std_output_);
      |                              ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8234:30: error: 'share_std_input_sampling_' was not declared in this scope
 8234 |   ReadBasicType(is, binary, &share_std_input_sampling_);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8236:30: error: 'share_std_output_sampling_' was not declared in this scope
 8236 |   ReadBasicType(is, binary, &share_std_output_sampling_);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8238:30: error: 'use_exp_std_' was not declared in this scope
 8238 |   ReadBasicType(is, binary, &use_exp_std_);
      |                              ^~~~~~~~~~~~
nnet-simple-component.cc:8240:30: error: 'update_prior_' was not declared in this scope
 8240 |   ReadBasicType(is, binary, &update_prior_);
      |                              ^~~~~~~~~~~~~
nnet-simple-component.cc:8242:30: error: 'KL_scale_' was not declared in this scope
 8242 |   ReadBasicType(is, binary, &KL_scale_);
      |                              ^~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8246:6: error: 'BayesAffineComponent' has not been declared
 8246 | void BayesAffineComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8246:65: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 8246 | void BayesAffineComponent::Write(std::ostream &os, bool binary) const {
      |                                                                 ^~~~~
nnet-simple-component.cc:8246:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 8246 | void BayesAffineComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:8247:3: error: 'WriteUpdatableCommon' was not declared in this scope
 8247 |   WriteUpdatableCommon(os, binary);  // Write opening tag and learning rate
      |   ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8249:3: error: 'linear_params_mean_' was not declared in this scope
 8249 |   linear_params_mean_.Write(os, binary);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8251:3: error: 'linear_params_std_' was not declared in this scope
 8251 |   linear_params_std_.Write(os, binary);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8253:3: error: 'linear_prior_mean_' was not declared in this scope
 8253 |   linear_prior_mean_.Write(os, binary);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8255:3: error: 'linear_prior_std_' was not declared in this scope
 8255 |   linear_prior_std_.Write(os, binary);
      |   ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8257:3: error: 'bias_params_' was not declared in this scope
 8257 |   bias_params_.Write(os, binary);
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:8258:7: error: 'orthonormal_constraint_' was not declared in this scope
 8258 |   if (orthonormal_constraint_ != 0.0) {
      |       ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8263:30: error: 'test_mode_' was not declared in this scope
 8263 |   WriteBasicType(os, binary, test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:8265:30: error: 'share_std_input_' was not declared in this scope
 8265 |   WriteBasicType(os, binary, share_std_input_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:8267:30: error: 'share_std_output_' was not declared in this scope
 8267 |   WriteBasicType(os, binary, share_std_output_);
      |                              ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8269:30: error: 'share_std_input_sampling_' was not declared in this scope
 8269 |   WriteBasicType(os, binary, share_std_input_sampling_);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8271:30: error: 'share_std_output_sampling_' was not declared in this scope
 8271 |   WriteBasicType(os, binary, share_std_output_sampling_);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8273:30: error: 'use_exp_std_' was not declared in this scope
 8273 |   WriteBasicType(os, binary, use_exp_std_);
      |                              ^~~~~~~~~~~~
nnet-simple-component.cc:8275:30: error: 'update_prior_' was not declared in this scope
 8275 |   WriteBasicType(os, binary, update_prior_);
      |                              ^~~~~~~~~~~~~
nnet-simple-component.cc:8277:30: error: 'KL_scale_' was not declared in this scope
 8277 |   WriteBasicType(os, binary, KL_scale_);
      |                              ^~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8281:7: error: 'BayesAffineComponent' has not been declared
 8281 | int32 BayesAffineComponent::NumParameters() const {
      |       ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8281:45: error: non-member function 'int32 kaldi::NumParameters()' cannot have cv-qualifier
 8281 | int32 BayesAffineComponent::NumParameters() const {
      |                                             ^~~~~
nnet-simple-component.cc: In function 'int32 kaldi::NumParameters()':
nnet-simple-component.cc:8282:22: error: 'linear_params_std_' was not declared in this scope
 8282 |   int32 in_dim_std = linear_params_std_.NumCols(), out_dim_std = linear_params_std_.NumRows();
      |                      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8283:11: error: 'InputDim' was not declared in this scope; did you mean 'Input'?
 8283 |   return (InputDim()*2 + 1) * OutputDim() + in_dim_std*out_dim_std*2;
      |           ^~~~~~~~
      |           Input
nnet-simple-component.cc:8283:31: error: 'OutputDim' was not declared in this scope; did you mean 'Output'?
 8283 |   return (InputDim()*2 + 1) * OutputDim() + in_dim_std*out_dim_std*2;
      |                               ^~~~~~~~~
      |                               Output
nnet-simple-component.cc:8283:56: error: 'out_dim_std' was not declared in this scope; did you mean 'in_dim_std'?
 8283 |   return (InputDim()*2 + 1) * OutputDim() + in_dim_std*out_dim_std*2;
      |                                                        ^~~~~~~~~~~
      |                                                        in_dim_std
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8285:6: error: 'BayesAffineComponent' has not been declared
 8285 | void BayesAffineComponent::Vectorize(VectorBase<BaseFloat> *params) const {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8285:69: error: non-member function 'void kaldi::Vectorize(kaldi::VectorBase<float>*)' cannot have cv-qualifier
 8285 | void BayesAffineComponent::Vectorize(VectorBase<BaseFloat> *params) const {
      |                                                                     ^~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void kaldi::Vectorize(kaldi::VectorBase<float>*)':
nnet-simple-component.cc:8286:33: error: invalid use of 'this' in non-member function
 8286 |   KALDI_ASSERT(params->Dim() == this->NumParameters());
      |                                 ^~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:8287:22: error: 'linear_params_std_' was not declared in this scope
 8287 |   int32 in_dim_std = linear_params_std_.NumCols(),
      |                      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8291:20: error: 'InputDim' was not declared in this scope; did you mean 'Input'?
 8291 |   params->Range(0, InputDim() * OutputDim()).CopyRowsFromMat(linear_params_mean_);
      |                    ^~~~~~~~
      |                    Input
nnet-simple-component.cc:8291:33: error: 'OutputDim' was not declared in this scope; did you mean 'Output'?
 8291 |   params->Range(0, InputDim() * OutputDim()).CopyRowsFromMat(linear_params_mean_);
      |                                 ^~~~~~~~~
      |                                 Output
nnet-simple-component.cc:8291:62: error: 'linear_params_mean_' was not declared in this scope
 8291 |   params->Range(0, InputDim() * OutputDim()).CopyRowsFromMat(linear_params_mean_);
      |                                                              ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8292:3: error: 'pose_current' was not declared in this scope
 8292 |   pose_current = InputDim() * OutputDim();
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:8293:42: error: 'out_dim_std' was not declared in this scope; did you mean 'in_dim_std'?
 8293 |   params->Range(pose_current, in_dim_std*out_dim_std).CopyRowsFromMat(linear_params_std_);
      |                                          ^~~~~~~~~~~
      |                                          in_dim_std
nnet-simple-component.cc:8295:73: error: 'linear_prior_mean_' was not declared in this scope
 8295 |   params->Range(pose_current, InputDim() * OutputDim()).CopyRowsFromMat(linear_prior_mean_);
      |                                                                         ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8297:71: error: 'linear_prior_std_' was not declared in this scope
 8297 |   params->Range(pose_current, in_dim_std*out_dim_std).CopyRowsFromMat(linear_prior_std_);
      |                                                                       ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8299:56: error: 'bias_params_' was not declared in this scope
 8299 |   params->Range(pose_current, OutputDim()).CopyFromVec(bias_params_);
      |                                                        ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8301:6: error: 'BayesAffineComponent' has not been declared
 8301 | void BayesAffineComponent::UnVectorize(const VectorBase<BaseFloat> &params) {
      |      ^~~~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void kaldi::UnVectorize(const kaldi::VectorBase<float>&)':
nnet-simple-component.cc:8302:32: error: invalid use of 'this' in non-member function
 8302 |   KALDI_ASSERT(params.Dim() == this->NumParameters());
      |                                ^~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:8303:22: error: 'linear_params_std_' was not declared in this scope
 8303 |   int32 in_dim_std = linear_params_std_.NumCols(),
      |                      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8307:3: error: 'linear_params_mean_' was not declared in this scope
 8307 |   linear_params_mean_.CopyRowsFromVec(params.Range(0, InputDim() * OutputDim()));
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8307:55: error: 'InputDim' was not declared in this scope; did you mean 'Input'?
 8307 |   linear_params_mean_.CopyRowsFromVec(params.Range(0, InputDim() * OutputDim()));
      |                                                       ^~~~~~~~
      |                                                       Input
nnet-simple-component.cc:8307:68: error: 'OutputDim' was not declared in this scope; did you mean 'Output'?
 8307 |   linear_params_mean_.CopyRowsFromVec(params.Range(0, InputDim() * OutputDim()));
      |                                                                    ^~~~~~~~~
      |                                                                    Output
nnet-simple-component.cc:8308:3: error: 'pose_current' was not declared in this scope
 8308 |   pose_current = InputDim() * OutputDim();
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:8309:76: error: 'out_dim_std' was not declared in this scope; did you mean 'in_dim_std'?
 8309 |   linear_params_std_.CopyRowsFromVec(params.Range(pose_current, in_dim_std*out_dim_std));
      |                                                                            ^~~~~~~~~~~
      |                                                                            in_dim_std
nnet-simple-component.cc:8311:3: error: 'linear_prior_mean_' was not declared in this scope
 8311 |   linear_prior_mean_.CopyRowsFromVec(params.Range(pose_current, InputDim() * OutputDim()));
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8313:3: error: 'linear_prior_std_' was not declared in this scope
 8313 |   linear_prior_std_.CopyRowsFromVec(params.Range(pose_current, in_dim_std*out_dim_std));
      |   ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8315:3: error: 'bias_params_' was not declared in this scope
 8315 |   bias_params_.CopyFromVec(params.Range(pose_current, OutputDim()));
      |   ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8321:6: error: 'NaturalGradientBayesAffineComponent' has not been declared
 8321 | void NaturalGradientBayesAffineComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8321:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:8322:3: error: 'ReadUpdatableCommon' was not declared in this scope
 8322 |   ReadUpdatableCommon(is, binary);  // read opening tag and learning rate.
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8324:3: error: 'linear_params_mean_' was not declared in this scope
 8324 |   linear_params_mean_.Read(is, binary);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8326:3: error: 'linear_params_std_' was not declared in this scope
 8326 |   linear_params_std_.Read(is, binary);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8328:3: error: 'linear_prior_mean_' was not declared in this scope
 8328 |   linear_prior_mean_.Read(is, binary);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8330:3: error: 'linear_prior_std_' was not declared in this scope
 8330 |   linear_prior_std_.Read(is, binary);
      |   ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8332:3: error: 'bias_params_' was not declared in this scope
 8332 |   bias_params_.Read(is, binary);
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:8334:30: error: 'test_mode_' was not declared in this scope
 8334 |   ReadBasicType(is, binary, &test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:8336:30: error: 'share_std_input_' was not declared in this scope
 8336 |   ReadBasicType(is, binary, &share_std_input_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:8338:30: error: 'share_std_output_' was not declared in this scope
 8338 |   ReadBasicType(is, binary, &share_std_output_);
      |                              ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8340:30: error: 'share_std_input_sampling_' was not declared in this scope
 8340 |   ReadBasicType(is, binary, &share_std_input_sampling_);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8342:30: error: 'share_std_output_sampling_' was not declared in this scope
 8342 |   ReadBasicType(is, binary, &share_std_output_sampling_);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8344:30: error: 'use_exp_std_' was not declared in this scope
 8344 |   ReadBasicType(is, binary, &use_exp_std_);
      |                              ^~~~~~~~~~~~
nnet-simple-component.cc:8346:30: error: 'update_prior_' was not declared in this scope
 8346 |   ReadBasicType(is, binary, &update_prior_);
      |                              ^~~~~~~~~~~~~
nnet-simple-component.cc:8348:30: error: 'KL_scale_' was not declared in this scope
 8348 |   ReadBasicType(is, binary, &KL_scale_);
      |                              ^~~~~~~~~
nnet-simple-component.cc:8359:32: error: 'orthonormal_constraint_' was not declared in this scope
 8359 |     ReadBasicType(is, binary, &orthonormal_constraint_);
      |                                ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8361:5: error: 'orthonormal_constraint_' was not declared in this scope
 8361 |     orthonormal_constraint_ = 0.0;
      |     ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8370:3: error: 'preconditioner_in_' was not declared in this scope
 8370 |   preconditioner_in_.SetNumSamplesHistory(num_samples_history);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8371:3: error: 'preconditioner_out_' was not declared in this scope
 8371 |   preconditioner_out_.SetNumSamplesHistory(num_samples_history);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8389:32: error: 'is_gradient_' was not declared in this scope
 8389 |     ReadBasicType(is, binary, &is_gradient_);
      |                                ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8410:1: error: 'NaturalGradientBayesAffineComponent' does not name a type
 8410 | NaturalGradientBayesAffineComponent::NaturalGradientBayesAffineComponent(
      | ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8427:6: error: 'NaturalGradientBayesAffineComponent' has not been declared
 8427 | void NaturalGradientBayesAffineComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8427:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:8431:3: error: 'is_gradient_' was not declared in this scope
 8431 |   is_gradient_ = false;  // not configurable; there's no reason you'd want this
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:8433:3: error: 'test_mode_' was not declared in this scope
 8433 |   test_mode_ = false;
      |   ^~~~~~~~~~
nnet-simple-component.cc:8434:3: error: 'share_std_input_' was not declared in this scope
 8434 |   share_std_input_ = false;
      |   ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:8435:3: error: 'share_std_output_' was not declared in this scope
 8435 |   share_std_output_ = false;
      |   ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8436:3: error: 'share_std_input_sampling_' was not declared in this scope
 8436 |   share_std_input_sampling_ = false;
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8437:3: error: 'share_std_output_sampling_' was not declared in this scope
 8437 |   share_std_output_sampling_ = false;
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8438:3: error: 'use_exp_std_' was not declared in this scope
 8438 |   use_exp_std_ = false;
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:8439:3: error: 'update_prior_' was not declared in this scope
 8439 |   update_prior_ = false;
      |   ^~~~~~~~~~~~~
nnet-simple-component.cc:8440:3: error: 'KL_scale_' was not declared in this scope
 8440 |   KL_scale_ = 0.00001;
      |   ^~~~~~~~~
nnet-simple-component.cc:8442:3: error: 'InitLearningRatesFromConfig' was not declared in this scope
 8442 |   InitLearningRatesFromConfig(cfl);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8460:2: error: 'linear_params_mean_' was not declared in this scope
 8460 |  linear_params_mean_.Resize(output_dim, input_dim);
      |  ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8461:2: error: 'linear_prior_mean_' was not declared in this scope
 8461 |  linear_prior_mean_.Resize(output_dim, input_dim);
      |  ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8471:5: error: 'linear_params_std_' was not declared in this scope
 8471 |     linear_params_std_.Resize(output_dim_re, input_dim_re);
      |     ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8472:5: error: 'linear_prior_std_' was not declared in this scope
 8472 |     linear_prior_std_.Resize(output_dim_re, input_dim_re);
      |     ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8473:5: error: 'bias_params_' was not declared in this scope
 8473 |     bias_params_.Resize(output_dim);
      |     ^~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc:8482:33: error: 'InputDim' was not declared in this scope; did you mean 'input_dim'?
 8482 |       KALDI_ASSERT(input_dim == InputDim() &&
      |                                 ^~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:8485:34: error: 'OutputDim' was not declared in this scope; did you mean 'output_dim'?
 8485 |       KALDI_ASSERT(output_dim == OutputDim() &&
      |                                  ^~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:8510:5: error: 'linear_params_mean_' was not declared in this scope
 8510 |     linear_params_mean_.Resize(output_dim, input_dim);
      |     ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8511:5: error: 'linear_prior_mean_' was not declared in this scope
 8511 |     linear_prior_mean_.Resize(output_dim, input_dim);
      |     ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8520:5: error: 'linear_params_std_' was not declared in this scope
 8520 |     linear_params_std_.Resize(output_dim_re, input_dim_re);
      |     ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8521:5: error: 'linear_prior_std_' was not declared in this scope
 8521 |     linear_prior_std_.Resize(output_dim_re, input_dim_re);
      |     ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8522:5: error: 'bias_params_' was not declared in this scope
 8522 |     bias_params_.Resize(output_dim);
      |     ^~~~~~~~~~~~
nnet-simple-component.cc:8541:3: error: 'orthonormal_constraint_' was not declared in this scope
 8541 |   orthonormal_constraint_ = 0.0;
      |   ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8556:36: error: 'InputDim' was not declared in this scope; did you mean 'Input'?
 8556 |     rank_in = std::min<int32>(20, (InputDim() + 1) / 2);
      |                                    ^~~~~~~~
      |                                    Input
nnet-simple-component.cc:8558:37: error: 'OutputDim' was not declared in this scope; did you mean 'Output'?
 8558 |     rank_out = std::min<int32>(80, (OutputDim() + 1) / 2);
      |                                     ^~~~~~~~~
      |                                     Output
nnet-simple-component.cc:8560:3: error: 'preconditioner_in_' was not declared in this scope
 8560 |   preconditioner_in_.SetNumSamplesHistory(num_samples_history);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8561:3: error: 'preconditioner_out_' was not declared in this scope
 8561 |   preconditioner_out_.SetNumSamplesHistory(num_samples_history);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8576:6: error: 'NaturalGradientBayesAffineComponent' has not been declared
 8576 | void NaturalGradientBayesAffineComponent::Write(std::ostream &os,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8577:57: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 8577 |                                            bool binary) const {
      |                                                         ^~~~~
nnet-simple-component.cc:8576:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 8576 | void NaturalGradientBayesAffineComponent::Write(std::ostream &os,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:8578:3: error: 'WriteUpdatableCommon' was not declared in this scope
 8578 |   WriteUpdatableCommon(os, binary);  // Write opening tag and learning rate
      |   ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8580:3: error: 'linear_params_mean_' was not declared in this scope
 8580 |   linear_params_mean_.Write(os, binary);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8582:3: error: 'linear_params_std_' was not declared in this scope
 8582 |   linear_params_std_.Write(os, binary);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8584:3: error: 'linear_prior_mean_' was not declared in this scope
 8584 |   linear_prior_mean_.Write(os, binary);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8586:3: error: 'linear_prior_std_' was not declared in this scope
 8586 |   linear_prior_std_.Write(os, binary);
      |   ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8588:3: error: 'bias_params_' was not declared in this scope
 8588 |   bias_params_.Write(os, binary);
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:8590:30: error: 'test_mode_' was not declared in this scope
 8590 |   WriteBasicType(os, binary, test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:8592:30: error: 'share_std_input_' was not declared in this scope
 8592 |   WriteBasicType(os, binary, share_std_input_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:8594:30: error: 'share_std_output_' was not declared in this scope
 8594 |   WriteBasicType(os, binary, share_std_output_);
      |                              ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8596:30: error: 'share_std_input_sampling_' was not declared in this scope
 8596 |   WriteBasicType(os, binary, share_std_input_sampling_);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8598:30: error: 'share_std_output_sampling_' was not declared in this scope
 8598 |   WriteBasicType(os, binary, share_std_output_sampling_);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8600:30: error: 'use_exp_std_' was not declared in this scope
 8600 |   WriteBasicType(os, binary, use_exp_std_);
      |                              ^~~~~~~~~~~~
nnet-simple-component.cc:8602:30: error: 'update_prior_' was not declared in this scope
 8602 |   WriteBasicType(os, binary, update_prior_);
      |                              ^~~~~~~~~~~~~
nnet-simple-component.cc:8604:30: error: 'KL_scale_' was not declared in this scope
 8604 |   WriteBasicType(os, binary, KL_scale_);
      |                              ^~~~~~~~~
nnet-simple-component.cc:8606:30: error: 'preconditioner_in_' was not declared in this scope
 8606 |   WriteBasicType(os, binary, preconditioner_in_.GetRank());
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8608:30: error: 'preconditioner_out_' was not declared in this scope
 8608 |   WriteBasicType(os, binary, preconditioner_out_.GetRank());
      |                              ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8609:7: error: 'orthonormal_constraint_' was not declared in this scope
 8609 |   if (orthonormal_constraint_ != 0.0) {
      |       ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8622:13: error: 'NaturalGradientBayesAffineComponent' has not been declared
 8622 | std::string NaturalGradientBayesAffineComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8622:57: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
 8622 | std::string NaturalGradientBayesAffineComponent::Info() const {
      |                                                         ^~~~~
nnet-simple-component.cc:8622:13: error: redefinition of 'std::string kaldi::Info()'
 8622 | std::string NaturalGradientBayesAffineComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:8624:13: error: 'BayesAffineComponent' has not been declared
 8624 |   stream << BayesAffineComponent::Info();
      |             ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8625:29: error: 'preconditioner_in_' was not declared in this scope
 8625 |   stream << ", rank-in=" << preconditioner_in_.GetRank()
      |                             ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8626:30: error: 'preconditioner_out_' was not declared in this scope
 8626 |          << ", rank-out=" << preconditioner_out_.GetRank()
      |                              ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8633:1: error: 'Component' does not name a type
 8633 | Component* NaturalGradientBayesAffineComponent::Copy() const {
      | ^~~~~~~~~
nnet-simple-component.cc:8637:1: error: 'NaturalGradientBayesAffineComponent' does not name a type
 8637 | NaturalGradientBayesAffineComponent::NaturalGradientBayesAffineComponent(
      | ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8643:6: error: 'NaturalGradientBayesAffineComponent' has not been declared
 8643 | void NaturalGradientBayesAffineComponent::Update(
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Update(const string&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&)':
nnet-simple-component.cc:8665:3: error: 'preconditioner_in_' was not declared in this scope
 8665 |   preconditioner_in_.PreconditionDirections(&in_value_temp, &in_scale);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8666:3: error: 'preconditioner_out_' was not declared in this scope
 8666 |   preconditioner_out_.PreconditionDirections(&out_deriv_temp, &out_scale);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8682:35: error: 'learning_rate_' was not declared in this scope
 8682 |   BaseFloat local_lrate = scale * learning_rate_;
      |                                   ^~~~~~~~~~~~~~
nnet-simple-component.cc:8684:3: error: 'bias_params_' was not declared in this scope
 8684 |   bias_params_.AddMatVec(local_lrate, out_deriv_temp, kTrans,
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:8689:21: error: 'linear_params_mean_' was not declared in this scope
 8689 |   int32 dim_input = linear_params_mean_.NumCols();
      |                     ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8696:7: error: 'use_exp_std_' was not declared in this scope
 8696 |   if (use_exp_std_) {
      |       ^~~~~~~~~~~~
nnet-simple-component.cc:8697:46: error: 'linear_params_std_' was not declared in this scope; did you mean 'linear_params_std_exp'?
 8697 |    CuMatrix<BaseFloat> linear_params_std_exp(linear_params_std_);
      |                                              ^~~~~~~~~~~~~~~~~~
      |                                              linear_params_std_exp
nnet-simple-component.cc:8702:3: error: 'linear_params_std_' was not declared in this scope
 8702 |   linear_params_std_.AddMatBlocks(local_lrate, linear_deriv, kNoTrans);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8705:7: error: 'KL_scale_' was not declared in this scope; did you mean 'in_scale'?
 8705 |   if (KL_scale_ != 0) {
      |       ^~~~~~~~~
      |       in_scale
nnet-simple-component.cc:8721:46: error: 'linear_prior_std_' was not declared in this scope; did you mean 'inv_prior_std'?
 8721 |    linear_prior_std_resize.AddMatBlocks(1.0, linear_prior_std_, kNoTrans);
      |                                              ^~~~~~~~~~~~~~~~~
      |                                              inv_prior_std
nnet-simple-component.cc:8723:8: error: 'use_exp_std_' was not declared in this scope
 8723 |    if (use_exp_std_) {
      |        ^~~~~~~~~~~~
nnet-simple-component.cc:8739:22: error: 'linear_prior_mean_' was not declared in this scope
 8739 |    diff.AddMat(-1.0, linear_prior_mean_); // post_mean - prior_mean
      |                      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8756:8: error: 'use_exp_std_' was not declared in this scope
 8756 |    if (use_exp_std_) {
      |        ^~~~~~~~~~~~
nnet-simple-component.cc:8764:8: error: 'update_prior_' was not declared in this scope
 8764 |    if (update_prior_) {
      |        ^~~~~~~~~~~~~
nnet-simple-component.cc:8769:10: error: 'use_exp_std_' was not declared in this scope
 8769 |     if (!use_exp_std_) {
      |          ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8780:6: error: 'NaturalGradientBayesAffineComponent' has not been declared
 8780 | void NaturalGradientBayesAffineComponent::Scale(BaseFloat scale) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8780:6: error: redefinition of 'void kaldi::Scale(kaldi::BaseFloat)'
nnet-simple-component.cc:7731:6: note: 'void kaldi::Scale(kaldi::BaseFloat)' previously defined here
 7731 | void BayesAffineComponent::Scale(BaseFloat scale) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Scale(kaldi::BaseFloat)':
nnet-simple-component.cc:8783:5: error: 'linear_params_mean_' was not declared in this scope
 8783 |     linear_params_mean_.SetZero();
      |     ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8784:2: error: 'linear_params_std_' was not declared in this scope
 8784 |  linear_params_std_.SetZero();
      |  ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8785:2: error: 'linear_prior_mean_' was not declared in this scope
 8785 |  linear_prior_mean_.SetZero();
      |  ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8786:2: error: 'linear_prior_std_' was not declared in this scope
 8786 |  linear_prior_std_.SetZero();
      |  ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8787:5: error: 'bias_params_' was not declared in this scope
 8787 |     bias_params_.SetZero();
      |     ^~~~~~~~~~~~
nnet-simple-component.cc:8789:2: error: 'linear_params_mean_' was not declared in this scope
 8789 |  linear_params_mean_.Scale(scale);
      |  ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8790:2: error: 'linear_params_std_' was not declared in this scope
 8790 |  linear_params_std_.Scale(scale);
      |  ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8791:2: error: 'linear_prior_mean_' was not declared in this scope
 8791 |  linear_prior_mean_.Scale(scale);
      |  ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8792:2: error: 'linear_prior_std_' was not declared in this scope
 8792 |  linear_prior_std_.Scale(scale);
      |  ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8793:5: error: 'bias_params_' was not declared in this scope
 8793 |     bias_params_.Scale(scale);
      |     ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8797:6: error: 'NaturalGradientBayesAffineComponent' has not been declared
 8797 | void NaturalGradientBayesAffineComponent::Add(BaseFloat alpha, const Component &other_in) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8797:70: error: 'Component' does not name a type
 8797 | void NaturalGradientBayesAffineComponent::Add(BaseFloat alpha, const Component &other_in) {
      |                                                                      ^~~~~~~~~
nnet-simple-component.cc:8797:6: error: redefinition of 'void kaldi::Add(kaldi::BaseFloat, const int&)'
 8797 | void NaturalGradientBayesAffineComponent::Add(BaseFloat alpha, const Component &other_in) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7768:6: note: 'void kaldi::Add(kaldi::BaseFloat, const int&)' previously defined here
 7768 | void BayesAffineComponent::Add(BaseFloat alpha, const Component &other_in) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Add(kaldi::BaseFloat, const int&)':
nnet-simple-component.cc:8798:9: error: 'NaturalGradientBayesAffineComponent' does not name a type
 8798 |   const NaturalGradientBayesAffineComponent *other =
      |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc:8800:16: error: 'other' was not declared in this scope; did you mean 'other_in'?
 8800 |   KALDI_ASSERT(other != NULL);
      |                ^~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:8801:3: error: 'linear_params_mean_' was not declared in this scope
 8801 |   linear_params_mean_.AddMat(alpha, other->linear_params_mean_);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8801:37: error: 'other' was not declared in this scope; did you mean 'other_in'?
 8801 |   linear_params_mean_.AddMat(alpha, other->linear_params_mean_);
      |                                     ^~~~~
      |                                     other_in
nnet-simple-component.cc:8802:3: error: 'linear_prior_mean_' was not declared in this scope
 8802 |   linear_prior_mean_.AddMat(alpha, other->linear_prior_mean_);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8803:3: error: 'bias_params_' was not declared in this scope
 8803 |   bias_params_.AddVec(alpha, other->bias_params_);
      |   ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8806:6: error: 'NaturalGradientBayesAffineComponent' has not been declared
 8806 | void NaturalGradientBayesAffineComponent::FreezeNaturalGradient(bool freeze) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::FreezeNaturalGradient(bool)':
nnet-simple-component.cc:8807:3: error: 'preconditioner_in_' was not declared in this scope
 8807 |   preconditioner_in_.Freeze(freeze);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8808:3: error: 'preconditioner_out_' was not declared in this scope
 8808 |   preconditioner_out_.Freeze(freeze);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8811:6: error: 'NaturalGradientBayesAffineComponent' has not been declared
 8811 | void NaturalGradientBayesAffineComponent::ConsolidateMemory() {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::ConsolidateMemory()':
nnet-simple-component.cc:8812:3: error: 'OnlineNaturalGradient' was not declared in this scope; did you mean 'kaldi::nnet3::OnlineNaturalGradient'?
 8812 |   OnlineNaturalGradient temp_in(preconditioner_in_);
      |   ^~~~~~~~~~~~~~~~~~~~~
      |   kaldi::nnet3::OnlineNaturalGradient
In file included from ../nnet3/nnet-simple-component.h:31,
                 from nnet-simple-component.cc:28:
../nnet3/natural-gradient-online.h:414:7: note: 'kaldi::nnet3::OnlineNaturalGradient' declared here
  414 | class OnlineNaturalGradient {
      |       ^~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8813:3: error: 'preconditioner_in_' was not declared in this scope
 8813 |   preconditioner_in_.Swap(&temp_in);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8813:28: error: 'temp_in' was not declared in this scope
 8813 |   preconditioner_in_.Swap(&temp_in);
      |                            ^~~~~~~
nnet-simple-component.cc:8814:24: error: expected ';' before 'temp_out'
 8814 |   OnlineNaturalGradient temp_out(preconditioner_out_);
      |                        ^~~~~~~~~
      |                        ;
nnet-simple-component.cc:8815:3: error: 'preconditioner_out_' was not declared in this scope
 8815 |   preconditioner_out_.Swap(&temp_out);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8815:29: error: 'temp_out' was not declared in this scope
 8815 |   preconditioner_out_.Swap(&temp_out);
      |                             ^~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8821:6: error: 'LinearSelectColComponent' has not been declared
 8821 | void LinearSelectColComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8821:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:8822:23: error: 'ReadUpdatableCommon' was not declared in this scope
 8822 |   std::string token = ReadUpdatableCommon(is, binary);
      |                       ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8825:3: error: 'params_' was not declared in this scope
 8825 |   params_.Read(is, binary);
      |   ^~~~~~~
nnet-simple-component.cc:8828:32: error: 'orthonormal_constraint_' was not declared in this scope
 8828 |     ReadBasicType(is, binary, &orthonormal_constraint_);
      |                                ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8830:5: error: 'orthonormal_constraint_' was not declared in this scope
 8830 |     orthonormal_constraint_ = 0.0;
      |     ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8833:30: error: 'use_natural_gradient_' was not declared in this scope
 8833 |   ReadBasicType(is, binary, &use_natural_gradient_);
      |                              ^~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8848:3: error: 'preconditioner_in_' was not declared in this scope
 8848 |   preconditioner_in_.SetAlpha(alpha);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8849:3: error: 'preconditioner_out_' was not declared in this scope
 8849 |   preconditioner_out_.SetAlpha(alpha);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8860:6: error: 'LinearSelectColComponent' has not been declared
 8860 | void LinearSelectColComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8860:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:8863:3: error: 'is_gradient_' was not declared in this scope
 8863 |   is_gradient_ = false;  // not configurable; there's no reason you'd want this
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:8865:3: error: 'InitLearningRatesFromConfig' was not declared in this scope
 8865 |   InitLearningRatesFromConfig(cfl);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8869:39: error: 'params_' was not declared in this scope
 8869 |     ReadKaldiObject(matrix_filename, &params_); // will abort on failure.
      |                                       ^~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc:8878:34: error: 'OutputDim' was not declared in this scope; did you mean 'output_dim'?
 8878 |       KALDI_ASSERT(output_dim == OutputDim() &&
      |                                  ^~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:8889:5: error: 'params_' was not declared in this scope
 8889 |     params_.Resize(output_dim, col_number);
      |     ^~~~~~~
nnet-simple-component.cc:8900:3: error: 'use_natural_gradient_' was not declared in this scope
 8900 |   use_natural_gradient_ = false;
      |   ^~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8910:36: error: 'InputDim' was not declared in this scope; did you mean 'input_dim'?
 8910 |     rank_in = std::min<int32>(20, (InputDim() + 1) / 2);
      |                                    ^~~~~~~~
      |                                    input_dim
nnet-simple-component.cc:8912:37: error: 'OutputDim' was not declared in this scope; did you mean 'output_dim'?
 8912 |     rank_out = std::min<int32>(80, (OutputDim() + 1) / 2);
      |                                     ^~~~~~~~~
      |                                     output_dim
nnet-simple-component.cc:8914:3: error: 'preconditioner_in_' was not declared in this scope
 8914 |   preconditioner_in_.SetAlpha(alpha);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8915:3: error: 'preconditioner_out_' was not declared in this scope
 8915 |   preconditioner_out_.SetAlpha(alpha);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8923:3: error: 'orthonormal_constraint_' was not declared in this scope
 8923 |   orthonormal_constraint_ = 0.0;
      |   ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8932:6: error: 'LinearSelectColComponent' has not been declared
 8932 | void LinearSelectColComponent::Write(std::ostream &os,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8933:42: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 8933 |                             bool binary) const {
      |                                          ^~~~~
nnet-simple-component.cc:8932:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 8932 | void LinearSelectColComponent::Write(std::ostream &os,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:8934:3: error: 'WriteUpdatableCommon' was not declared in this scope
 8934 |   WriteUpdatableCommon(os, binary);  // Write the opening tag and learning rate
      |   ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8936:3: error: 'params_' was not declared in this scope
 8936 |   params_.Write(os, binary);
      |   ^~~~~~~
nnet-simple-component.cc:8937:7: error: 'orthonormal_constraint_' was not declared in this scope
 8937 |   if (orthonormal_constraint_ != 0.0) {
      |       ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8942:30: error: 'use_natural_gradient_' was not declared in this scope
 8942 |   WriteBasicType(os, binary, use_natural_gradient_);
      |                              ^~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8944:19: error: 'preconditioner_in_' was not declared in this scope
 8944 |   int32 rank_in = preconditioner_in_.GetRank(),
      |                   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8951:30: error: 'rank_out' was not declared in this scope
 8951 |   WriteBasicType(os, binary, rank_out);
      |                              ^~~~~~~~
nnet-simple-component.cc:8955:30: error: 'num_samples_history' was not declared in this scope
 8955 |   WriteBasicType(os, binary, num_samples_history);
      |                              ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8957:30: error: 'update_period' was not declared in this scope
 8957 |   WriteBasicType(os, binary, update_period);
      |                              ^~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8961:13: error: 'LinearSelectColComponent' has not been declared
 8961 | std::string LinearSelectColComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8961:46: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
 8961 | std::string LinearSelectColComponent::Info() const {
      |                                              ^~~~~
nnet-simple-component.cc:8961:13: error: redefinition of 'std::string kaldi::Info()'
 8961 | std::string LinearSelectColComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:8963:13: error: 'UpdatableComponent' has not been declared
 8963 |   stream << UpdatableComponent::Info();
      |             ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8964:29: error: 'params_' was not declared in this scope
 8964 |   stream << ", col-num=" << params_.NumCols();
      |                             ^~~~~~~
nnet-simple-component.cc:8965:3: error: 'PrintParameterStats' was not declared in this scope; did you mean 'kaldi::nnet3::PrintParameterStats'?
 8965 |   PrintParameterStats(stream, "params", params_,
      |   ^~~~~~~~~~~~~~~~~~~
      |   kaldi::nnet3::PrintParameterStats
In file included from ../nnet3/nnet-component-itf.h:27,
                 from ../nnet3/nnet-simple-component.h:30,
                 from nnet-simple-component.cc:28:
../nnet3/nnet-parse.h:112:6: note: 'kaldi::nnet3::PrintParameterStats' declared here
  112 | void PrintParameterStats(std::ostringstream &os,
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8970:7: error: 'orthonormal_constraint_' was not declared in this scope
 8970 |   if (orthonormal_constraint_ != 0.0)
      |       ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8973:14: error: 'use_natural_gradient_' was not declared in this scope
 8973 |          << (use_natural_gradient_ ? "true" : "false")
      |              ^~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8974:29: error: 'preconditioner_in_' was not declared in this scope
 8974 |          << ", rank-in=" << preconditioner_in_.GetRank()
      |                             ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8975:30: error: 'preconditioner_out_' was not declared in this scope
 8975 |          << ", rank-out=" << preconditioner_out_.GetRank()
      |                              ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8983:7: error: 'LinearSelectColComponent' has not been declared
 8983 | void* LinearSelectColComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8983:49: error: 'ComponentPrecomputedIndexes' does not name a type
 8983 | void* LinearSelectColComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |                                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8985:64: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 8985 |                                  CuMatrixBase<BaseFloat> *out) const {
      |                                                                ^~~~~
nnet-simple-component.cc:8983:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 8983 | void* LinearSelectColComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:8988:22: error: 'params_' was not declared in this scope
 8988 |   int32 col_number = params_.NumCols();
      |                      ^~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:8999:6: error: 'LinearSelectColComponent' has not been declared
 8999 | void LinearSelectColComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9000:38: error: 'ComponentPrecomputedIndexes' does not name a type
 9000 |                                const ComponentPrecomputedIndexes *indexes,
      |                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9005:32: error: 'Component' has not been declared
 9005 |                                Component *to_update_in,
      |                                ^~~~~~~~~
nnet-simple-component.cc:9006:67: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 9006 |                                CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                   ^~~~~
nnet-simple-component.cc:8999:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 8999 | void LinearSelectColComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:9007:3: error: 'LinearSelectColComponent' was not declared in this scope; did you mean 'kaldi::nnet3::LinearSelectColComponent'?
 9007 |   LinearSelectColComponent *to_update = dynamic_cast<LinearSelectColComponent*>(to_update_in);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~
      |   kaldi::nnet3::LinearSelectColComponent
In file included from nnet-simple-component.cc:28:
../nnet3/nnet-simple-component.h:3285:7: note: 'kaldi::nnet3::LinearSelectColComponent' declared here
 3285 | class LinearSelectColComponent: public UpdatableComponent {
      |       ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9007:29: error: 'to_update' was not declared in this scope; did you mean 'to_update_in'?
 9007 |   LinearSelectColComponent *to_update = dynamic_cast<LinearSelectColComponent*>(to_update_in);
      |                             ^~~~~~~~~
      |                             to_update_in
nnet-simple-component.cc:9007:54: error: 'LinearSelectColComponent' does not name a type
 9007 |   LinearSelectColComponent *to_update = dynamic_cast<LinearSelectColComponent*>(to_update_in);
      |                                                      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9007:78: error: expected '>' before '*' token
 9007 |   LinearSelectColComponent *to_update = dynamic_cast<LinearSelectColComponent*>(to_update_in);
      |                                                                              ^
nnet-simple-component.cc:9007:78: error: expected '(' before '*' token
 9007 |   LinearSelectColComponent *to_update = dynamic_cast<LinearSelectColComponent*>(to_update_in);
      |                                                                              ^
      |                                                                              (
nnet-simple-component.cc:9007:79: error: expected primary-expression before '>' token
 9007 |   LinearSelectColComponent *to_update = dynamic_cast<LinearSelectColComponent*>(to_update_in);
      |                                                                               ^
nnet-simple-component.cc:9007:94: error: expected ')' before ';' token
 9007 |   LinearSelectColComponent *to_update = dynamic_cast<LinearSelectColComponent*>(to_update_in);
      |                                                                                              ^
      |                                                                                              )
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9035:1: error: 'Component' does not name a type
 9035 | Component* LinearSelectColComponent::Copy() const {
      | ^~~~~~~~~
nnet-simple-component.cc:9039:1: error: 'LinearSelectColComponent' does not name a type
 9039 | LinearSelectColComponent::LinearSelectColComponent(
      | ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9048:1: error: 'LinearSelectColComponent' does not name a type
 9048 | LinearSelectColComponent::LinearSelectColComponent(const CuMatrix<BaseFloat> &params):
      | ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9062:6: error: 'LinearSelectColComponent' has not been declared
 9062 | void LinearSelectColComponent::Scale(BaseFloat scale) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9062:6: error: redefinition of 'void kaldi::Scale(kaldi::BaseFloat)'
nnet-simple-component.cc:7731:6: note: 'void kaldi::Scale(kaldi::BaseFloat)' previously defined here
 7731 | void BayesAffineComponent::Scale(BaseFloat scale) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Scale(kaldi::BaseFloat)':
nnet-simple-component.cc:9063:21: error: 'params_' was not declared in this scope
 9063 |   if (scale == 0.0) params_.SetZero();
      |                     ^~~~~~~
nnet-simple-component.cc:9064:8: error: 'params_' was not declared in this scope
 9064 |   else params_.Scale(scale);
      |        ^~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9067:6: error: 'LinearSelectColComponent' has not been declared
 9067 | void LinearSelectColComponent::Add(BaseFloat alpha, const Component &other_in) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9067:59: error: 'Component' does not name a type
 9067 | void LinearSelectColComponent::Add(BaseFloat alpha, const Component &other_in) {
      |                                                           ^~~~~~~~~
nnet-simple-component.cc:9067:6: error: redefinition of 'void kaldi::Add(kaldi::BaseFloat, const int&)'
 9067 | void LinearSelectColComponent::Add(BaseFloat alpha, const Component &other_in) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7768:6: note: 'void kaldi::Add(kaldi::BaseFloat, const int&)' previously defined here
 7768 | void BayesAffineComponent::Add(BaseFloat alpha, const Component &other_in) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Add(kaldi::BaseFloat, const int&)':
nnet-simple-component.cc:9068:9: error: 'LinearSelectColComponent' does not name a type
 9068 |   const LinearSelectColComponent *other =
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc:9070:16: error: 'other' was not declared in this scope; did you mean 'other_in'?
 9070 |   KALDI_ASSERT(other != NULL);
      |                ^~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:9071:3: error: 'params_' was not declared in this scope
 9071 |   params_.AddMat(alpha, other->params_);
      |   ^~~~~~~
nnet-simple-component.cc:9071:25: error: 'other' was not declared in this scope; did you mean 'other_in'?
 9071 |   params_.AddMat(alpha, other->params_);
      |                         ^~~~~
      |                         other_in
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9074:6: error: 'LinearSelectColComponent' has not been declared
 9074 | void LinearSelectColComponent::PerturbParams(BaseFloat stddev) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9074:6: error: redefinition of 'void kaldi::PerturbParams(kaldi::BaseFloat)'
nnet-simple-component.cc:7839:6: note: 'void kaldi::PerturbParams(kaldi::BaseFloat)' previously defined here
 7839 | void BayesAffineComponent::PerturbParams(BaseFloat stddev) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::PerturbParams(kaldi::BaseFloat)':
nnet-simple-component.cc:9075:35: error: 'params_' was not declared in this scope
 9075 |   CuMatrix<BaseFloat> temp_params(params_);
      |                                   ^~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9079:7: error: 'LinearSelectColComponent' has not been declared
 9079 | int32 LinearSelectColComponent::NumParameters() const {
      |       ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9079:49: error: non-member function 'int32 kaldi::NumParameters()' cannot have cv-qualifier
 9079 | int32 LinearSelectColComponent::NumParameters() const {
      |                                                 ^~~~~
nnet-simple-component.cc:9079:7: error: redefinition of 'int32 kaldi::NumParameters()'
 9079 | int32 LinearSelectColComponent::NumParameters() const {
      |       ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8281:7: note: 'int32 kaldi::NumParameters()' previously defined here
 8281 | int32 BayesAffineComponent::NumParameters() const {
      |       ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'int32 kaldi::NumParameters()':
nnet-simple-component.cc:9080:10: error: 'params_' was not declared in this scope
 9080 |   return params_.NumRows() * params_.NumCols();
      |          ^~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9082:6: error: 'LinearSelectColComponent' has not been declared
 9082 | void LinearSelectColComponent::Vectorize(VectorBase<BaseFloat> *params) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9082:73: error: non-member function 'void kaldi::Vectorize(kaldi::VectorBase<float>*)' cannot have cv-qualifier
 9082 | void LinearSelectColComponent::Vectorize(VectorBase<BaseFloat> *params) const {
      |                                                                         ^~~~~
nnet-simple-component.cc:9082:6: error: redefinition of 'void kaldi::Vectorize(kaldi::VectorBase<float>*)'
 9082 | void LinearSelectColComponent::Vectorize(VectorBase<BaseFloat> *params) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8285:6: note: 'void kaldi::Vectorize(kaldi::VectorBase<float>*)' previously defined here
 8285 | void BayesAffineComponent::Vectorize(VectorBase<BaseFloat> *params) const {
      |      ^~~~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void kaldi::Vectorize(kaldi::VectorBase<float>*)':
nnet-simple-component.cc:9083:33: error: invalid use of 'this' in non-member function
 9083 |   KALDI_ASSERT(params->Dim() == this->NumParameters());
      |                                 ^~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:9084:27: error: 'params_' was not declared in this scope; did you mean 'params'?
 9084 |   params->CopyRowsFromMat(params_);
      |                           ^~~~~~~
      |                           params
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9086:6: error: 'LinearSelectColComponent' has not been declared
 9086 | void LinearSelectColComponent::UnVectorize(const VectorBase<BaseFloat> &params) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9086:6: error: redefinition of 'void kaldi::UnVectorize(const kaldi::VectorBase<float>&)'
nnet-simple-component.cc:8301:6: note: 'void kaldi::UnVectorize(const kaldi::VectorBase<float>&)' previously defined here
 8301 | void BayesAffineComponent::UnVectorize(const VectorBase<BaseFloat> &params) {
      |      ^~~~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void kaldi::UnVectorize(const kaldi::VectorBase<float>&)':
nnet-simple-component.cc:9087:32: error: invalid use of 'this' in non-member function
 9087 |   KALDI_ASSERT(params.Dim() == this->NumParameters());
      |                                ^~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:9088:3: error: 'params_' was not declared in this scope; did you mean 'params'?
 9088 |   params_.CopyRowsFromVec(params);
      |   ^~~~~~~
      |   params
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9090:11: error: 'LinearSelectColComponent' has not been declared
 9090 | BaseFloat LinearSelectColComponent::DotProduct(const UpdatableComponent &other_in) const {
      |           ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9090:54: error: 'UpdatableComponent' does not name a type
 9090 | BaseFloat LinearSelectColComponent::DotProduct(const UpdatableComponent &other_in) const {
      |                                                      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9090:84: error: non-member function 'kaldi::BaseFloat kaldi::DotProduct(const int&)' cannot have cv-qualifier
 9090 | BaseFloat LinearSelectColComponent::DotProduct(const UpdatableComponent &other_in) const {
      |                                                                                    ^~~~~
nnet-simple-component.cc:9090:11: error: redefinition of 'kaldi::BaseFloat kaldi::DotProduct(const int&)'
 9090 | BaseFloat LinearSelectColComponent::DotProduct(const UpdatableComponent &other_in) const {
      |           ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7891:11: note: 'kaldi::BaseFloat kaldi::DotProduct(const int&)' previously defined here
 7891 | BaseFloat BayesAffineComponent::DotProduct(const UpdatableComponent &other_in) const {
      |           ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'kaldi::BaseFloat kaldi::DotProduct(const int&)':
nnet-simple-component.cc:9091:9: error: 'LinearSelectColComponent' does not name a type
 9091 |   const LinearSelectColComponent *other =
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9093:22: error: 'params_' was not declared in this scope
 9093 |   return TraceMatMat(params_, other->params_, kTrans);
      |                      ^~~~~~~
nnet-simple-component.cc:9093:31: error: 'other' was not declared in this scope; did you mean 'other_in'?
 9093 |   return TraceMatMat(params_, other->params_, kTrans);
      |                               ^~~~~
      |                               other_in
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9096:6: error: 'LinearSelectColComponent' has not been declared
 9096 | void LinearSelectColComponent::FreezeNaturalGradient(bool freeze) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9096:6: error: redefinition of 'void kaldi::FreezeNaturalGradient(bool)'
nnet-simple-component.cc:8806:6: note: 'void kaldi::FreezeNaturalGradient(bool)' previously defined here
 8806 | void NaturalGradientBayesAffineComponent::FreezeNaturalGradient(bool freeze) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::FreezeNaturalGradient(bool)':
nnet-simple-component.cc:9097:3: error: 'preconditioner_in_' was not declared in this scope
 9097 |   preconditioner_in_.Freeze(freeze);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9098:3: error: 'preconditioner_out_' was not declared in this scope
 9098 |   preconditioner_out_.Freeze(freeze);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9101:6: error: 'LinearSelectColComponent' has not been declared
 9101 | void LinearSelectColComponent::ConsolidateMemory() {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9101:6: error: redefinition of 'void kaldi::ConsolidateMemory()'
nnet-simple-component.cc:8811:6: note: 'void kaldi::ConsolidateMemory()' previously defined here
 8811 | void NaturalGradientBayesAffineComponent::ConsolidateMemory() {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::ConsolidateMemory()':
nnet-simple-component.cc:9102:3: error: 'OnlineNaturalGradient' was not declared in this scope; did you mean 'kaldi::nnet3::OnlineNaturalGradient'?
 9102 |   OnlineNaturalGradient temp_in(preconditioner_in_);
      |   ^~~~~~~~~~~~~~~~~~~~~
      |   kaldi::nnet3::OnlineNaturalGradient
In file included from ../nnet3/nnet-simple-component.h:31,
                 from nnet-simple-component.cc:28:
../nnet3/natural-gradient-online.h:414:7: note: 'kaldi::nnet3::OnlineNaturalGradient' declared here
  414 | class OnlineNaturalGradient {
      |       ^~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9103:3: error: 'preconditioner_in_' was not declared in this scope
 9103 |   preconditioner_in_.Swap(&temp_in);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9103:28: error: 'temp_in' was not declared in this scope
 9103 |   preconditioner_in_.Swap(&temp_in);
      |                            ^~~~~~~
nnet-simple-component.cc:9104:24: error: expected ';' before 'temp_out'
 9104 |   OnlineNaturalGradient temp_out(preconditioner_out_);
      |                        ^~~~~~~~~
      |                        ;
nnet-simple-component.cc:9105:3: error: 'preconditioner_out_' was not declared in this scope
 9105 |   preconditioner_out_.Swap(&temp_out);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9105:29: error: 'temp_out' was not declared in this scope
 9105 |   preconditioner_out_.Swap(&temp_out);
      |                             ^~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9111:6: error: 'VecL2NormComponent' has not been declared
 9111 | void VecL2NormComponent::Init(int32 input_dim, int32 output_dim, BaseFloat scale, bool input_frame_scale, bool inv_frame_scale)  {
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool)':
nnet-simple-component.cc:9112:3: error: 'input_dim_' was not declared in this scope; did you mean 'input_dim'?
 9112 |   input_dim_ = input_dim;
      |   ^~~~~~~~~~
      |   input_dim
nnet-simple-component.cc:9113:3: error: 'output_dim_' was not declared in this scope; did you mean 'output_dim'?
 9113 |   output_dim_ = output_dim;
      |   ^~~~~~~~~~~
      |   output_dim
nnet-simple-component.cc:9114:3: error: 'scale_' was not declared in this scope; did you mean 'scale'?
 9114 |   scale_ = scale;
      |   ^~~~~~
      |   scale
nnet-simple-component.cc:9115:3: error: 'input_frame_scale_' was not declared in this scope; did you mean 'input_frame_scale'?
 9115 |   input_frame_scale_ = input_frame_scale;
      |   ^~~~~~~~~~~~~~~~~~
      |   input_frame_scale
nnet-simple-component.cc:9116:3: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'inv_frame_scale'?
 9116 |   inv_frame_scale_ = inv_frame_scale;
      |   ^~~~~~~~~~~~~~~~
      |   inv_frame_scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9125:6: error: 'VecL2NormComponent' has not been declared
 9125 | void VecL2NormComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9125:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:9135:18: error: 'Type' was not declared in this scope
 9135 |               << Type();
      |                  ^~~~
nnet-simple-component.cc:9141:18: error: 'Type' was not declared in this scope
 9141 |               << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                  ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9145:7: error: 'VecL2NormComponent' has not been declared
 9145 | void* VecL2NormComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9146:11: error: 'ComponentPrecomputedIndexes' does not name a type
 9146 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9148:35: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 9148 |     CuMatrixBase<BaseFloat> *out) const {
      |                                   ^~~~~
nnet-simple-component.cc:9145:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 9145 | void* VecL2NormComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:9149:34: error: 'output_dim_' was not declared in this scope
 9149 |   out->CopyFromMat(in.ColRange(0,output_dim_));
      |                                  ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9153:6: error: 'VecL2NormComponent' has not been declared
 9153 | void VecL2NormComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9154:37: error: 'ComponentPrecomputedIndexes' does not name a type
 9154 |                               const ComponentPrecomputedIndexes *indexes,
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9159:31: error: 'Component' has not been declared
 9159 |                               Component *to_update,
      |                               ^~~~~~~~~
nnet-simple-component.cc:9160:66: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 9160 |                               CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:9153:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 9153 | void VecL2NormComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:9163:25: error: 'output_dim_' was not declared in this scope
 9163 |   (in_deriv->ColRange(0,output_dim_)).CopyFromMat(out_deriv);
      |                         ^~~~~~~~~~~
nnet-simple-component.cc:9165:7: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9165 |   if (scale_ != 0) {
      |       ^~~~~~
      |       Scale
nnet-simple-component.cc:9169:8: error: 'input_frame_scale_' was not declared in this scope
 9169 |    if (input_frame_scale_) {
      |        ^~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc:9170:18: error: 'input_dim_' was not declared in this scope
 9170 |     KALDI_ASSERT(input_dim_ == output_dim_+1);
      |                  ^~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:9173:9: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'frame_scale'?
 9173 |     if (inv_frame_scale_) {
      |         ^~~~~~~~~~~~~~~~
      |         frame_scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9183:6: error: 'VecL2NormComponent' has not been declared
 9183 | void VecL2NormComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9183:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:9186:30: error: 'input_dim_' was not declared in this scope
 9186 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:9188:30: error: 'output_dim_' was not declared in this scope
 9188 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:9190:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9190 |   ReadBasicType(is, binary, &scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc:9192:30: error: 'input_frame_scale_' was not declared in this scope
 9192 |   ReadBasicType(is, binary, &input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9194:30: error: 'inv_frame_scale_' was not declared in this scope
 9194 |   ReadBasicType(is, binary, &inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9198:6: error: 'VecL2NormComponent' has not been declared
 9198 | void VecL2NormComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9198:63: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 9198 | void VecL2NormComponent::Write(std::ostream &os, bool binary) const {
      |                                                               ^~~~~
nnet-simple-component.cc:9198:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 9198 | void VecL2NormComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:9201:30: error: 'input_dim_' was not declared in this scope
 9201 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:9203:30: error: 'output_dim_' was not declared in this scope
 9203 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:9205:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9205 |   WriteBasicType(os, binary, scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc:9207:30: error: 'input_frame_scale_' was not declared in this scope
 9207 |   WriteBasicType(os, binary, input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9209:30: error: 'inv_frame_scale_' was not declared in this scope
 9209 |   WriteBasicType(os, binary, inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9213:13: error: 'VecL2NormComponent' has not been declared
 9213 | std::string VecL2NormComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9213:40: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
 9213 | std::string VecL2NormComponent::Info() const {
      |                                        ^~~~~
nnet-simple-component.cc:9213:13: error: redefinition of 'std::string kaldi::Info()'
 9213 | std::string VecL2NormComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:9215:13: error: 'Type' was not declared in this scope
 9215 |   stream << Type() << ", input-dim=" << input_dim_
      |             ^~~~
nnet-simple-component.cc:9215:41: error: 'input_dim_' was not declared in this scope
 9215 |   stream << Type() << ", input-dim=" << input_dim_
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:9216:32: error: 'output_dim_' was not declared in this scope
 9216 |          << ", output-dim=" << output_dim_
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:9217:27: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9217 |          << ", scale=" << scale_
      |                           ^~~~~~
      |                           Scale
nnet-simple-component.cc:9218:32: error: 'input_frame_scale_' was not declared in this scope
 9218 |  << ", input-frame-scale=" << (input_frame_scale_ ? "true" : "false")
      |                                ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9219:30: error: 'inv_frame_scale_' was not declared in this scope
 9219 |  << ", inv-frame-scale=" << (inv_frame_scale_ ? "true" : "false");
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9226:6: error: 'VeclogNormComponent' has not been declared
 9226 | void VeclogNormComponent::Init(int32 input_dim, int32 output_dim, BaseFloat scale, bool input_frame_scale, bool inv_frame_scale)  {
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9226:6: error: redefinition of 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool)'
nnet-simple-component.cc:9111:6: note: 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool)' previously defined here
 9111 | void VecL2NormComponent::Init(int32 input_dim, int32 output_dim, BaseFloat scale, bool input_frame_scale, bool inv_frame_scale)  {
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool)':
nnet-simple-component.cc:9227:3: error: 'input_dim_' was not declared in this scope; did you mean 'input_dim'?
 9227 |   input_dim_ = input_dim;
      |   ^~~~~~~~~~
      |   input_dim
nnet-simple-component.cc:9228:3: error: 'output_dim_' was not declared in this scope; did you mean 'output_dim'?
 9228 |   output_dim_ = output_dim;
      |   ^~~~~~~~~~~
      |   output_dim
nnet-simple-component.cc:9229:3: error: 'scale_' was not declared in this scope; did you mean 'scale'?
 9229 |   scale_ = scale;
      |   ^~~~~~
      |   scale
nnet-simple-component.cc:9230:3: error: 'input_frame_scale_' was not declared in this scope; did you mean 'input_frame_scale'?
 9230 |   input_frame_scale_ = input_frame_scale;
      |   ^~~~~~~~~~~~~~~~~~
      |   input_frame_scale
nnet-simple-component.cc:9231:3: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'inv_frame_scale'?
 9231 |   inv_frame_scale_ = inv_frame_scale;
      |   ^~~~~~~~~~~~~~~~
      |   inv_frame_scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9240:6: error: 'VeclogNormComponent' has not been declared
 9240 | void VeclogNormComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9240:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:9250:18: error: 'Type' was not declared in this scope
 9250 |               << Type();
      |                  ^~~~
nnet-simple-component.cc:9256:18: error: 'Type' was not declared in this scope
 9256 |               << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                  ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9260:7: error: 'VeclogNormComponent' has not been declared
 9260 | void* VeclogNormComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9261:11: error: 'ComponentPrecomputedIndexes' does not name a type
 9261 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9263:35: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 9263 |     CuMatrixBase<BaseFloat> *out) const {
      |                                   ^~~~~
nnet-simple-component.cc:9260:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 9260 | void* VeclogNormComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:9264:34: error: 'output_dim_' was not declared in this scope
 9264 |   out->CopyFromMat(in.ColRange(0,output_dim_));
      |                                  ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9268:6: error: 'VeclogNormComponent' has not been declared
 9268 | void VeclogNormComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9269:37: error: 'ComponentPrecomputedIndexes' does not name a type
 9269 |                               const ComponentPrecomputedIndexes *indexes,
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9274:31: error: 'Component' has not been declared
 9274 |                               Component *to_update,
      |                               ^~~~~~~~~
nnet-simple-component.cc:9275:66: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 9275 |                               CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:9268:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 9268 | void VeclogNormComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:9278:25: error: 'output_dim_' was not declared in this scope
 9278 |   (in_deriv->ColRange(0,output_dim_)).CopyFromMat(out_deriv);
      |                         ^~~~~~~~~~~
nnet-simple-component.cc:9280:7: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9280 |   if (scale_ != 0) {
      |       ^~~~~~
      |       Scale
nnet-simple-component.cc:9285:8: error: 'input_frame_scale_' was not declared in this scope
 9285 |    if (input_frame_scale_) {
      |        ^~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc:9286:18: error: 'input_dim_' was not declared in this scope
 9286 |     KALDI_ASSERT(input_dim_ == output_dim_+1);
      |                  ^~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:9289:9: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'frame_scale'?
 9289 |     if (inv_frame_scale_) {
      |         ^~~~~~~~~~~~~~~~
      |         frame_scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9299:6: error: 'VeclogNormComponent' has not been declared
 9299 | void VeclogNormComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9299:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:9302:30: error: 'input_dim_' was not declared in this scope
 9302 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:9304:30: error: 'output_dim_' was not declared in this scope
 9304 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:9306:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9306 |   ReadBasicType(is, binary, &scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc:9308:30: error: 'input_frame_scale_' was not declared in this scope
 9308 |   ReadBasicType(is, binary, &input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9310:30: error: 'inv_frame_scale_' was not declared in this scope
 9310 |   ReadBasicType(is, binary, &inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9314:6: error: 'VeclogNormComponent' has not been declared
 9314 | void VeclogNormComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9314:64: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 9314 | void VeclogNormComponent::Write(std::ostream &os, bool binary) const {
      |                                                                ^~~~~
nnet-simple-component.cc:9314:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 9314 | void VeclogNormComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:9317:30: error: 'input_dim_' was not declared in this scope
 9317 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:9319:30: error: 'output_dim_' was not declared in this scope
 9319 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:9321:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9321 |   WriteBasicType(os, binary, scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc:9323:30: error: 'input_frame_scale_' was not declared in this scope
 9323 |   WriteBasicType(os, binary, input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9325:30: error: 'inv_frame_scale_' was not declared in this scope
 9325 |   WriteBasicType(os, binary, inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9329:13: error: 'VeclogNormComponent' has not been declared
 9329 | std::string VeclogNormComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9329:41: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
 9329 | std::string VeclogNormComponent::Info() const {
      |                                         ^~~~~
nnet-simple-component.cc:9329:13: error: redefinition of 'std::string kaldi::Info()'
 9329 | std::string VeclogNormComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:9331:13: error: 'Type' was not declared in this scope
 9331 |   stream << Type() << ", input-dim=" << input_dim_
      |             ^~~~
nnet-simple-component.cc:9331:41: error: 'input_dim_' was not declared in this scope
 9331 |   stream << Type() << ", input-dim=" << input_dim_
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:9332:32: error: 'output_dim_' was not declared in this scope
 9332 |          << ", output-dim=" << output_dim_
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:9333:27: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9333 |          << ", scale=" << scale_
      |                           ^~~~~~
      |                           Scale
nnet-simple-component.cc:9334:32: error: 'input_frame_scale_' was not declared in this scope
 9334 |  << ", input-frame-scale=" << (input_frame_scale_ ? "true" : "false")
      |                                ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9335:30: error: 'inv_frame_scale_' was not declared in this scope
 9335 |  << ", inv-frame-scale=" << (inv_frame_scale_ ? "true" : "false");
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9341:1: error: 'PnormSumBlockComponent' does not name a type
 9341 | PnormSumBlockComponent::PnormSumBlockComponent(const PnormSumBlockComponent &other):
      | ^~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9345:6: error: 'PnormSumBlockComponent' has not been declared
 9345 | void PnormSumBlockComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9345:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:9346:3: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9346 |   scale_ = 1.0;
      |   ^~~~~~
      |   Scale
nnet-simple-component.cc:9347:41: error: 'input_dim_' was not declared in this scope
 9347 |   bool ok = cfl->GetValue("input-dim", &input_dim_) &&
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:9348:36: error: 'output_dim_' was not declared in this scope
 9348 |       cfl->GetValue("output-dim", &output_dim_);
      |                                    ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9360:6: error: 'PnormSumBlockComponent' has not been declared
 9360 | void PnormSumBlockComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9360:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:9362:30: error: 'input_dim_' was not declared in this scope
 9362 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:9364:30: error: 'output_dim_' was not declared in this scope
 9364 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:9366:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9366 |   ReadBasicType(is, binary, &scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9370:6: error: 'PnormSumBlockComponent' has not been declared
 9370 | void PnormSumBlockComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9370:67: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 9370 | void PnormSumBlockComponent::Write(std::ostream &os, bool binary) const {
      |                                                                   ^~~~~
nnet-simple-component.cc:9370:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 9370 | void PnormSumBlockComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:9373:30: error: 'input_dim_' was not declared in this scope
 9373 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:9375:30: error: 'output_dim_' was not declared in this scope
 9375 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:9377:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9377 |   WriteBasicType(os, binary, scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9381:13: error: 'PnormSumBlockComponent' has not been declared
 9381 | std::string PnormSumBlockComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9381:44: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
 9381 | std::string PnormSumBlockComponent::Info() const {
      |                                            ^~~~~
nnet-simple-component.cc:9381:13: error: redefinition of 'std::string kaldi::Info()'
 9381 | std::string PnormSumBlockComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:9383:13: error: 'Type' was not declared in this scope
 9383 |   stream << Type() << ", input-dim=" << input_dim_
      |             ^~~~
nnet-simple-component.cc:9383:41: error: 'input_dim_' was not declared in this scope
 9383 |   stream << Type() << ", input-dim=" << input_dim_
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:9384:32: error: 'output_dim_' was not declared in this scope
 9384 |          << ", output-dim=" << output_dim_
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:9385:27: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9385 |          << ", scale=" << scale_;
      |                           ^~~~~~
      |                           Scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9389:7: error: 'PnormSumBlockComponent' has not been declared
 9389 | void* PnormSumBlockComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9389:47: error: 'ComponentPrecomputedIndexes' does not name a type
 9389 | void* PnormSumBlockComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |                                               ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9391:66: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 9391 |                                    CuMatrixBase<BaseFloat> *out) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:9389:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 9389 | void* PnormSumBlockComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:9393:34: error: 'output_dim_' was not declared in this scope
 9393 |                out->NumCols() == output_dim_ &&
      |                                  ^~~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:9394:32: error: 'input_dim_' was not declared in this scope
 9394 |                in.NumCols() == input_dim_);
      |                                ^~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:9399:21: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9399 |   out->AddMatBlocks(scale_*scale_, in_pow2, kNoTrans); // a^2 * (x^2 + y^2)
      |                     ^~~~~~
      |                     Scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9405:6: error: 'PnormSumBlockComponent' has not been declared
 9405 | void PnormSumBlockComponent::Backprop(
      |      ^~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9407:11: error: 'ComponentPrecomputedIndexes' does not name a type
 9407 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9412:5: error: 'Component' has not been declared
 9412 |     Component *to_update,
      |     ^~~~~~~~~
nnet-simple-component.cc:9413:40: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 9413 |     CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                        ^~~~~
nnet-simple-component.cc:9405:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 9405 | void PnormSumBlockComponent::Backprop(
      |      ^~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:9420:25: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9420 |  in_deriv->AddMatBlocks(scale_*scale_, tmp_deriv, kNoTrans); // a*deriv/(x^2 + y^2)^0.5
      |                         ^~~~~~
      |                         Scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9427:1: error: 'WeightSumBlockComponent' does not name a type
 9427 | WeightSumBlockComponent::WeightSumBlockComponent(const WeightSumBlockComponent &other):
      | ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9431:6: error: 'WeightSumBlockComponent' has not been declared
 9431 | void WeightSumBlockComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9431:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:9432:3: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9432 |   scale_ = 1.0;
      |   ^~~~~~
      |   Scale
nnet-simple-component.cc:9433:3: error: 'mix_num_' was not declared in this scope
 9433 |   mix_num_ = 1;
      |   ^~~~~~~~
nnet-simple-component.cc:9434:3: error: 'weight_deriv_scale_' was not declared in this scope
 9434 |   weight_deriv_scale_ = 1.0;
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9435:41: error: 'input_dim_' was not declared in this scope
 9435 |   bool ok = cfl->GetValue("input-dim", &input_dim_) &&
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:9436:36: error: 'output_dim_' was not declared in this scope
 9436 |       cfl->GetValue("output-dim", &output_dim_);
      |                                    ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9451:6: error: 'WeightSumBlockComponent' has not been declared
 9451 | void WeightSumBlockComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9451:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:9453:30: error: 'input_dim_' was not declared in this scope
 9453 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:9455:30: error: 'output_dim_' was not declared in this scope
 9455 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:9457:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9457 |   ReadBasicType(is, binary, &scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc:9459:30: error: 'mix_num_' was not declared in this scope
 9459 |   ReadBasicType(is, binary, &mix_num_);
      |                              ^~~~~~~~
nnet-simple-component.cc:9461:30: error: 'weight_deriv_scale_' was not declared in this scope
 9461 |   ReadBasicType(is, binary, &weight_deriv_scale_);
      |                              ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9465:6: error: 'WeightSumBlockComponent' has not been declared
 9465 | void WeightSumBlockComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9465:68: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 9465 | void WeightSumBlockComponent::Write(std::ostream &os, bool binary) const {
      |                                                                    ^~~~~
nnet-simple-component.cc:9465:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 9465 | void WeightSumBlockComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:9468:30: error: 'input_dim_' was not declared in this scope
 9468 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:9470:30: error: 'output_dim_' was not declared in this scope
 9470 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:9472:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9472 |   WriteBasicType(os, binary, scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc:9474:30: error: 'mix_num_' was not declared in this scope
 9474 |   WriteBasicType(os, binary, mix_num_);
      |                              ^~~~~~~~
nnet-simple-component.cc:9476:30: error: 'weight_deriv_scale_' was not declared in this scope
 9476 |   WriteBasicType(os, binary, weight_deriv_scale_);
      |                              ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9480:13: error: 'WeightSumBlockComponent' has not been declared
 9480 | std::string WeightSumBlockComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9480:45: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
 9480 | std::string WeightSumBlockComponent::Info() const {
      |                                             ^~~~~
nnet-simple-component.cc:9480:13: error: redefinition of 'std::string kaldi::Info()'
 9480 | std::string WeightSumBlockComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:9482:13: error: 'Type' was not declared in this scope
 9482 |   stream << Type() << ", input-dim=" << input_dim_
      |             ^~~~
nnet-simple-component.cc:9482:41: error: 'input_dim_' was not declared in this scope
 9482 |   stream << Type() << ", input-dim=" << input_dim_
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:9483:32: error: 'output_dim_' was not declared in this scope
 9483 |          << ", output-dim=" << output_dim_
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:9484:27: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9484 |          << ", scale=" << scale_
      |                           ^~~~~~
      |                           Scale
nnet-simple-component.cc:9485:23: error: 'mix_num_' was not declared in this scope
 9485 |    << ", mix-num=" << mix_num_;
      |                       ^~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9489:7: error: 'WeightSumBlockComponent' has not been declared
 9489 | void* WeightSumBlockComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9489:48: error: 'ComponentPrecomputedIndexes' does not name a type
 9489 | void* WeightSumBlockComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |                                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9491:66: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 9491 |                                    CuMatrixBase<BaseFloat> *out) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:9489:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 9489 | void* WeightSumBlockComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:9493:34: error: 'output_dim_' was not declared in this scope
 9493 |                out->NumCols() == output_dim_ &&
      |                                  ^~~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:9494:32: error: 'input_dim_' was not declared in this scope
 9494 |                in.NumCols() == input_dim_);
      |                                ^~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:9496:22: error: 'input_dim_' was not declared in this scope
 9496 |   int32 in_val_dim = input_dim_ - mix_num_;
      |                      ^~~~~~~~~~
nnet-simple-component.cc:9496:35: error: 'mix_num_' was not declared in this scope
 9496 |   int32 in_val_dim = input_dim_ - mix_num_;
      |                                   ^~~~~~~~
nnet-simple-component.cc:9505:23: error: 'output_dim_' was not declared in this scope
 9505 |    (in_val.ColRange(i*output_dim_, output_dim_)).MulRowsVec(weight_vec); // weight_i*in_i
      |                       ^~~~~~~~~~~
nnet-simple-component.cc:9508:21: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9508 |   out->AddMatBlocks(scale_, in_val, kNoTrans); // sum_i weight_i*in_i
      |                     ^~~~~~
      |                     Scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9513:6: error: 'WeightSumBlockComponent' has not been declared
 9513 | void WeightSumBlockComponent::Backprop(
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9515:11: error: 'ComponentPrecomputedIndexes' does not name a type
 9515 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9520:5: error: 'Component' has not been declared
 9520 |     Component *to_update,
      |     ^~~~~~~~~
nnet-simple-component.cc:9521:40: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 9521 |     CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                        ^~~~~
nnet-simple-component.cc:9513:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 9513 | void WeightSumBlockComponent::Backprop(
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:9523:21: error: 'input_dim_' was not declared in this scope
 9523 |  int32 in_val_dim = input_dim_ - mix_num_;
      |                     ^~~~~~~~~~
nnet-simple-component.cc:9523:34: error: 'mix_num_' was not declared in this scope
 9523 |  int32 in_val_dim = input_dim_ - mix_num_;
      |                                  ^~~~~~~~
nnet-simple-component.cc:9531:28: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9531 |  deriv_in_val.AddMatBlocks(scale_, out_deriv, kNoTrans);
      |                            ^~~~~~
      |                            Scale
nnet-simple-component.cc:9537:28: error: 'output_dim_' was not declared in this scope
 9537 |   (deriv_in_val.ColRange(i*output_dim_, output_dim_)).MulRowsVec(weight_vec); // weight_i*deriv_i
      |                            ^~~~~~~~~~~
nnet-simple-component.cc:9541:6: error: 'weight_deriv_scale_' was not declared in this scope
 9541 |  if (weight_deriv_scale_ != 1.0) {
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9549:1: error: 'WeightSumBlockFixComponent' does not name a type
 9549 | WeightSumBlockFixComponent::WeightSumBlockFixComponent(const WeightSumBlockFixComponent &other):
      | ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9553:6: error: 'WeightSumBlockFixComponent' has not been declared
 9553 | void WeightSumBlockFixComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9553:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:9554:3: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9554 |   scale_ = 1.0;
      |   ^~~~~~
      |   Scale
nnet-simple-component.cc:9555:3: error: 'mix_num_' was not declared in this scope
 9555 |   mix_num_ = 1;
      |   ^~~~~~~~
nnet-simple-component.cc:9556:3: error: 'weight_deriv_scale_' was not declared in this scope
 9556 |   weight_deriv_scale_ = 1.0;
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9557:41: error: 'input_dim_' was not declared in this scope
 9557 |   bool ok = cfl->GetValue("input-dim", &input_dim_) &&
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:9558:36: error: 'output_dim_' was not declared in this scope
 9558 |       cfl->GetValue("output-dim", &output_dim_);
      |                                    ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9573:6: error: 'WeightSumBlockFixComponent' has not been declared
 9573 | void WeightSumBlockFixComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9573:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:9575:30: error: 'input_dim_' was not declared in this scope
 9575 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:9577:30: error: 'output_dim_' was not declared in this scope
 9577 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:9579:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9579 |   ReadBasicType(is, binary, &scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc:9581:30: error: 'mix_num_' was not declared in this scope
 9581 |   ReadBasicType(is, binary, &mix_num_);
      |                              ^~~~~~~~
nnet-simple-component.cc:9583:30: error: 'weight_deriv_scale_' was not declared in this scope
 9583 |   ReadBasicType(is, binary, &weight_deriv_scale_);
      |                              ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9587:6: error: 'WeightSumBlockFixComponent' has not been declared
 9587 | void WeightSumBlockFixComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9587:71: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 9587 | void WeightSumBlockFixComponent::Write(std::ostream &os, bool binary) const {
      |                                                                       ^~~~~
nnet-simple-component.cc:9587:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 9587 | void WeightSumBlockFixComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:9590:30: error: 'input_dim_' was not declared in this scope
 9590 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:9592:30: error: 'output_dim_' was not declared in this scope
 9592 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:9594:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9594 |   WriteBasicType(os, binary, scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc:9596:30: error: 'mix_num_' was not declared in this scope
 9596 |   WriteBasicType(os, binary, mix_num_);
      |                              ^~~~~~~~
nnet-simple-component.cc:9598:30: error: 'weight_deriv_scale_' was not declared in this scope
 9598 |   WriteBasicType(os, binary, weight_deriv_scale_);
      |                              ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9602:13: error: 'WeightSumBlockFixComponent' has not been declared
 9602 | std::string WeightSumBlockFixComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9602:48: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
 9602 | std::string WeightSumBlockFixComponent::Info() const {
      |                                                ^~~~~
nnet-simple-component.cc:9602:13: error: redefinition of 'std::string kaldi::Info()'
 9602 | std::string WeightSumBlockFixComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:9604:13: error: 'Type' was not declared in this scope
 9604 |   stream << Type() << ", input-dim=" << input_dim_
      |             ^~~~
nnet-simple-component.cc:9604:41: error: 'input_dim_' was not declared in this scope
 9604 |   stream << Type() << ", input-dim=" << input_dim_
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:9605:32: error: 'output_dim_' was not declared in this scope
 9605 |          << ", output-dim=" << output_dim_
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:9606:27: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9606 |          << ", scale=" << scale_
      |                           ^~~~~~
      |                           Scale
nnet-simple-component.cc:9607:23: error: 'mix_num_' was not declared in this scope
 9607 |    << ", mix-num=" << mix_num_;
      |                       ^~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9611:7: error: 'WeightSumBlockFixComponent' has not been declared
 9611 | void* WeightSumBlockFixComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9611:51: error: 'ComponentPrecomputedIndexes' does not name a type
 9611 | void* WeightSumBlockFixComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |                                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9613:66: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 9613 |                                    CuMatrixBase<BaseFloat> *out) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:9611:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 9611 | void* WeightSumBlockFixComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:9615:34: error: 'output_dim_' was not declared in this scope
 9615 |                out->NumCols() == output_dim_ &&
      |                                  ^~~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:9616:32: error: 'input_dim_' was not declared in this scope
 9616 |                in.NumCols() == input_dim_);
      |                                ^~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:9618:22: error: 'input_dim_' was not declared in this scope
 9618 |   int32 in_val_dim = input_dim_ - mix_num_;
      |                      ^~~~~~~~~~
nnet-simple-component.cc:9618:35: error: 'mix_num_' was not declared in this scope
 9618 |   int32 in_val_dim = input_dim_ - mix_num_;
      |                                   ^~~~~~~~
nnet-simple-component.cc:9627:23: error: 'output_dim_' was not declared in this scope
 9627 |    (in_val.ColRange(i*output_dim_, output_dim_)).MulRowsVec(weight_vec); // weight_i*in_i
      |                       ^~~~~~~~~~~
nnet-simple-component.cc:9630:21: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9630 |   out->AddMatBlocks(scale_, in_val, kNoTrans); // sum_i weight_i*in_i
      |                     ^~~~~~
      |                     Scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9635:6: error: 'WeightSumBlockFixComponent' has not been declared
 9635 | void WeightSumBlockFixComponent::Backprop(
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9637:11: error: 'ComponentPrecomputedIndexes' does not name a type
 9637 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9642:5: error: 'Component' has not been declared
 9642 |     Component *to_update,
      |     ^~~~~~~~~
nnet-simple-component.cc:9643:40: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 9643 |     CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                        ^~~~~
nnet-simple-component.cc:9635:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 9635 | void WeightSumBlockFixComponent::Backprop(
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:9645:21: error: 'input_dim_' was not declared in this scope
 9645 |  int32 in_val_dim = input_dim_ - mix_num_;
      |                     ^~~~~~~~~~
nnet-simple-component.cc:9645:34: error: 'mix_num_' was not declared in this scope
 9645 |  int32 in_val_dim = input_dim_ - mix_num_;
      |                                  ^~~~~~~~
nnet-simple-component.cc:9653:28: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9653 |  deriv_in_val.AddMatBlocks(scale_, out_deriv, kNoTrans);
      |                            ^~~~~~
      |                            Scale
nnet-simple-component.cc:9660:50: error: 'output_dim_' was not declared in this scope
 9660 |   weight_vec.AddColSumMat(1.0, in_val.ColRange(i*output_dim_, output_dim_), 0.0); // sum_j in_i_j*deriv_i_j
      |                                                  ^~~~~~~~~~~
nnet-simple-component.cc:9663:6: error: 'weight_deriv_scale_' was not declared in this scope
 9663 |  if (weight_deriv_scale_ != 1.0) {
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9671:1: error: 'WeightSumBlockRandomComponent' does not name a type
 9671 | WeightSumBlockRandomComponent::WeightSumBlockRandomComponent(const WeightSumBlockRandomComponent &other):
      | ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9676:6: error: 'WeightSumBlockRandomComponent' has not been declared
 9676 | void WeightSumBlockRandomComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9676:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:9677:3: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9677 |   scale_ = 1.0;
      |   ^~~~~~
      |   Scale
nnet-simple-component.cc:9678:3: error: 'mix_num_' was not declared in this scope
 9678 |   mix_num_ = 1;
      |   ^~~~~~~~
nnet-simple-component.cc:9679:3: error: 'weight_deriv_scale_' was not declared in this scope
 9679 |   weight_deriv_scale_ = 1.0;
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9680:3: error: 'rand_num_' was not declared in this scope
 9680 |   rand_num_ = 1;
      |   ^~~~~~~~~
nnet-simple-component.cc:9681:3: error: 'test_mode_' was not declared in this scope
 9681 |   test_mode_ = false;
      |   ^~~~~~~~~~
nnet-simple-component.cc:9682:3: error: 'rand_per_frame_' was not declared in this scope
 9682 |   rand_per_frame_ = false;
      |   ^~~~~~~~~~~~~~~
nnet-simple-component.cc:9683:3: error: 'test_time_sample_' was not declared in this scope
 9683 |   test_time_sample_ = false;
      |   ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9684:41: error: 'input_dim_' was not declared in this scope
 9684 |   bool ok = cfl->GetValue("input-dim", &input_dim_) &&
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:9685:36: error: 'output_dim_' was not declared in this scope
 9685 |       cfl->GetValue("output-dim", &output_dim_);
      |                                    ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9705:6: error: 'WeightSumBlockRandomComponent' has not been declared
 9705 | void WeightSumBlockRandomComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9705:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:9707:30: error: 'input_dim_' was not declared in this scope
 9707 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:9709:30: error: 'output_dim_' was not declared in this scope
 9709 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:9711:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9711 |   ReadBasicType(is, binary, &scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc:9713:30: error: 'mix_num_' was not declared in this scope
 9713 |   ReadBasicType(is, binary, &mix_num_);
      |                              ^~~~~~~~
nnet-simple-component.cc:9715:30: error: 'rand_num_' was not declared in this scope
 9715 |   ReadBasicType(is, binary, &rand_num_);
      |                              ^~~~~~~~~
nnet-simple-component.cc:9717:30: error: 'weight_deriv_scale_' was not declared in this scope
 9717 |   ReadBasicType(is, binary, &weight_deriv_scale_);
      |                              ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9719:30: error: 'rand_per_frame_' was not declared in this scope
 9719 |   ReadBasicType(is, binary, &rand_per_frame_);
      |                              ^~~~~~~~~~~~~~~
nnet-simple-component.cc:9721:30: error: 'test_time_sample_' was not declared in this scope
 9721 |   ReadBasicType(is, binary, &test_time_sample_);
      |                              ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9723:30: error: 'test_mode_' was not declared in this scope
 9723 |   ReadBasicType(is, binary, &test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9727:6: error: 'WeightSumBlockRandomComponent' has not been declared
 9727 | void WeightSumBlockRandomComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9727:74: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 9727 | void WeightSumBlockRandomComponent::Write(std::ostream &os, bool binary) const {
      |                                                                          ^~~~~
nnet-simple-component.cc:9727:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 9727 | void WeightSumBlockRandomComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:9730:30: error: 'input_dim_' was not declared in this scope
 9730 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:9732:30: error: 'output_dim_' was not declared in this scope
 9732 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:9734:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9734 |   WriteBasicType(os, binary, scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc:9736:30: error: 'mix_num_' was not declared in this scope
 9736 |   WriteBasicType(os, binary, mix_num_);
      |                              ^~~~~~~~
nnet-simple-component.cc:9738:30: error: 'rand_num_' was not declared in this scope
 9738 |   WriteBasicType(os, binary, rand_num_);
      |                              ^~~~~~~~~
nnet-simple-component.cc:9740:30: error: 'weight_deriv_scale_' was not declared in this scope
 9740 |   WriteBasicType(os, binary, weight_deriv_scale_);
      |                              ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9742:30: error: 'rand_per_frame_' was not declared in this scope
 9742 |   WriteBasicType(os, binary, rand_per_frame_);
      |                              ^~~~~~~~~~~~~~~
nnet-simple-component.cc:9744:30: error: 'test_time_sample_' was not declared in this scope
 9744 |   WriteBasicType(os, binary, test_time_sample_);
      |                              ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9746:30: error: 'test_mode_' was not declared in this scope
 9746 |   WriteBasicType(os, binary, test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9750:13: error: 'WeightSumBlockRandomComponent' has not been declared
 9750 | std::string WeightSumBlockRandomComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9750:51: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
 9750 | std::string WeightSumBlockRandomComponent::Info() const {
      |                                                   ^~~~~
nnet-simple-component.cc:9750:13: error: redefinition of 'std::string kaldi::Info()'
 9750 | std::string WeightSumBlockRandomComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:9752:13: error: 'Type' was not declared in this scope
 9752 |   stream << Type() << ", input-dim=" << input_dim_
      |             ^~~~
nnet-simple-component.cc:9752:41: error: 'input_dim_' was not declared in this scope
 9752 |   stream << Type() << ", input-dim=" << input_dim_
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:9753:32: error: 'output_dim_' was not declared in this scope
 9753 |          << ", output-dim=" << output_dim_
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:9754:27: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9754 |          << ", scale=" << scale_
      |                           ^~~~~~
      |                           Scale
nnet-simple-component.cc:9755:23: error: 'mix_num_' was not declared in this scope
 9755 |    << ", mix-num=" << mix_num_
      |                       ^~~~~~~~
nnet-simple-component.cc:9756:24: error: 'rand_num_' was not declared in this scope
 9756 |    << ", rand-num=" << rand_num_
      |                        ^~~~~~~~~
nnet-simple-component.cc:9757:34: error: 'weight_deriv_scale_' was not declared in this scope
 9757 |    << ", weight-deriv-scale=" << weight_deriv_scale_
      |                                  ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9758:33: error: 'test_time_sample_' was not declared in this scope
 9758 |    << ", test-time-sample=" << (test_time_sample_ ? "true" : "false")
      |                                 ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9759:31: error: 'rand_per_frame_' was not declared in this scope
 9759 |    << ", rand-per-frame=" << (rand_per_frame_ ? "true" : "false")
      |                               ^~~~~~~~~~~~~~~
nnet-simple-component.cc:9760:26: error: 'test_mode_' was not declared in this scope
 9760 |    << ", test-mode=" << (test_mode_ ? "true" : "false");
      |                          ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9764:7: error: 'WeightSumBlockRandomComponent' has not been declared
 9764 | void* WeightSumBlockRandomComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9764:54: error: 'ComponentPrecomputedIndexes' does not name a type
 9764 | void* WeightSumBlockRandomComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |                                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9766:66: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 9766 |                                    CuMatrixBase<BaseFloat> *out) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:9764:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 9764 | void* WeightSumBlockRandomComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:9768:34: error: 'output_dim_' was not declared in this scope
 9768 |                out->NumCols() == output_dim_ &&
      |                                  ^~~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:9769:32: error: 'input_dim_' was not declared in this scope
 9769 |                in.NumCols() == input_dim_);
      |                                ^~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:9771:22: error: 'input_dim_' was not declared in this scope
 9771 |   int32 in_val_dim = input_dim_ - mix_num_;
      |                      ^~~~~~~~~~
nnet-simple-component.cc:9771:35: error: 'mix_num_' was not declared in this scope
 9771 |   int32 in_val_dim = input_dim_ - mix_num_;
      |                                   ^~~~~~~~
nnet-simple-component.cc:9772:34: error: 'output_dim_' was not declared in this scope
 9772 |   int32 mix_num_all = in_val_dim/output_dim_;
      |                                  ^~~~~~~~~~~
nnet-simple-component.cc:9783:3: error: 'Memo' was not declared in this scope
 9783 |   Memo *memo = new Memo;
      |   ^~~~
nnet-simple-component.cc:9783:9: error: 'memo' was not declared in this scope
 9783 |   Memo *memo = new Memo;
      |         ^~~~
nnet-simple-component.cc:9783:20: error: 'Memo' does not name a type
 9783 |   Memo *memo = new Memo;
      |                    ^~~~
nnet-simple-component.cc:9785:8: error: 'test_mode_' was not declared in this scope
 9785 |   if (!test_mode_ || test_time_sample_) {
      |        ^~~~~~~~~~
nnet-simple-component.cc:9785:22: error: 'test_time_sample_' was not declared in this scope
 9785 |   if (!test_mode_ || test_time_sample_) {
      |                      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9786:29: error: 'rand_num_' was not declared in this scope
 9786 |    average_scale = mix_num_/rand_num_;
      |                             ^~~~~~~~~
nnet-simple-component.cc:9790:9: error: 'rand_per_frame_' was not declared in this scope
 9790 |    if (!rand_per_frame_) {
      |         ^~~~~~~~~~~~~~~
nnet-simple-component.cc:9791:36: error: 'random_generator_' was not declared in this scope
 9791 |     const_cast<CuRand<BaseFloat>&>(random_generator_).RandUniform(&rand_vec);
      |                                    ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9802:36: error: 'random_generator_' was not declared in this scope
 9802 |     const_cast<CuRand<BaseFloat>&>(random_generator_).RandUniform(&rand_mat_tp);
      |                                    ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9830:21: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9830 |   out->AddMatBlocks(scale_*average_scale, in_val, kNoTrans); // sum_i weight_i*in_i*mask/N
      |                     ^~~~~~
      |                     Scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9835:6: error: 'WeightSumBlockRandomComponent' has not been declared
 9835 | void WeightSumBlockRandomComponent::Backprop(
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9837:11: error: 'ComponentPrecomputedIndexes' does not name a type
 9837 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9842:5: error: 'Component' has not been declared
 9842 |     Component *to_update,
      |     ^~~~~~~~~
nnet-simple-component.cc:9843:40: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 9843 |     CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                        ^~~~~
nnet-simple-component.cc:9835:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 9835 | void WeightSumBlockRandomComponent::Backprop(
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:9845:21: error: 'input_dim_' was not declared in this scope
 9845 |  int32 in_val_dim = input_dim_ - mix_num_;
      |                     ^~~~~~~~~~
nnet-simple-component.cc:9845:34: error: 'mix_num_' was not declared in this scope
 9845 |  int32 in_val_dim = input_dim_ - mix_num_;
      |                                  ^~~~~~~~
nnet-simple-component.cc:9846:33: error: 'output_dim_' was not declared in this scope
 9846 |  int32 mix_num_all = in_val_dim/output_dim_;
      |                                 ^~~~~~~~~~~
nnet-simple-component.cc:9849:37: error: 'rand_num_' was not declared in this scope
 9849 |  BaseFloat average_scale = mix_num_/rand_num_;
      |                                     ^~~~~~~~~
nnet-simple-component.cc:9851:2: error: 'Memo' was not declared in this scope; did you mean 'memo'?
 9851 |  Memo *memo_in = static_cast<Memo*>(memo);
      |  ^~~~
      |  memo
nnet-simple-component.cc:9851:8: error: 'memo_in' was not declared in this scope; did you mean 'memo'?
 9851 |  Memo *memo_in = static_cast<Memo*>(memo);
      |        ^~~~~~~
      |        memo
nnet-simple-component.cc:9851:30: error: 'Memo' does not name a type; did you mean 'memo'?
 9851 |  Memo *memo_in = static_cast<Memo*>(memo);
      |                              ^~~~
      |                              memo
nnet-simple-component.cc:9851:34: error: expected '>' before '*' token
 9851 |  Memo *memo_in = static_cast<Memo*>(memo);
      |                                  ^
nnet-simple-component.cc:9851:34: error: expected '(' before '*' token
 9851 |  Memo *memo_in = static_cast<Memo*>(memo);
      |                                  ^
      |                                  (
nnet-simple-component.cc:9851:35: error: expected primary-expression before '>' token
 9851 |  Memo *memo_in = static_cast<Memo*>(memo);
      |                                   ^
nnet-simple-component.cc:9851:42: error: expected ')' before ';' token
 9851 |  Memo *memo_in = static_cast<Memo*>(memo);
      |                                          ^
      |                                          )
nnet-simple-component.cc:9862:28: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9862 |  deriv_in_val.AddMatBlocks(scale_*average_scale, out_deriv, kNoTrans); // deriv/N
      |                            ^~~~~~
      |                            Scale
nnet-simple-component.cc:9877:6: error: 'weight_deriv_scale_' was not declared in this scope
 9877 |  if (weight_deriv_scale_ != 1.0) {
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9885:6: error: 'SoftmaxKLComponent' has not been declared
 9885 | void SoftmaxKLComponent::Init(int32 input_dim, int32 output_dim, BaseFloat scale, bool input_frame_scale, bool inv_frame_scale)  {
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9885:6: error: redefinition of 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool)'
nnet-simple-component.cc:9111:6: note: 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool)' previously defined here
 9111 | void VecL2NormComponent::Init(int32 input_dim, int32 output_dim, BaseFloat scale, bool input_frame_scale, bool inv_frame_scale)  {
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool)':
nnet-simple-component.cc:9886:3: error: 'input_dim_' was not declared in this scope; did you mean 'input_dim'?
 9886 |   input_dim_ = input_dim;
      |   ^~~~~~~~~~
      |   input_dim
nnet-simple-component.cc:9887:3: error: 'output_dim_' was not declared in this scope; did you mean 'output_dim'?
 9887 |   output_dim_ = output_dim;
      |   ^~~~~~~~~~~
      |   output_dim
nnet-simple-component.cc:9888:3: error: 'scale_' was not declared in this scope; did you mean 'scale'?
 9888 |   scale_ = scale;
      |   ^~~~~~
      |   scale
nnet-simple-component.cc:9889:3: error: 'input_frame_scale_' was not declared in this scope; did you mean 'input_frame_scale'?
 9889 |   input_frame_scale_ = input_frame_scale;
      |   ^~~~~~~~~~~~~~~~~~
      |   input_frame_scale
nnet-simple-component.cc:9890:3: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'inv_frame_scale'?
 9890 |   inv_frame_scale_ = inv_frame_scale;
      |   ^~~~~~~~~~~~~~~~
      |   inv_frame_scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9899:6: error: 'SoftmaxKLComponent' has not been declared
 9899 | void SoftmaxKLComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9899:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:9909:18: error: 'Type' was not declared in this scope
 9909 |               << Type();
      |                  ^~~~
nnet-simple-component.cc:9915:18: error: 'Type' was not declared in this scope
 9915 |               << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                  ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9919:7: error: 'SoftmaxKLComponent' has not been declared
 9919 | void* SoftmaxKLComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9920:11: error: 'ComponentPrecomputedIndexes' does not name a type
 9920 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9922:35: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 9922 |     CuMatrixBase<BaseFloat> *out) const {
      |                                   ^~~~~
nnet-simple-component.cc:9919:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
 9919 | void* SoftmaxKLComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:9926:36: error: 'output_dim_' was not declared in this scope
 9926 |   out->SoftMaxPerRow(in.ColRange(0,output_dim_));
      |                                    ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9935:6: error: 'SoftmaxKLComponent' has not been declared
 9935 | void SoftmaxKLComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9936:37: error: 'ComponentPrecomputedIndexes' does not name a type
 9936 |                               const ComponentPrecomputedIndexes *indexes,
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9941:31: error: 'Component' has not been declared
 9941 |                               Component *to_update,
      |                               ^~~~~~~~~
nnet-simple-component.cc:9942:66: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
 9942 |                               CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:9935:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
 9935 | void SoftmaxKLComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:9957:25: error: 'output_dim_' was not declared in this scope
 9957 |   (in_deriv->ColRange(0,output_dim_)).DiffSoftmaxPerRow(out_value, out_deriv);
      |                         ^~~~~~~~~~~
nnet-simple-component.cc:9959:7: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9959 |   if (scale_ != 0) {
      |       ^~~~~~
      |       Scale
nnet-simple-component.cc:9970:8: error: 'input_frame_scale_' was not declared in this scope
 9970 |    if (input_frame_scale_) {
      |        ^~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc:9971:18: error: 'input_dim_' was not declared in this scope
 9971 |     KALDI_ASSERT(input_dim_ == output_dim_+1);
      |                  ^~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:9974:9: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'frame_scale'?
 9974 |     if (inv_frame_scale_) {
      |         ^~~~~~~~~~~~~~~~
      |         frame_scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9984:6: error: 'SoftmaxKLComponent' has not been declared
 9984 | void SoftmaxKLComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9984:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:9987:30: error: 'input_dim_' was not declared in this scope
 9987 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:9989:30: error: 'output_dim_' was not declared in this scope
 9989 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:9991:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
 9991 |   ReadBasicType(is, binary, &scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc:9993:30: error: 'input_frame_scale_' was not declared in this scope
 9993 |   ReadBasicType(is, binary, &input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9995:30: error: 'inv_frame_scale_' was not declared in this scope
 9995 |   ReadBasicType(is, binary, &inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:9999:6: error: 'SoftmaxKLComponent' has not been declared
 9999 | void SoftmaxKLComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:9999:63: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
 9999 | void SoftmaxKLComponent::Write(std::ostream &os, bool binary) const {
      |                                                               ^~~~~
nnet-simple-component.cc:9999:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
 9999 | void SoftmaxKLComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:10002:30: error: 'input_dim_' was not declared in this scope
10002 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:10004:30: error: 'output_dim_' was not declared in this scope
10004 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:10006:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
10006 |   WriteBasicType(os, binary, scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc:10008:30: error: 'input_frame_scale_' was not declared in this scope
10008 |   WriteBasicType(os, binary, input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10010:30: error: 'inv_frame_scale_' was not declared in this scope
10010 |   WriteBasicType(os, binary, inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10014:13: error: 'SoftmaxKLComponent' has not been declared
10014 | std::string SoftmaxKLComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10014:40: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
10014 | std::string SoftmaxKLComponent::Info() const {
      |                                        ^~~~~
nnet-simple-component.cc:10014:13: error: redefinition of 'std::string kaldi::Info()'
10014 | std::string SoftmaxKLComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:10016:13: error: 'Type' was not declared in this scope
10016 |   stream << Type() << ", input-dim=" << input_dim_
      |             ^~~~
nnet-simple-component.cc:10016:41: error: 'input_dim_' was not declared in this scope
10016 |   stream << Type() << ", input-dim=" << input_dim_
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:10017:32: error: 'output_dim_' was not declared in this scope
10017 |          << ", output-dim=" << output_dim_
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:10018:27: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
10018 |          << ", scale=" << scale_
      |                           ^~~~~~
      |                           Scale
nnet-simple-component.cc:10019:32: error: 'input_frame_scale_' was not declared in this scope
10019 |  << ", input-frame-scale=" << (input_frame_scale_ ? "true" : "false")
      |                                ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10020:30: error: 'inv_frame_scale_' was not declared in this scope
10020 |  << ", inv-frame-scale=" << (inv_frame_scale_ ? "true" : "false");
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10026:6: error: 'SumOneKLComponent' has not been declared
10026 | void SumOneKLComponent::Init(int32 input_dim, int32 output_dim, BaseFloat scale, bool input_frame_scale, bool inv_frame_scale)  {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10026:6: error: redefinition of 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool)'
nnet-simple-component.cc:9111:6: note: 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool)' previously defined here
 9111 | void VecL2NormComponent::Init(int32 input_dim, int32 output_dim, BaseFloat scale, bool input_frame_scale, bool inv_frame_scale)  {
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool)':
nnet-simple-component.cc:10027:3: error: 'input_dim_' was not declared in this scope; did you mean 'input_dim'?
10027 |   input_dim_ = input_dim;
      |   ^~~~~~~~~~
      |   input_dim
nnet-simple-component.cc:10028:3: error: 'output_dim_' was not declared in this scope; did you mean 'output_dim'?
10028 |   output_dim_ = output_dim;
      |   ^~~~~~~~~~~
      |   output_dim
nnet-simple-component.cc:10029:3: error: 'scale_' was not declared in this scope; did you mean 'scale'?
10029 |   scale_ = scale;
      |   ^~~~~~
      |   scale
nnet-simple-component.cc:10030:3: error: 'input_frame_scale_' was not declared in this scope; did you mean 'input_frame_scale'?
10030 |   input_frame_scale_ = input_frame_scale;
      |   ^~~~~~~~~~~~~~~~~~
      |   input_frame_scale
nnet-simple-component.cc:10031:3: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'inv_frame_scale'?
10031 |   inv_frame_scale_ = inv_frame_scale;
      |   ^~~~~~~~~~~~~~~~
      |   inv_frame_scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10040:6: error: 'SumOneKLComponent' has not been declared
10040 | void SumOneKLComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10040:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:10050:18: error: 'Type' was not declared in this scope
10050 |               << Type();
      |                  ^~~~
nnet-simple-component.cc:10056:18: error: 'Type' was not declared in this scope
10056 |               << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                  ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10060:7: error: 'SumOneKLComponent' has not been declared
10060 | void* SumOneKLComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10061:11: error: 'ComponentPrecomputedIndexes' does not name a type
10061 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10063:35: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
10063 |     CuMatrixBase<BaseFloat> *out) const {
      |                                   ^~~~~
nnet-simple-component.cc:10060:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
10060 | void* SumOneKLComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:10065:34: error: 'output_dim_' was not declared in this scope
10065 |   out->CopyFromMat(in.ColRange(0,output_dim_)); // a_m
      |                                  ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10075:6: error: 'SumOneKLComponent' has not been declared
10075 | void SumOneKLComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10076:37: error: 'ComponentPrecomputedIndexes' does not name a type
10076 |                               const ComponentPrecomputedIndexes *indexes,
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10081:31: error: 'Component' has not been declared
10081 |                               Component *to_update,
      |                               ^~~~~~~~~
nnet-simple-component.cc:10082:66: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
10082 |                               CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:10075:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
10075 | void SumOneKLComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:10088:25: error: 'output_dim_' was not declared in this scope
10088 |   (in_deriv->ColRange(0,output_dim_)).CopyFromMat(out_deriv);
      |                         ^~~~~~~~~~~
nnet-simple-component.cc:10101:7: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
10101 |   if (scale_ != 0) {
      |       ^~~~~~
      |       Scale
nnet-simple-component.cc:10112:8: error: 'input_frame_scale_' was not declared in this scope
10112 |    if (input_frame_scale_) {
      |        ^~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc:10113:18: error: 'input_dim_' was not declared in this scope
10113 |     KALDI_ASSERT(input_dim_ == output_dim_+1);
      |                  ^~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:10116:9: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'frame_scale'?
10116 |     if (inv_frame_scale_) {
      |         ^~~~~~~~~~~~~~~~
      |         frame_scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10126:6: error: 'SumOneKLComponent' has not been declared
10126 | void SumOneKLComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10126:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:10129:30: error: 'input_dim_' was not declared in this scope
10129 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:10131:30: error: 'output_dim_' was not declared in this scope
10131 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:10133:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
10133 |   ReadBasicType(is, binary, &scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc:10135:30: error: 'input_frame_scale_' was not declared in this scope
10135 |   ReadBasicType(is, binary, &input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10137:30: error: 'inv_frame_scale_' was not declared in this scope
10137 |   ReadBasicType(is, binary, &inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10141:6: error: 'SumOneKLComponent' has not been declared
10141 | void SumOneKLComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10141:62: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
10141 | void SumOneKLComponent::Write(std::ostream &os, bool binary) const {
      |                                                              ^~~~~
nnet-simple-component.cc:10141:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
10141 | void SumOneKLComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:10144:30: error: 'input_dim_' was not declared in this scope
10144 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:10146:30: error: 'output_dim_' was not declared in this scope
10146 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:10148:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
10148 |   WriteBasicType(os, binary, scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc:10150:30: error: 'input_frame_scale_' was not declared in this scope
10150 |   WriteBasicType(os, binary, input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10152:30: error: 'inv_frame_scale_' was not declared in this scope
10152 |   WriteBasicType(os, binary, inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10156:13: error: 'SumOneKLComponent' has not been declared
10156 | std::string SumOneKLComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10156:39: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
10156 | std::string SumOneKLComponent::Info() const {
      |                                       ^~~~~
nnet-simple-component.cc:10156:13: error: redefinition of 'std::string kaldi::Info()'
10156 | std::string SumOneKLComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:10158:13: error: 'Type' was not declared in this scope
10158 |   stream << Type() << ", input-dim=" << input_dim_
      |             ^~~~
nnet-simple-component.cc:10158:41: error: 'input_dim_' was not declared in this scope
10158 |   stream << Type() << ", input-dim=" << input_dim_
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:10159:32: error: 'output_dim_' was not declared in this scope
10159 |          << ", output-dim=" << output_dim_
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:10160:27: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
10160 |          << ", scale=" << scale_
      |                           ^~~~~~
      |                           Scale
nnet-simple-component.cc:10161:32: error: 'input_frame_scale_' was not declared in this scope
10161 |  << ", input-frame-scale=" << (input_frame_scale_ ? "true" : "false")
      |                                ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10162:30: error: 'inv_frame_scale_' was not declared in this scope
10162 |  << ", inv-frame-scale=" << (inv_frame_scale_ ? "true" : "false");
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10168:6: error: 'BLHUCGMMComponent' has not been declared
10168 | void BLHUCGMMComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10168:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:10169:23: error: 'ReadUpdatableCommon' was not declared in this scope
10169 |   std::string token = ReadUpdatableCommon(is, binary);
      |                       ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10172:3: error: 'params_' was not declared in this scope
10172 |   params_.Read(is, binary);
      |   ^~~~~~~
nnet-simple-component.cc:10174:30: error: 'KL_scale_' was not declared in this scope
10174 |   ReadBasicType(is, binary, &KL_scale_);
      |                              ^~~~~~~~~
nnet-simple-component.cc:10176:30: error: 'mean_update_scale_' was not declared in this scope
10176 |   ReadBasicType(is, binary, &mean_update_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10178:30: error: 'std_update_scale_' was not declared in this scope
10178 |   ReadBasicType(is, binary, &std_update_scale_);
      |                              ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10180:30: error: 'prior_mean_update_scale_' was not declared in this scope
10180 |   ReadBasicType(is, binary, &prior_mean_update_scale_);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10182:30: error: 'prior_std_update_scale_' was not declared in this scope
10182 |   ReadBasicType(is, binary, &prior_std_update_scale_);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10184:30: error: 'test_mode_' was not declared in this scope
10184 |   ReadBasicType(is, binary, &test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:10186:30: error: 'share_std_dim_' was not declared in this scope
10186 |   ReadBasicType(is, binary, &share_std_dim_);
      |                              ^~~~~~~~~~~~~~
nnet-simple-component.cc:10188:30: error: 'share_mix_sampling_' was not declared in this scope
10188 |   ReadBasicType(is, binary, &share_mix_sampling_);
      |                              ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10190:30: error: 'input_frame_scale_' was not declared in this scope
10190 |   ReadBasicType(is, binary, &input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10192:30: error: 'inv_frame_scale_' was not declared in this scope
10192 |   ReadBasicType(is, binary, &inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:10194:30: error: 'activation_' was not declared in this scope
10194 |   ReadBasicType(is, binary, &activation_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:10196:30: error: 'mix_num_' was not declared in this scope
10196 |   ReadBasicType(is, binary, &mix_num_);
      |                              ^~~~~~~~
nnet-simple-component.cc:10198:30: error: 'input_dim_' was not declared in this scope
10198 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:10200:30: error: 'output_dim_' was not declared in this scope
10200 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:10203:32: error: 'orthonormal_constraint_' was not declared in this scope
10203 |     ReadBasicType(is, binary, &orthonormal_constraint_);
      |                                ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10205:5: error: 'orthonormal_constraint_' was not declared in this scope
10205 |     orthonormal_constraint_ = 0.0;
      |     ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10208:30: error: 'use_natural_gradient_' was not declared in this scope
10208 |   ReadBasicType(is, binary, &use_natural_gradient_);
      |                              ^~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10223:3: error: 'preconditioner_in_' was not declared in this scope
10223 |   preconditioner_in_.SetAlpha(alpha);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10224:3: error: 'preconditioner_out_' was not declared in this scope
10224 |   preconditioner_out_.SetAlpha(alpha);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10235:6: error: 'BLHUCGMMComponent' has not been declared
10235 | void BLHUCGMMComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10235:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:10238:3: error: 'is_gradient_' was not declared in this scope
10238 |   is_gradient_ = false;  // not configurable; there's no reason you'd want this
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:10240:3: error: 'InitLearningRatesFromConfig' was not declared in this scope
10240 |   InitLearningRatesFromConfig(cfl);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10242:3: error: 'input_dim_' was not declared in this scope
10242 |   input_dim_ = -1;
      |   ^~~~~~~~~~
nnet-simple-component.cc:10243:3: error: 'output_dim_' was not declared in this scope
10243 |   output_dim_ = -1;
      |   ^~~~~~~~~~~
nnet-simple-component.cc:10244:3: error: 'KL_scale_' was not declared in this scope
10244 |   KL_scale_ = 1.0;
      |   ^~~~~~~~~
nnet-simple-component.cc:10245:3: error: 'mean_update_scale_' was not declared in this scope
10245 |   mean_update_scale_ = 1.0;
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10246:3: error: 'std_update_scale_' was not declared in this scope
10246 |   std_update_scale_ = 1.0;
      |   ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10247:3: error: 'prior_mean_update_scale_' was not declared in this scope
10247 |   prior_mean_update_scale_ = 1.0;
      |   ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10248:3: error: 'prior_std_update_scale_' was not declared in this scope
10248 |   prior_std_update_scale_ = 1.0;
      |   ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10249:3: error: 'test_mode_' was not declared in this scope
10249 |   test_mode_ = false;
      |   ^~~~~~~~~~
nnet-simple-component.cc:10250:3: error: 'share_std_dim_' was not declared in this scope
10250 |   share_std_dim_ = false;
      |   ^~~~~~~~~~~~~~
nnet-simple-component.cc:10251:3: error: 'share_mix_sampling_' was not declared in this scope
10251 |   share_mix_sampling_ = false;
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10252:3: error: 'input_frame_scale_' was not declared in this scope
10252 |   input_frame_scale_ = false;
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10253:3: error: 'inv_frame_scale_' was not declared in this scope
10253 |   inv_frame_scale_ = false;
      |   ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:10254:3: error: 'activation_' was not declared in this scope
10254 |   activation_ = 0; // sigmoid=0, relu=1, exp=2, lin=3
      |   ^~~~~~~~~~~
nnet-simple-component.cc:10255:3: error: 'mix_num_' was not declared in this scope
10255 |   mix_num_ = -1;
      |   ^~~~~~~~
nnet-simple-component.cc:10269:39: error: 'params_' was not declared in this scope
10269 |     ReadKaldiObject(matrix_filename, &params_); // will abort on failure.
      |                                       ^~~~~~~
nnet-simple-component.cc:10291:5: error: 'params_' was not declared in this scope
10291 |     params_.Resize(output_dim_*2, mix_num_);
      |     ^~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc:10292:83: warning: suggest parentheses around comparison in operand of '&' [-Wparentheses]
10292 |     KALDI_ASSERT(output_dim_ > 0 && input_dim_ > 0 && mix_num_ > 0 && mean_stddev >= 0.0 & std_stddev >= 0.0);
      |                                                                       ~~~~~~~~~~~~^~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:10304:3: error: 'use_natural_gradient_' was not declared in this scope
10304 |   use_natural_gradient_ = true;
      |   ^~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10314:36: error: 'params_' was not declared in this scope
10314 |     rank_in = std::min<int32>(20, (params_.NumCols() + 1) / 2);
      |                                    ^~~~~~~
nnet-simple-component.cc:10316:37: error: 'params_' was not declared in this scope
10316 |     rank_out = std::min<int32>(80, (params_.NumRows() + 1) / 2);
      |                                     ^~~~~~~
nnet-simple-component.cc:10318:3: error: 'preconditioner_in_' was not declared in this scope
10318 |   preconditioner_in_.SetAlpha(alpha);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10319:3: error: 'preconditioner_out_' was not declared in this scope
10319 |   preconditioner_out_.SetAlpha(alpha);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10327:3: error: 'orthonormal_constraint_' was not declared in this scope
10327 |   orthonormal_constraint_ = 0.0;
      |   ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10336:6: error: 'BLHUCGMMComponent' has not been declared
10336 | void BLHUCGMMComponent::Write(std::ostream &os,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10337:42: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
10337 |                             bool binary) const {
      |                                          ^~~~~
nnet-simple-component.cc:10336:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
10336 | void BLHUCGMMComponent::Write(std::ostream &os,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:10338:3: error: 'WriteUpdatableCommon' was not declared in this scope
10338 |   WriteUpdatableCommon(os, binary);  // Write the opening tag and learning rate
      |   ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10340:3: error: 'params_' was not declared in this scope
10340 |   params_.Write(os, binary);
      |   ^~~~~~~
nnet-simple-component.cc:10342:30: error: 'KL_scale_' was not declared in this scope
10342 |   WriteBasicType(os, binary, KL_scale_);
      |                              ^~~~~~~~~
nnet-simple-component.cc:10344:30: error: 'mean_update_scale_' was not declared in this scope
10344 |   WriteBasicType(os, binary, mean_update_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10346:30: error: 'std_update_scale_' was not declared in this scope
10346 |   WriteBasicType(os, binary, std_update_scale_);
      |                              ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10348:30: error: 'prior_mean_update_scale_' was not declared in this scope
10348 |   WriteBasicType(os, binary, prior_mean_update_scale_);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10350:30: error: 'prior_std_update_scale_' was not declared in this scope
10350 |   WriteBasicType(os, binary, prior_std_update_scale_);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10352:30: error: 'test_mode_' was not declared in this scope
10352 |   WriteBasicType(os, binary, test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:10354:30: error: 'share_std_dim_' was not declared in this scope
10354 |   WriteBasicType(os, binary, share_std_dim_);
      |                              ^~~~~~~~~~~~~~
nnet-simple-component.cc:10356:30: error: 'share_mix_sampling_' was not declared in this scope
10356 |   WriteBasicType(os, binary, share_mix_sampling_);
      |                              ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10358:30: error: 'input_frame_scale_' was not declared in this scope
10358 |   WriteBasicType(os, binary, input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10360:30: error: 'inv_frame_scale_' was not declared in this scope
10360 |   WriteBasicType(os, binary, inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:10362:30: error: 'activation_' was not declared in this scope
10362 |   WriteBasicType(os, binary, activation_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:10364:30: error: 'mix_num_' was not declared in this scope
10364 |   WriteBasicType(os, binary, mix_num_);
      |                              ^~~~~~~~
nnet-simple-component.cc:10366:30: error: 'input_dim_' was not declared in this scope
10366 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:10368:30: error: 'output_dim_' was not declared in this scope
10368 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:10369:7: error: 'orthonormal_constraint_' was not declared in this scope
10369 |   if (orthonormal_constraint_ != 0.0) {
      |       ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10374:30: error: 'use_natural_gradient_' was not declared in this scope
10374 |   WriteBasicType(os, binary, use_natural_gradient_);
      |                              ^~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10376:19: error: 'preconditioner_in_' was not declared in this scope
10376 |   int32 rank_in = preconditioner_in_.GetRank(),
      |                   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10383:30: error: 'rank_out' was not declared in this scope
10383 |   WriteBasicType(os, binary, rank_out);
      |                              ^~~~~~~~
nnet-simple-component.cc:10387:30: error: 'num_samples_history' was not declared in this scope
10387 |   WriteBasicType(os, binary, num_samples_history);
      |                              ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10389:30: error: 'update_period' was not declared in this scope
10389 |   WriteBasicType(os, binary, update_period);
      |                              ^~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10393:13: error: 'BLHUCGMMComponent' has not been declared
10393 | std::string BLHUCGMMComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10393:39: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
10393 | std::string BLHUCGMMComponent::Info() const {
      |                                       ^~~~~
nnet-simple-component.cc:10393:13: error: redefinition of 'std::string kaldi::Info()'
10393 | std::string BLHUCGMMComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:10395:13: error: 'UpdatableComponent' has not been declared
10395 |   stream << UpdatableComponent::Info();
      |             ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10396:33: error: 'output_dim_' was not declared in this scope
10396 |   CuMatrix<BaseFloat> subparams(output_dim_, mix_num_);
      |                                 ^~~~~~~~~~~
nnet-simple-component.cc:10396:46: error: 'mix_num_' was not declared in this scope
10396 |   CuMatrix<BaseFloat> subparams(output_dim_, mix_num_);
      |                                              ^~~~~~~~
nnet-simple-component.cc:10397:25: error: 'params_' was not declared in this scope
10397 |   subparams.CopyFromMat(params_.RowRange(0, output_dim_));
      |                         ^~~~~~~
nnet-simple-component.cc:10398:3: error: 'PrintParameterStats' was not declared in this scope; did you mean 'kaldi::nnet3::PrintParameterStats'?
10398 |   PrintParameterStats(stream, "mean", subparams,
      |   ^~~~~~~~~~~~~~~~~~~
      |   kaldi::nnet3::PrintParameterStats
In file included from ../nnet3/nnet-component-itf.h:27,
                 from ../nnet3/nnet-simple-component.h:30,
                 from nnet-simple-component.cc:28:
../nnet3/nnet-parse.h:112:6: note: 'kaldi::nnet3::PrintParameterStats' declared here
  112 | void PrintParameterStats(std::ostringstream &os,
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10409:7: error: 'orthonormal_constraint_' was not declared in this scope
10409 |   if (orthonormal_constraint_ != 0.0)
      |       ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10412:14: error: 'use_natural_gradient_' was not declared in this scope
10412 |          << (use_natural_gradient_ ? "true" : "false")
      |              ^~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10413:29: error: 'preconditioner_in_' was not declared in this scope
10413 |          << ", rank-in=" << preconditioner_in_.GetRank()
      |                             ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10414:30: error: 'preconditioner_out_' was not declared in this scope
10414 |          << ", rank-out=" << preconditioner_out_.GetRank()
      |                              ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10422:7: error: 'BLHUCGMMComponent' has not been declared
10422 | void* BLHUCGMMComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10422:42: error: 'ComponentPrecomputedIndexes' does not name a type
10422 | void* BLHUCGMMComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |                                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10424:64: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
10424 |                                  CuMatrixBase<BaseFloat> *out) const {
      |                                                                ^~~~~
nnet-simple-component.cc:10422:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
10422 | void* BLHUCGMMComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:10426:33: error: 'output_dim_' was not declared in this scope
10426 |   CuMatrix<BaseFloat> post_mean(output_dim_, mix_num_);
      |                                 ^~~~~~~~~~~
nnet-simple-component.cc:10426:46: error: 'mix_num_' was not declared in this scope
10426 |   CuMatrix<BaseFloat> post_mean(output_dim_, mix_num_);
      |                                              ^~~~~~~~
nnet-simple-component.cc:10427:25: error: 'params_' was not declared in this scope
10427 |   post_mean.CopyFromMat(params_.RowRange(0, output_dim_));
      |                         ^~~~~~~
nnet-simple-component.cc:10432:3: error: 'Memo' was not declared in this scope
10432 |   Memo *memo = new Memo;
      |   ^~~~
nnet-simple-component.cc:10432:9: error: 'memo' was not declared in this scope
10432 |   Memo *memo = new Memo;
      |         ^~~~
nnet-simple-component.cc:10432:20: error: 'Memo' does not name a type
10432 |   Memo *memo = new Memo;
      |                    ^~~~
nnet-simple-component.cc:10434:8: error: 'test_mode_' was not declared in this scope
10434 |   if (!test_mode_) {
      |        ^~~~~~~~~~
nnet-simple-component.cc:10435:8: error: 'share_mix_sampling_' was not declared in this scope
10435 |    if (share_mix_sampling_) {
      |        ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10437:36: error: 'random_generator_' was not declared in this scope
10437 |     const_cast<CuRand<BaseFloat>&>(random_generator_).RandGaussian(&(memo->rand_vec));
      |                                    ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10441:36: error: 'random_generator_' was not declared in this scope
10441 |     const_cast<CuRand<BaseFloat>&>(random_generator_).RandGaussian(&(memo->rand_mat));
      |                                    ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10449:7: error: 'activation_' was not declared in this scope
10449 |   if (activation_ == 0) {
      |       ^~~~~~~~~~~
nnet-simple-component.cc:10460:8: error: 'test_mode_' was not declared in this scope
10460 |   if (!test_mode_) {
      |        ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10467:6: error: 'BLHUCGMMComponent' has not been declared
10467 | void BLHUCGMMComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10468:38: error: 'ComponentPrecomputedIndexes' does not name a type
10468 |                                const ComponentPrecomputedIndexes *indexes,
      |                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10473:32: error: 'Component' has not been declared
10473 |                                Component *to_update_in,
      |                                ^~~~~~~~~
nnet-simple-component.cc:10474:67: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
10474 |                                CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                   ^~~~~
nnet-simple-component.cc:10467:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
10467 | void BLHUCGMMComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:10475:3: error: 'BLHUCGMMComponent' was not declared in this scope; did you mean 'kaldi::nnet3::BLHUCGMMComponent'?
10475 |   BLHUCGMMComponent *to_update = dynamic_cast<BLHUCGMMComponent*>(to_update_in);
      |   ^~~~~~~~~~~~~~~~~
      |   kaldi::nnet3::BLHUCGMMComponent
In file included from nnet-simple-component.cc:28:
../nnet3/nnet-simple-component.h:3689:7: note: 'kaldi::nnet3::BLHUCGMMComponent' declared here
 3689 | class BLHUCGMMComponent: public UpdatableComponent {
      |       ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10475:22: error: 'to_update' was not declared in this scope; did you mean 'to_update_in'?
10475 |   BLHUCGMMComponent *to_update = dynamic_cast<BLHUCGMMComponent*>(to_update_in);
      |                      ^~~~~~~~~
      |                      to_update_in
nnet-simple-component.cc:10475:47: error: 'BLHUCGMMComponent' does not name a type
10475 |   BLHUCGMMComponent *to_update = dynamic_cast<BLHUCGMMComponent*>(to_update_in);
      |                                               ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10475:64: error: expected '>' before '*' token
10475 |   BLHUCGMMComponent *to_update = dynamic_cast<BLHUCGMMComponent*>(to_update_in);
      |                                                                ^
nnet-simple-component.cc:10475:64: error: expected '(' before '*' token
10475 |   BLHUCGMMComponent *to_update = dynamic_cast<BLHUCGMMComponent*>(to_update_in);
      |                                                                ^
      |                                                                (
nnet-simple-component.cc:10475:65: error: expected primary-expression before '>' token
10475 |   BLHUCGMMComponent *to_update = dynamic_cast<BLHUCGMMComponent*>(to_update_in);
      |                                                                 ^
nnet-simple-component.cc:10475:80: error: expected ')' before ';' token
10475 |   BLHUCGMMComponent *to_update = dynamic_cast<BLHUCGMMComponent*>(to_update_in);
      |                                                                                ^
      |                                                                                )
nnet-simple-component.cc:10477:3: error: 'Memo' was not declared in this scope; did you mean 'memo'?
10477 |   Memo *memo_in = static_cast<Memo*>(memo);
      |   ^~~~
      |   memo
nnet-simple-component.cc:10477:9: error: 'memo_in' was not declared in this scope; did you mean 'memo'?
10477 |   Memo *memo_in = static_cast<Memo*>(memo);
      |         ^~~~~~~
      |         memo
nnet-simple-component.cc:10477:31: error: 'Memo' does not name a type; did you mean 'memo'?
10477 |   Memo *memo_in = static_cast<Memo*>(memo);
      |                               ^~~~
      |                               memo
nnet-simple-component.cc:10477:35: error: expected '>' before '*' token
10477 |   Memo *memo_in = static_cast<Memo*>(memo);
      |                                   ^
nnet-simple-component.cc:10477:35: error: expected '(' before '*' token
10477 |   Memo *memo_in = static_cast<Memo*>(memo);
      |                                   ^
      |                                   (
nnet-simple-component.cc:10477:36: error: expected primary-expression before '>' token
10477 |   Memo *memo_in = static_cast<Memo*>(memo);
      |                                    ^
nnet-simple-component.cc:10477:43: error: expected ')' before ';' token
10477 |   Memo *memo_in = static_cast<Memo*>(memo);
      |                                           ^
      |                                           )
nnet-simple-component.cc:10480:36: error: 'params_' was not declared in this scope
10480 |   CuSubMatrix<BaseFloat> post_mean(params_.RowRange(0, output_dim_));
      |                                    ^~~~~~~
nnet-simple-component.cc:10480:56: error: 'output_dim_' was not declared in this scope
10480 |   CuSubMatrix<BaseFloat> post_mean(params_.RowRange(0, output_dim_));
      |                                                        ^~~~~~~~~~~
nnet-simple-component.cc:10482:54: error: 'mix_num_' was not declared in this scope
10482 |   CuSubMatrix<BaseFloat> in_mix(in_value.ColRange(0, mix_num_));
      |                                                      ^~~~~~~~
nnet-simple-component.cc:10497:7: error: 'KL_scale_' was not declared in this scope
10497 |   if (KL_scale_ != 0) {
      |       ^~~~~~~~~
nnet-simple-component.cc:10551:6: error: 'KL_scale_' was not declared in this scope
10551 |  if (KL_scale_ != 0) {
      |      ^~~~~~~~~
nnet-simple-component.cc:10560:40: error: 'prior_mean_update_scale_' was not declared in this scope
10560 |   KL_prior_mean_deriv_vec.AddColSumMat(prior_mean_update_scale_, KL_prior_mean_deriv, 0.0); // sum_m
      |                                        ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10563:39: error: 'prior_std_update_scale_' was not declared in this scope
10563 |   KL_prior_std_deriv_vec.AddColSumMat(prior_std_update_scale_, KL_prior_std_deriv, 0.0); // sum_m
      |                                       ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10566:7: error: 'input_frame_scale_' was not declared in this scope
10566 |   if (input_frame_scale_) {
      |       ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10569:9: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'frame_scale'?
10569 |     if (inv_frame_scale_) {
      |         ^~~~~~~~~~~~~~~~
      |         frame_scale
nnet-simple-component.cc:10602:6: error: 'activation_' was not declared in this scope
10602 |  if (activation_ == 0) {
      |      ^~~~~~~~~~~
nnet-simple-component.cc:10610:69: error: 'mean_update_scale_' was not declared in this scope
10610 |  ((to_update->params_).RowRange(0, output_dim_)).AddMat(local_lrate*mean_update_scale_, in_gmm_deriv_post);
      |                                                                     ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10612:6: error: 'KL_scale_' was not declared in this scope
10612 |  if (KL_scale_ != 0) {
      |      ^~~~~~~~~
nnet-simple-component.cc:10616:7: error: 'test_mode_' was not declared in this scope
10616 |  if (!test_mode_) {
      |       ^~~~~~~~~~
nnet-simple-component.cc:10617:7: error: 'share_mix_sampling_' was not declared in this scope
10617 |   if (share_mix_sampling_) {
      |       ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10622:80: error: 'std_update_scale_' was not declared in this scope
10622 |   ((to_update->params_).RowRange(output_dim_, output_dim_)).AddMat(local_lrate*std_update_scale_, in_gmm_deriv_post);
      |                                                                                ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10624:7: error: 'KL_scale_' was not declared in this scope
10624 |   if (KL_scale_ != 0) {
      |       ^~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10632:1: error: 'Component' does not name a type
10632 | Component* BLHUCGMMComponent::Copy() const {
      | ^~~~~~~~~
nnet-simple-component.cc:10636:1: error: 'BLHUCGMMComponent' does not name a type
10636 | BLHUCGMMComponent::BLHUCGMMComponent(
      | ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10659:1: error: 'BLHUCGMMComponent' does not name a type
10659 | BLHUCGMMComponent::BLHUCGMMComponent(const CuMatrix<BaseFloat> &params, BaseFloat KL_scale,
      | ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10690:6: error: 'BLHUCGMMComponent' has not been declared
10690 | void BLHUCGMMComponent::Scale(BaseFloat scale) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10690:6: error: redefinition of 'void kaldi::Scale(kaldi::BaseFloat)'
nnet-simple-component.cc:7731:6: note: 'void kaldi::Scale(kaldi::BaseFloat)' previously defined here
 7731 | void BayesAffineComponent::Scale(BaseFloat scale) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Scale(kaldi::BaseFloat)':
nnet-simple-component.cc:10691:21: error: 'params_' was not declared in this scope
10691 |   if (scale == 0.0) params_.SetZero();
      |                     ^~~~~~~
nnet-simple-component.cc:10692:8: error: 'params_' was not declared in this scope
10692 |   else params_.Scale(scale);
      |        ^~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10695:6: error: 'BLHUCGMMComponent' has not been declared
10695 | void BLHUCGMMComponent::Add(BaseFloat alpha, const Component &other_in) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10695:52: error: 'Component' does not name a type
10695 | void BLHUCGMMComponent::Add(BaseFloat alpha, const Component &other_in) {
      |                                                    ^~~~~~~~~
nnet-simple-component.cc:10695:6: error: redefinition of 'void kaldi::Add(kaldi::BaseFloat, const int&)'
10695 | void BLHUCGMMComponent::Add(BaseFloat alpha, const Component &other_in) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7768:6: note: 'void kaldi::Add(kaldi::BaseFloat, const int&)' previously defined here
 7768 | void BayesAffineComponent::Add(BaseFloat alpha, const Component &other_in) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Add(kaldi::BaseFloat, const int&)':
nnet-simple-component.cc:10696:9: error: 'BLHUCGMMComponent' does not name a type
10696 |   const BLHUCGMMComponent *other =
      |         ^~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc:10698:16: error: 'other' was not declared in this scope; did you mean 'other_in'?
10698 |   KALDI_ASSERT(other != NULL);
      |                ^~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:10699:3: error: 'params_' was not declared in this scope
10699 |   params_.AddMat(alpha, other->params_);
      |   ^~~~~~~
nnet-simple-component.cc:10699:25: error: 'other' was not declared in this scope; did you mean 'other_in'?
10699 |   params_.AddMat(alpha, other->params_);
      |                         ^~~~~
      |                         other_in
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10702:6: error: 'BLHUCGMMComponent' has not been declared
10702 | void BLHUCGMMComponent::PerturbParams(BaseFloat stddev) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10702:6: error: redefinition of 'void kaldi::PerturbParams(kaldi::BaseFloat)'
nnet-simple-component.cc:7839:6: note: 'void kaldi::PerturbParams(kaldi::BaseFloat)' previously defined here
 7839 | void BayesAffineComponent::PerturbParams(BaseFloat stddev) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::PerturbParams(kaldi::BaseFloat)':
nnet-simple-component.cc:10703:35: error: 'params_' was not declared in this scope
10703 |   CuMatrix<BaseFloat> temp_params(params_);
      |                                   ^~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10707:7: error: 'BLHUCGMMComponent' has not been declared
10707 | int32 BLHUCGMMComponent::NumParameters() const {
      |       ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10707:42: error: non-member function 'int32 kaldi::NumParameters()' cannot have cv-qualifier
10707 | int32 BLHUCGMMComponent::NumParameters() const {
      |                                          ^~~~~
nnet-simple-component.cc:10707:7: error: redefinition of 'int32 kaldi::NumParameters()'
10707 | int32 BLHUCGMMComponent::NumParameters() const {
      |       ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8281:7: note: 'int32 kaldi::NumParameters()' previously defined here
 8281 | int32 BayesAffineComponent::NumParameters() const {
      |       ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'int32 kaldi::NumParameters()':
nnet-simple-component.cc:10708:10: error: 'params_' was not declared in this scope
10708 |   return params_.NumRows() * params_.NumCols();
      |          ^~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10710:6: error: 'BLHUCGMMComponent' has not been declared
10710 | void BLHUCGMMComponent::Vectorize(VectorBase<BaseFloat> *params) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10710:66: error: non-member function 'void kaldi::Vectorize(kaldi::VectorBase<float>*)' cannot have cv-qualifier
10710 | void BLHUCGMMComponent::Vectorize(VectorBase<BaseFloat> *params) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:10710:6: error: redefinition of 'void kaldi::Vectorize(kaldi::VectorBase<float>*)'
10710 | void BLHUCGMMComponent::Vectorize(VectorBase<BaseFloat> *params) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8285:6: note: 'void kaldi::Vectorize(kaldi::VectorBase<float>*)' previously defined here
 8285 | void BayesAffineComponent::Vectorize(VectorBase<BaseFloat> *params) const {
      |      ^~~~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void kaldi::Vectorize(kaldi::VectorBase<float>*)':
nnet-simple-component.cc:10711:33: error: invalid use of 'this' in non-member function
10711 |   KALDI_ASSERT(params->Dim() == this->NumParameters());
      |                                 ^~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:10712:27: error: 'params_' was not declared in this scope; did you mean 'params'?
10712 |   params->CopyRowsFromMat(params_);
      |                           ^~~~~~~
      |                           params
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10714:6: error: 'BLHUCGMMComponent' has not been declared
10714 | void BLHUCGMMComponent::UnVectorize(const VectorBase<BaseFloat> &params) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10714:6: error: redefinition of 'void kaldi::UnVectorize(const kaldi::VectorBase<float>&)'
nnet-simple-component.cc:8301:6: note: 'void kaldi::UnVectorize(const kaldi::VectorBase<float>&)' previously defined here
 8301 | void BayesAffineComponent::UnVectorize(const VectorBase<BaseFloat> &params) {
      |      ^~~~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void kaldi::UnVectorize(const kaldi::VectorBase<float>&)':
nnet-simple-component.cc:10715:32: error: invalid use of 'this' in non-member function
10715 |   KALDI_ASSERT(params.Dim() == this->NumParameters());
      |                                ^~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:10716:3: error: 'params_' was not declared in this scope; did you mean 'params'?
10716 |   params_.CopyRowsFromVec(params);
      |   ^~~~~~~
      |   params
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10718:11: error: 'BLHUCGMMComponent' has not been declared
10718 | BaseFloat BLHUCGMMComponent::DotProduct(const UpdatableComponent &other_in) const {
      |           ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10718:47: error: 'UpdatableComponent' does not name a type
10718 | BaseFloat BLHUCGMMComponent::DotProduct(const UpdatableComponent &other_in) const {
      |                                               ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10718:77: error: non-member function 'kaldi::BaseFloat kaldi::DotProduct(const int&)' cannot have cv-qualifier
10718 | BaseFloat BLHUCGMMComponent::DotProduct(const UpdatableComponent &other_in) const {
      |                                                                             ^~~~~
nnet-simple-component.cc:10718:11: error: redefinition of 'kaldi::BaseFloat kaldi::DotProduct(const int&)'
10718 | BaseFloat BLHUCGMMComponent::DotProduct(const UpdatableComponent &other_in) const {
      |           ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7891:11: note: 'kaldi::BaseFloat kaldi::DotProduct(const int&)' previously defined here
 7891 | BaseFloat BayesAffineComponent::DotProduct(const UpdatableComponent &other_in) const {
      |           ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'kaldi::BaseFloat kaldi::DotProduct(const int&)':
nnet-simple-component.cc:10719:9: error: 'BLHUCGMMComponent' does not name a type
10719 |   const BLHUCGMMComponent *other =
      |         ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10721:22: error: 'params_' was not declared in this scope
10721 |   return TraceMatMat(params_, other->params_, kTrans);
      |                      ^~~~~~~
nnet-simple-component.cc:10721:31: error: 'other' was not declared in this scope; did you mean 'other_in'?
10721 |   return TraceMatMat(params_, other->params_, kTrans);
      |                               ^~~~~
      |                               other_in
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10724:6: error: 'BLHUCGMMComponent' has not been declared
10724 | void BLHUCGMMComponent::FreezeNaturalGradient(bool freeze) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10724:6: error: redefinition of 'void kaldi::FreezeNaturalGradient(bool)'
nnet-simple-component.cc:8806:6: note: 'void kaldi::FreezeNaturalGradient(bool)' previously defined here
 8806 | void NaturalGradientBayesAffineComponent::FreezeNaturalGradient(bool freeze) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::FreezeNaturalGradient(bool)':
nnet-simple-component.cc:10725:3: error: 'preconditioner_in_' was not declared in this scope
10725 |   preconditioner_in_.Freeze(freeze);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10726:3: error: 'preconditioner_out_' was not declared in this scope
10726 |   preconditioner_out_.Freeze(freeze);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10729:6: error: 'BLHUCGMMComponent' has not been declared
10729 | void BLHUCGMMComponent::ConsolidateMemory() {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10729:6: error: redefinition of 'void kaldi::ConsolidateMemory()'
nnet-simple-component.cc:8811:6: note: 'void kaldi::ConsolidateMemory()' previously defined here
 8811 | void NaturalGradientBayesAffineComponent::ConsolidateMemory() {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::ConsolidateMemory()':
nnet-simple-component.cc:10730:3: error: 'OnlineNaturalGradient' was not declared in this scope; did you mean 'kaldi::nnet3::OnlineNaturalGradient'?
10730 |   OnlineNaturalGradient temp_in(preconditioner_in_);
      |   ^~~~~~~~~~~~~~~~~~~~~
      |   kaldi::nnet3::OnlineNaturalGradient
In file included from ../nnet3/nnet-simple-component.h:31,
                 from nnet-simple-component.cc:28:
../nnet3/natural-gradient-online.h:414:7: note: 'kaldi::nnet3::OnlineNaturalGradient' declared here
  414 | class OnlineNaturalGradient {
      |       ^~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10731:3: error: 'preconditioner_in_' was not declared in this scope
10731 |   preconditioner_in_.Swap(&temp_in);
      |   ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10731:28: error: 'temp_in' was not declared in this scope
10731 |   preconditioner_in_.Swap(&temp_in);
      |                            ^~~~~~~
nnet-simple-component.cc:10732:24: error: expected ';' before 'temp_out'
10732 |   OnlineNaturalGradient temp_out(preconditioner_out_);
      |                        ^~~~~~~~~
      |                        ;
nnet-simple-component.cc:10733:3: error: 'preconditioner_out_' was not declared in this scope
10733 |   preconditioner_out_.Swap(&temp_out);
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10733:29: error: 'temp_out' was not declared in this scope
10733 |   preconditioner_out_.Swap(&temp_out);
      |                             ^~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10739:7: error: 'KLAdaptComponent' has not been declared
10739 | void* KLAdaptComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:10739:41: error: 'ComponentPrecomputedIndexes' does not name a type
10739 | void* KLAdaptComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |                                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10741:61: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
10741 |                               CuMatrixBase<BaseFloat> *out) const {
      |                                                             ^~~~~
nnet-simple-component.cc:10739:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
10739 | void* KLAdaptComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:10742:34: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
10742 |   out->CopyFromMat(in.ColRange(0,dim_)); // in = [ log p_sd, p_si ]
      |                                  ^~~~
      |                                  dim3
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10746:6: error: 'KLAdaptComponent' has not been declared
10746 | void KLAdaptComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:10747:36: error: 'ComponentPrecomputedIndexes' does not name a type
10747 |                              const ComponentPrecomputedIndexes *indexes,
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10752:30: error: 'Component' has not been declared
10752 |                              Component *to_update, // may be NULL; may be identical
      |                              ^~~~~~~~~
nnet-simple-component.cc:10754:65: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
10754 |                              CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                 ^~~~~
nnet-simple-component.cc:10746:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
10746 | void KLAdaptComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:10758:7: error: 'SI_scale_' was not declared in this scope
10758 |   if (SI_scale_ != 0.0) {
      |       ^~~~~~~~~
nnet-simple-component.cc:10760:54: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
10760 |  out_deriv_adapt.AddMat(SI_scale_, in_value.ColRange(dim_,dim_)); // p_adapt = (1-rho) p_lab + rho p_si
      |                                                      ^~~~
      |                                                      dim3
nnet-simple-component.cc:10764:25: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
10764 |   (in_deriv->ColRange(0,dim_)).CopyFromMat(out_deriv_adapt);
      |                         ^~~~
      |                         dim3
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10767:6: error: 'KLAdaptComponent' has not been declared
10767 | void KLAdaptComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:10767:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:10768:3: error: 'SI_scale_' was not declared in this scope
10768 |   SI_scale_ = 0.0;
      |   ^~~~~~~~~
nnet-simple-component.cc:10770:30: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
10770 |   if (!cfl->GetValue("dim", &dim_) ||
      |                              ^~~~
      |                              dim3
nnet-simple-component.cc:10773:18: error: 'Type' was not declared in this scope
10773 |               << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                  ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10777:13: error: 'KLAdaptComponent' has not been declared
10777 | std::string KLAdaptComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:10777:38: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
10777 | std::string KLAdaptComponent::Info() const {
      |                                      ^~~~~
nnet-simple-component.cc:10777:13: error: redefinition of 'std::string kaldi::Info()'
10777 | std::string KLAdaptComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:10779:13: error: 'Type' was not declared in this scope
10779 |   stream << Type() << ", dim=" << dim_;
      |             ^~~~
nnet-simple-component.cc:10779:35: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
10779 |   stream << Type() << ", dim=" << dim_;
      |                                   ^~~~
      |                                   dim3
nnet-simple-component.cc:10780:7: error: 'SI_scale_' was not declared in this scope
10780 |   if (SI_scale_ != 0.0)
      |       ^~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10785:6: error: 'KLAdaptComponent' has not been declared
10785 | void KLAdaptComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:10785:61: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
10785 | void KLAdaptComponent::Write(std::ostream &os, bool binary) const {
      |                                                             ^~~~~
nnet-simple-component.cc:10785:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
10785 | void KLAdaptComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:10788:30: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
10788 |   WriteBasicType(os, binary, dim_);
      |                              ^~~~
      |                              dim3
nnet-simple-component.cc:10790:30: error: 'SI_scale_' was not declared in this scope
10790 |   WriteBasicType(os, binary, SI_scale_);
      |                              ^~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10794:6: error: 'KLAdaptComponent' has not been declared
10794 | void KLAdaptComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:10794:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:10796:30: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
10796 |   ReadBasicType(is, binary, &dim_);
      |                              ^~~~
      |                              dim3
nnet-simple-component.cc:10801:5: error: 'SI_scale_' was not declared in this scope
10801 |     SI_scale_ = 0.0;
      |     ^~~~~~~~~
nnet-simple-component.cc:10835:32: error: 'SI_scale_' was not declared in this scope
10835 |     ReadBasicType(is, binary, &SI_scale_);
      |                                ^~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10844:1: error: 'GumbelSoftmax' does not name a type
10844 | GumbelSoftmax::GumbelSoftmax(const GumbelSoftmax &other):
      | ^~~~~~~~~~~~~
nnet-simple-component.cc:10853:1: error: 'Component' does not name a type
10853 | Component* GumbelSoftmax::Copy() const {
      | ^~~~~~~~~
nnet-simple-component.cc:10858:6: error: 'GumbelSoftmax' has not been declared
10858 | void GumbelSoftmax::Init(int32 dim, BaseFloat temperature,
      |      ^~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(int32, kaldi::BaseFloat, bool, int32, kaldi::BaseFloat, kaldi::BaseFloat)':
nnet-simple-component.cc:10860:3: error: 'temperature_' was not declared in this scope; did you mean 'temperature'?
10860 |   temperature_ = temperature;
      |   ^~~~~~~~~~~~
      |   temperature
nnet-simple-component.cc:10861:3: error: 'apply_log_' was not declared in this scope; did you mean 'apply_log'?
10861 |   apply_log_ = apply_log;
      |   ^~~~~~~~~~
      |   apply_log
nnet-simple-component.cc:10862:3: error: 'dim_' was not declared in this scope; did you mean 'dim'?
10862 |   dim_ = dim;
      |   ^~~~
      |   dim
nnet-simple-component.cc:10863:3: error: 'temperature_decrease_' was not declared in this scope; did you mean 'temperature_decrease'?
10863 |   temperature_decrease_ = temperature_decrease;
      |   ^~~~~~~~~~~~~~~~~~~~~
      |   temperature_decrease
nnet-simple-component.cc:10864:3: error: 'temperature_decrease_proportion_' was not declared in this scope; did you mean 'temperature_decrease_proportion'?
10864 |   temperature_decrease_proportion_ = temperature_decrease_proportion;
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |   temperature_decrease_proportion
nnet-simple-component.cc:10865:3: error: 'temperature_decrease_minus_' was not declared in this scope; did you mean 'temperature_decrease_minus'?
10865 |   temperature_decrease_minus_ = temperature_decrease_minus;
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
      |   temperature_decrease_minus
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10868:6: error: 'GumbelSoftmax' has not been declared
10868 | void GumbelSoftmax::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~
nnet-simple-component.cc:10868:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:10872:3: error: 'test_mode_' was not declared in this scope
10872 |   test_mode_ = false;
      |   ^~~~~~~~~~
nnet-simple-component.cc:10889:21: error: 'Type' was not declared in this scope
10889 |                  << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                     ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10893:13: error: 'GumbelSoftmax' has not been declared
10893 | std::string GumbelSoftmax::Info() const {
      |             ^~~~~~~~~~~~~
nnet-simple-component.cc:10893:35: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
10893 | std::string GumbelSoftmax::Info() const {
      |                                   ^~~~~
nnet-simple-component.cc:10893:13: error: redefinition of 'std::string kaldi::Info()'
10893 | std::string GumbelSoftmax::Info() const {
      |             ^~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:10895:13: error: 'Type' was not declared in this scope
10895 |   stream << Type() << ", dim=" << dim_
      |             ^~~~
nnet-simple-component.cc:10895:35: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
10895 |   stream << Type() << ", dim=" << dim_
      |                                   ^~~~
      |                                   dim3
nnet-simple-component.cc:10896:33: error: 'temperature_' was not declared in this scope
10896 |          << ", temperature=" << temperature_
      |                                 ^~~~~~~~~~~~
nnet-simple-component.cc:10897:32: error: 'apply_log_' was not declared in this scope
10897 |          << ", apply-log=" << (apply_log_ ? "true" : "false")
      |                                ^~~~~~~~~~
nnet-simple-component.cc:10898:36: error: 'temperature_decrease_' was not declared in this scope
10898 |    << ", temperature-decrease=" << temperature_decrease_
      |                                    ^~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10899:47: error: 'temperature_decrease_proportion_' was not declared in this scope
10899 |    << ", temperature-decrease-proportion=" << temperature_decrease_proportion_
      |                                               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10900:42: error: 'temperature_decrease_minus_' was not declared in this scope
10900 |    << ", temperature-decrease-minus=" << temperature_decrease_minus_;
      |                                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10904:7: error: 'GumbelSoftmax' has not been declared
10904 | void* GumbelSoftmax::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~
nnet-simple-component.cc:10904:38: error: 'ComponentPrecomputedIndexes' does not name a type
10904 | void* GumbelSoftmax::Propagate(const ComponentPrecomputedIndexes *indexes,
      |                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10906:64: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
10906 |                                  CuMatrixBase<BaseFloat> *out) const {
      |                                                                ^~~~~
nnet-simple-component.cc:10904:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
10904 | void* GumbelSoftmax::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:10908:35: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
10908 |                && in.NumCols() == dim_);
      |                                   ^~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:10916:16: error: 'temperature_' was not declared in this scope
10916 |   KALDI_ASSERT(temperature_ > 0.0);
      |                ^~~~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:10919:34: error: 'random_generator_' was not declared in this scope
10919 |   const_cast<CuRand<BaseFloat>&>(random_generator_).RandUniform(&G); // U ~ U(0,1)
      |                                  ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10928:7: error: 'apply_log_' was not declared in this scope
10928 |   if (apply_log_) {
      |       ^~~~~~~~~~
nnet-simple-component.cc:10934:19: error: 'temperature_' was not declared in this scope
10934 |   alpha.Scale(1.0/temperature_); // x = (log(alpha) + G)/T
      |                   ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10942:6: error: 'GumbelSoftmax' has not been declared
10942 | void GumbelSoftmax::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~
nnet-simple-component.cc:10943:39: error: 'ComponentPrecomputedIndexes' does not name a type
10943 |                                 const ComponentPrecomputedIndexes *indexes,
      |                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10948:33: error: 'Component' has not been declared
10948 |                                 Component *to_update,
      |                                 ^~~~~~~~~
nnet-simple-component.cc:10949:68: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
10949 |                                 CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                    ^~~~~
nnet-simple-component.cc:10942:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
10942 | void GumbelSoftmax::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:10958:25: error: 'temperature_' was not declared in this scope
10958 |   alpha_deriv.Scale(1.0/temperature_); // d Softmax(x)/dx * 1/T
      |                         ^~~~~~~~~~~~
nnet-simple-component.cc:10960:7: error: 'apply_log_' was not declared in this scope
10960 |   if (apply_log_) {
      |       ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:10972:6: error: 'GumbelSoftmax' has not been declared
10972 | void GumbelSoftmax::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~
nnet-simple-component.cc:10972:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:10979:30: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
10979 |   ReadBasicType(is, binary, &dim_);  // read dimension.
      |                              ^~~~
      |                              dim3
nnet-simple-component.cc:10982:30: error: 'temperature_' was not declared in this scope
10982 |   ReadBasicType(is, binary, &temperature_);  // read dropout rate
      |                              ^~~~~~~~~~~~
nnet-simple-component.cc:10984:30: error: 'temperature_decrease_' was not declared in this scope
10984 |   ReadBasicType(is, binary, &temperature_decrease_);
      |                              ^~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10986:30: error: 'temperature_decrease_proportion_' was not declared in this scope
10986 |   ReadBasicType(is, binary, &temperature_decrease_proportion_);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10988:30: error: 'temperature_decrease_minus_' was not declared in this scope
10988 |   ReadBasicType(is, binary, &temperature_decrease_minus_);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:10991:32: error: 'apply_log_' was not declared in this scope
10991 |     ReadBasicType(is, binary, &apply_log_);  // read dropout mode
      |                                ^~~~~~~~~~
nnet-simple-component.cc:10994:5: error: 'apply_log_' was not declared in this scope
10994 |     apply_log_ = false;
      |     ^~~~~~~~~~
nnet-simple-component.cc:10997:32: error: 'test_mode_' was not declared in this scope
10997 |     ReadBasicType(is, binary, &test_mode_);  // read test mode
      |                                ^~~~~~~~~~
nnet-simple-component.cc:11000:5: error: 'test_mode_' was not declared in this scope
11000 |     test_mode_ = false;
      |     ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11005:6: error: 'GumbelSoftmax' has not been declared
11005 | void GumbelSoftmax::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~
nnet-simple-component.cc:11005:58: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
11005 | void GumbelSoftmax::Write(std::ostream &os, bool binary) const {
      |                                                          ^~~~~
nnet-simple-component.cc:11005:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
11005 | void GumbelSoftmax::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:11008:30: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
11008 |   WriteBasicType(os, binary, dim_);
      |                              ^~~~
      |                              dim3
nnet-simple-component.cc:11010:30: error: 'temperature_' was not declared in this scope
11010 |   WriteBasicType(os, binary, temperature_);
      |                              ^~~~~~~~~~~~
nnet-simple-component.cc:11012:30: error: 'temperature_decrease_' was not declared in this scope
11012 |   WriteBasicType(os, binary, temperature_decrease_);
      |                              ^~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11014:30: error: 'temperature_decrease_proportion_' was not declared in this scope
11014 |   WriteBasicType(os, binary, temperature_decrease_proportion_);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11016:30: error: 'temperature_decrease_minus_' was not declared in this scope
11016 |   WriteBasicType(os, binary, temperature_decrease_minus_);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11018:30: error: 'apply_log_' was not declared in this scope
11018 |   WriteBasicType(os, binary, apply_log_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:11020:30: error: 'test_mode_' was not declared in this scope
11020 |   WriteBasicType(os, binary, test_mode_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11027:6: error: 'SoftmaxKLPriorComponent' has not been declared
11027 | void SoftmaxKLPriorComponent::Init(int32 input_dim, int32 output_dim, BaseFloat scale, bool input_frame_scale, bool inv_frame_scale)  {
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11027:6: error: redefinition of 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool)'
nnet-simple-component.cc:9111:6: note: 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool)' previously defined here
 9111 | void VecL2NormComponent::Init(int32 input_dim, int32 output_dim, BaseFloat scale, bool input_frame_scale, bool inv_frame_scale)  {
      |      ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(int32, int32, kaldi::BaseFloat, bool, bool)':
nnet-simple-component.cc:11028:3: error: 'input_dim_' was not declared in this scope; did you mean 'input_dim'?
11028 |   input_dim_ = input_dim;
      |   ^~~~~~~~~~
      |   input_dim
nnet-simple-component.cc:11029:3: error: 'output_dim_' was not declared in this scope; did you mean 'output_dim'?
11029 |   output_dim_ = output_dim;
      |   ^~~~~~~~~~~
      |   output_dim
nnet-simple-component.cc:11030:3: error: 'scale_' was not declared in this scope; did you mean 'scale'?
11030 |   scale_ = scale;
      |   ^~~~~~
      |   scale
nnet-simple-component.cc:11031:3: error: 'input_frame_scale_' was not declared in this scope; did you mean 'input_frame_scale'?
11031 |   input_frame_scale_ = input_frame_scale;
      |   ^~~~~~~~~~~~~~~~~~
      |   input_frame_scale
nnet-simple-component.cc:11032:3: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'inv_frame_scale'?
11032 |   inv_frame_scale_ = inv_frame_scale;
      |   ^~~~~~~~~~~~~~~~
      |   inv_frame_scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11041:6: error: 'SoftmaxKLPriorComponent' has not been declared
11041 | void SoftmaxKLPriorComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11041:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:11051:18: error: 'Type' was not declared in this scope
11051 |               << Type();
      |                  ^~~~
nnet-simple-component.cc:11057:18: error: 'Type' was not declared in this scope
11057 |               << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                  ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11061:7: error: 'SoftmaxKLPriorComponent' has not been declared
11061 | void* SoftmaxKLPriorComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11062:11: error: 'ComponentPrecomputedIndexes' does not name a type
11062 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11064:35: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
11064 |     CuMatrixBase<BaseFloat> *out) const {
      |                                   ^~~~~
nnet-simple-component.cc:11061:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
11061 | void* SoftmaxKLPriorComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:11068:36: error: 'output_dim_' was not declared in this scope
11068 |   out->SoftMaxPerRow(in.ColRange(0,output_dim_));
      |                                    ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11077:6: error: 'SoftmaxKLPriorComponent' has not been declared
11077 | void SoftmaxKLPriorComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11078:37: error: 'ComponentPrecomputedIndexes' does not name a type
11078 |                               const ComponentPrecomputedIndexes *indexes,
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11083:31: error: 'Component' has not been declared
11083 |                               Component *to_update,
      |                               ^~~~~~~~~
nnet-simple-component.cc:11084:66: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
11084 |                               CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:11077:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
11077 | void SoftmaxKLPriorComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:11099:25: error: 'output_dim_' was not declared in this scope
11099 |   (in_deriv->ColRange(0,output_dim_)).DiffSoftmaxPerRow(out_value, out_deriv);
      |                         ^~~~~~~~~~~
nnet-simple-component.cc:11101:7: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
11101 |   if (scale_ != 0) {
      |       ^~~~~~
      |       Scale
nnet-simple-component.cc:11122:8: error: 'input_frame_scale_' was not declared in this scope
11122 |    if (input_frame_scale_) {
      |        ^~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc:11123:18: error: 'input_dim_' was not declared in this scope
11123 |     KALDI_ASSERT(input_dim_ == 2*output_dim_+1);
      |                  ^~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:11126:9: error: 'inv_frame_scale_' was not declared in this scope; did you mean 'frame_scale'?
11126 |     if (inv_frame_scale_) {
      |         ^~~~~~~~~~~~~~~~
      |         frame_scale
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11138:6: error: 'SoftmaxKLPriorComponent' has not been declared
11138 | void SoftmaxKLPriorComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11138:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:11141:30: error: 'input_dim_' was not declared in this scope
11141 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:11143:30: error: 'output_dim_' was not declared in this scope
11143 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:11145:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
11145 |   ReadBasicType(is, binary, &scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc:11147:30: error: 'input_frame_scale_' was not declared in this scope
11147 |   ReadBasicType(is, binary, &input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11149:30: error: 'inv_frame_scale_' was not declared in this scope
11149 |   ReadBasicType(is, binary, &inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11153:6: error: 'SoftmaxKLPriorComponent' has not been declared
11153 | void SoftmaxKLPriorComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11153:68: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
11153 | void SoftmaxKLPriorComponent::Write(std::ostream &os, bool binary) const {
      |                                                                    ^~~~~
nnet-simple-component.cc:11153:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
11153 | void SoftmaxKLPriorComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:11156:30: error: 'input_dim_' was not declared in this scope
11156 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:11158:30: error: 'output_dim_' was not declared in this scope
11158 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:11160:30: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
11160 |   WriteBasicType(os, binary, scale_);
      |                              ^~~~~~
      |                              Scale
nnet-simple-component.cc:11162:30: error: 'input_frame_scale_' was not declared in this scope
11162 |   WriteBasicType(os, binary, input_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11164:30: error: 'inv_frame_scale_' was not declared in this scope
11164 |   WriteBasicType(os, binary, inv_frame_scale_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11168:13: error: 'SoftmaxKLPriorComponent' has not been declared
11168 | std::string SoftmaxKLPriorComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11168:45: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
11168 | std::string SoftmaxKLPriorComponent::Info() const {
      |                                             ^~~~~
nnet-simple-component.cc:11168:13: error: redefinition of 'std::string kaldi::Info()'
11168 | std::string SoftmaxKLPriorComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:11170:13: error: 'Type' was not declared in this scope
11170 |   stream << Type() << ", input-dim=" << input_dim_
      |             ^~~~
nnet-simple-component.cc:11170:41: error: 'input_dim_' was not declared in this scope
11170 |   stream << Type() << ", input-dim=" << input_dim_
      |                                         ^~~~~~~~~~
nnet-simple-component.cc:11171:32: error: 'output_dim_' was not declared in this scope
11171 |          << ", output-dim=" << output_dim_
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:11172:27: error: 'scale_' was not declared in this scope; did you mean 'Scale'?
11172 |          << ", scale=" << scale_
      |                           ^~~~~~
      |                           Scale
nnet-simple-component.cc:11173:32: error: 'input_frame_scale_' was not declared in this scope
11173 |  << ", input-frame-scale=" << (input_frame_scale_ ? "true" : "false")
      |                                ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11174:30: error: 'inv_frame_scale_' was not declared in this scope
11174 |  << ", inv-frame-scale=" << (inv_frame_scale_ ? "true" : "false");
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11180:6: error: 'PriorSelectKLGaussianComponent' has not been declared
11180 | void PriorSelectKLGaussianComponent::Scale(BaseFloat scale) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11180:6: error: redefinition of 'void kaldi::Scale(kaldi::BaseFloat)'
nnet-simple-component.cc:7731:6: note: 'void kaldi::Scale(kaldi::BaseFloat)' previously defined here
 7731 | void BayesAffineComponent::Scale(BaseFloat scale) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Scale(kaldi::BaseFloat)':
nnet-simple-component.cc:11183:5: error: 'linear_params_' was not declared in this scope
11183 |     linear_params_.SetZero();
      |     ^~~~~~~~~~~~~~
nnet-simple-component.cc:11184:5: error: 'bias_params_' was not declared in this scope
11184 |     bias_params_.SetZero();
      |     ^~~~~~~~~~~~
nnet-simple-component.cc:11186:5: error: 'linear_params_' was not declared in this scope
11186 |     linear_params_.Scale(scale);
      |     ^~~~~~~~~~~~~~
nnet-simple-component.cc:11187:5: error: 'bias_params_' was not declared in this scope
11187 |     bias_params_.Scale(scale);
      |     ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11191:6: error: 'PriorSelectKLGaussianComponent' has not been declared
11191 | void PriorSelectKLGaussianComponent::Resize(int32 input_dim, int32 output_dim) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11191:6: error: redefinition of 'void kaldi::Resize(int32, int32)'
nnet-simple-component.cc:7748:6: note: 'void kaldi::Resize(int32, int32)' previously defined here
 7748 | void BayesAffineComponent::Resize(int32 input_dim, int32 output_dim) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Resize(int32, int32)':
nnet-simple-component.cc:11193:3: error: 'bias_params_' was not declared in this scope
11193 |   bias_params_.Resize(output_dim);
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:11194:3: error: 'linear_params_' was not declared in this scope
11194 |   linear_params_.Resize(output_dim, input_dim);
      |   ^~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11197:6: error: 'PriorSelectKLGaussianComponent' has not been declared
11197 | void PriorSelectKLGaussianComponent::Add(BaseFloat alpha, const Component &other_in) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11197:65: error: 'Component' does not name a type
11197 | void PriorSelectKLGaussianComponent::Add(BaseFloat alpha, const Component &other_in) {
      |                                                                 ^~~~~~~~~
nnet-simple-component.cc:11197:6: error: redefinition of 'void kaldi::Add(kaldi::BaseFloat, const int&)'
11197 | void PriorSelectKLGaussianComponent::Add(BaseFloat alpha, const Component &other_in) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7768:6: note: 'void kaldi::Add(kaldi::BaseFloat, const int&)' previously defined here
 7768 | void BayesAffineComponent::Add(BaseFloat alpha, const Component &other_in) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Add(kaldi::BaseFloat, const int&)':
nnet-simple-component.cc:11198:9: error: 'PriorSelectKLGaussianComponent' does not name a type
11198 |   const PriorSelectKLGaussianComponent *other =
      |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc:11200:16: error: 'other' was not declared in this scope; did you mean 'other_in'?
11200 |   KALDI_ASSERT(other != NULL);
      |                ^~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:11201:3: error: 'linear_params_' was not declared in this scope
11201 |   linear_params_.AddMat(alpha, other->linear_params_);
      |   ^~~~~~~~~~~~~~
nnet-simple-component.cc:11201:32: error: 'other' was not declared in this scope; did you mean 'other_in'?
11201 |   linear_params_.AddMat(alpha, other->linear_params_);
      |                                ^~~~~
      |                                other_in
nnet-simple-component.cc:11202:3: error: 'bias_params_' was not declared in this scope
11202 |   bias_params_.AddVec(alpha, other->bias_params_);
      |   ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11205:1: error: 'PriorSelectKLGaussianComponent' does not name a type
11205 | PriorSelectKLGaussianComponent::PriorSelectKLGaussianComponent(const PriorSelectKLGaussianComponent &component):
      | ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11216:1: error: 'PriorSelectKLGaussianComponent' does not name a type
11216 | PriorSelectKLGaussianComponent::PriorSelectKLGaussianComponent(const CuMatrixBase<BaseFloat> &linear_params,
      | ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11232:6: error: 'PriorSelectKLGaussianComponent' has not been declared
11232 | void PriorSelectKLGaussianComponent::SetParams(const CuVectorBase<BaseFloat> &bias,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::SetParams(const kaldi::CuVectorBase<float>&, const kaldi::CuMatrixBase<float>&)':
nnet-simple-component.cc:11234:3: error: 'bias_params_' was not declared in this scope
11234 |   bias_params_ = bias;
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:11235:3: error: 'linear_params_' was not declared in this scope
11235 |   linear_params_ = linear;
      |   ^~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11239:6: error: 'PriorSelectKLGaussianComponent' has not been declared
11239 | void PriorSelectKLGaussianComponent::PerturbParams(BaseFloat stddev) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11239:6: error: redefinition of 'void kaldi::PerturbParams(kaldi::BaseFloat)'
nnet-simple-component.cc:7839:6: note: 'void kaldi::PerturbParams(kaldi::BaseFloat)' previously defined here
 7839 | void BayesAffineComponent::PerturbParams(BaseFloat stddev) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::PerturbParams(kaldi::BaseFloat)':
nnet-simple-component.cc:11240:42: error: 'linear_params_' was not declared in this scope; did you mean 'temp_linear_params'?
11240 |   CuMatrix<BaseFloat> temp_linear_params(linear_params_);
      |                                          ^~~~~~~~~~~~~~
      |                                          temp_linear_params
nnet-simple-component.cc:11244:40: error: 'bias_params_' was not declared in this scope; did you mean 'temp_bias_params'?
11244 |   CuVector<BaseFloat> temp_bias_params(bias_params_);
      |                                        ^~~~~~~~~~~~
      |                                        temp_bias_params
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11249:13: error: 'PriorSelectKLGaussianComponent' has not been declared
11249 | std::string PriorSelectKLGaussianComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11249:52: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
11249 | std::string PriorSelectKLGaussianComponent::Info() const {
      |                                                    ^~~~~
nnet-simple-component.cc:11249:13: error: redefinition of 'std::string kaldi::Info()'
11249 | std::string PriorSelectKLGaussianComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:11251:13: error: 'UpdatableComponent' has not been declared
11251 |   stream << UpdatableComponent::Info();
      |             ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11252:7: error: 'orthonormal_constraint_' was not declared in this scope
11252 |   if (orthonormal_constraint_ != 0.0)
      |       ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11254:19: error: 'linear_params_' was not declared in this scope
11254 |   int32 mix_dim = linear_params_.NumCols()/2;
      |                   ^~~~~~~~~~~~~~
nnet-simple-component.cc:11255:29: error: 'mix_num_' was not declared in this scope
11255 |   stream << ", mix-num=" << mix_num_
      |                             ^~~~~~~~
nnet-simple-component.cc:11256:31: error: 'input_mix_num_' was not declared in this scope
11256 |      << ", input-mix-num=" << input_mix_num_
      |                               ^~~~~~~~~~~~~~
nnet-simple-component.cc:11257:31: error: 'output_weight_' was not declared in this scope
11257 |      << ", output-weight=" << output_weight_
      |                               ^~~~~~~~~~~~~~
nnet-simple-component.cc:11258:27: error: 'input_dim_' was not declared in this scope
11258 |      << ", input-dim=" << input_dim_
      |                           ^~~~~~~~~~
nnet-simple-component.cc:11263:3: error: 'PrintParameterStats' was not declared in this scope; did you mean 'kaldi::nnet3::PrintParameterStats'?
11263 |   PrintParameterStats(stream, "mean-params", temp,
      |   ^~~~~~~~~~~~~~~~~~~
      |   kaldi::nnet3::PrintParameterStats
In file included from ../nnet3/nnet-component-itf.h:27,
                 from ../nnet3/nnet-simple-component.h:30,
                 from nnet-simple-component.cc:28:
../nnet3/nnet-parse.h:112:6: note: 'kaldi::nnet3::PrintParameterStats' declared here
  112 | void PrintParameterStats(std::ostringstream &os,
      |      ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11274:39: error: 'bias_params_' was not declared in this scope
11274 |   PrintParameterStats(stream, "bias", bias_params_, true);
      |                                       ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11278:1: error: 'Component' does not name a type
11278 | Component* PriorSelectKLGaussianComponent::Copy() const {
      | ^~~~~~~~~
nnet-simple-component.cc:11283:11: error: 'PriorSelectKLGaussianComponent' has not been declared
11283 | BaseFloat PriorSelectKLGaussianComponent::DotProduct(const UpdatableComponent &other_in) const {
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11283:60: error: 'UpdatableComponent' does not name a type
11283 | BaseFloat PriorSelectKLGaussianComponent::DotProduct(const UpdatableComponent &other_in) const {
      |                                                            ^~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11283:90: error: non-member function 'kaldi::BaseFloat kaldi::DotProduct(const int&)' cannot have cv-qualifier
11283 | BaseFloat PriorSelectKLGaussianComponent::DotProduct(const UpdatableComponent &other_in) const {
      |                                                                                          ^~~~~
nnet-simple-component.cc:11283:11: error: redefinition of 'kaldi::BaseFloat kaldi::DotProduct(const int&)'
11283 | BaseFloat PriorSelectKLGaussianComponent::DotProduct(const UpdatableComponent &other_in) const {
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:7891:11: note: 'kaldi::BaseFloat kaldi::DotProduct(const int&)' previously defined here
 7891 | BaseFloat BayesAffineComponent::DotProduct(const UpdatableComponent &other_in) const {
      |           ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'kaldi::BaseFloat kaldi::DotProduct(const int&)':
nnet-simple-component.cc:11284:9: error: 'PriorSelectKLGaussianComponent' does not name a type
11284 |   const PriorSelectKLGaussianComponent *other =
      |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11286:22: error: 'linear_params_' was not declared in this scope
11286 |   return TraceMatMat(linear_params_, other->linear_params_, kTrans)
      |                      ^~~~~~~~~~~~~~
nnet-simple-component.cc:11286:38: error: 'other' was not declared in this scope; did you mean 'other_in'?
11286 |   return TraceMatMat(linear_params_, other->linear_params_, kTrans)
      |                                      ^~~~~
      |                                      other_in
nnet-simple-component.cc:11287:16: error: 'bias_params_' was not declared in this scope
11287 |       + VecVec(bias_params_, other->bias_params_);
      |                ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11290:6: error: 'PriorSelectKLGaussianComponent' has not been declared
11290 | void PriorSelectKLGaussianComponent::Init(int32 mix_dim, int32 mix_num_,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(int32, int32, kaldi::BaseFloat, kaldi::BaseFloat, kaldi::BaseFloat, kaldi::BaseFloat)':
nnet-simple-component.cc:11292:3: error: 'linear_params_' was not declared in this scope
11292 |   linear_params_.Resize(mix_num_, 2*mix_dim);
      |   ^~~~~~~~~~~~~~
nnet-simple-component.cc:11293:3: error: 'bias_params_' was not declared in this scope
11293 |   bias_params_.Resize(mix_num_);
      |   ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11303:6: error: 'PriorSelectKLGaussianComponent' has not been declared
11303 | void PriorSelectKLGaussianComponent::Init(std::string matrix_filename) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11303:6: error: redefinition of 'void kaldi::Init(std::string)'
nnet-simple-component.cc:7935:6: note: 'void kaldi::Init(std::string)' previously defined here
 7935 | void BayesAffineComponent::Init(std::string matrix_filename) {
      |      ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(std::string)':
nnet-simple-component.cc:11308:3: error: 'linear_params_' was not declared in this scope
11308 |   linear_params_.Resize(output_dim, input_dim);
      |   ^~~~~~~~~~~~~~
nnet-simple-component.cc:11309:3: error: 'bias_params_' was not declared in this scope
11309 |   bias_params_.Resize(output_dim);
      |   ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11314:6: error: 'PriorSelectKLGaussianComponent' has not been declared
11314 | void PriorSelectKLGaussianComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11314:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:11317:3: error: 'input_dim_' was not declared in this scope
11317 |   input_dim_ = -1, output_dim_ = -1;
      |   ^~~~~~~~~~
nnet-simple-component.cc:11317:20: error: 'output_dim_' was not declared in this scope
11317 |   input_dim_ = -1, output_dim_ = -1;
      |                    ^~~~~~~~~~~
nnet-simple-component.cc:11320:3: error: 'InitLearningRatesFromConfig' was not declared in this scope
11320 |   InitLearningRatesFromConfig(cfl);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11321:40: error: 'mix_num_' was not declared in this scope
11321 |   ok = ok && cfl->GetValue("mix-num", &mix_num_);
      |                                        ^~~~~~~~
nnet-simple-component.cc:11322:46: error: 'input_mix_num_' was not declared in this scope
11322 |   ok = ok && cfl->GetValue("input-mix-num", &input_mix_num_);
      |                                              ^~~~~~~~~~~~~~
nnet-simple-component.cc:11323:46: error: 'output_weight_' was not declared in this scope
11323 |   ok = ok && cfl->GetValue("output-weight", &output_weight_);
      |                                              ^~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc:11336:18: error: 'linear_params_' was not declared in this scope
11336 |     KALDI_ASSERT(linear_params_.NumCols()/2 == mix_dim &&
      |                  ^~~~~~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:11338:18: error: 'linear_params_' was not declared in this scope
11338 |     KALDI_ASSERT(linear_params_.NumRows() == mix_num_ &&
      |                  ^~~~~~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:11346:30: error: 'mean_init' was not declared in this scope
11346 |  cfl->GetValue("mean-init", &mean_init);
      |                              ^~~~~~~~~
nnet-simple-component.cc:11347:29: error: 'std_init' was not declared in this scope; did you mean 'stdin'?
11347 |  cfl->GetValue("std-init", &std_init);
      |                             ^~~~~~~~
      |                             stdin
nnet-simple-component.cc:11348:35: error: 'bias_stddev' was not declared in this scope; did you mean 'param_stddev'?
11348 |     cfl->GetValue("bias-stddev", &bias_stddev);
      |                                   ^~~~~~~~~~~
      |                                   param_stddev
nnet-simple-component.cc:11352:44: error: 'orthonormal_constraint_' was not declared in this scope
11352 |   cfl->GetValue("orthonormal-constraint", &orthonormal_constraint_);
      |                                            ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11364:7: error: 'PriorSelectKLGaussianComponent' has not been declared
11364 | void* PriorSelectKLGaussianComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11364:55: error: 'ComponentPrecomputedIndexes' does not name a type
11364 | void* PriorSelectKLGaussianComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |                                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11366:64: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
11366 |                                  CuMatrixBase<BaseFloat> *out) const {
      |                                                                ^~~~~
nnet-simple-component.cc:11364:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
11364 | void* PriorSelectKLGaussianComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:11368:3: error: 'Memo' was not declared in this scope
11368 |   Memo *memo = new Memo;
      |   ^~~~
nnet-simple-component.cc:11368:9: error: 'memo' was not declared in this scope
11368 |   Memo *memo = new Memo;
      |         ^~~~
nnet-simple-component.cc:11368:20: error: 'Memo' does not name a type
11368 |   Memo *memo = new Memo;
      |                    ^~~~
nnet-simple-component.cc:11369:19: error: 'linear_params_' was not declared in this scope
11369 |   int32 mix_dim = linear_params_.NumCols()/2;
      |                   ^~~~~~~~~~~~~~
nnet-simple-component.cc:11370:25: error: 'input_dim_' was not declared in this scope; did you mean 'input_mix_dim'?
11370 |   int32 input_mix_dim = input_dim_/input_mix_num_;
      |                         ^~~~~~~~~~
      |                         input_mix_dim
nnet-simple-component.cc:11370:36: error: 'input_mix_num_' was not declared in this scope; did you mean 'input_mix_dim'?
11370 |   int32 input_mix_dim = input_dim_/input_mix_num_;
      |                                    ^~~~~~~~~~~~~~
      |                                    input_mix_dim
nnet-simple-component.cc:11371:26: error: 'output_dim_' was not declared in this scope; did you mean 'output_mix_dim'?
11371 |   int32 output_mix_dim = output_dim_/input_mix_num_;
      |                          ^~~~~~~~~~~
      |                          output_mix_dim
nnet-simple-component.cc:11373:34: error: 'mix_num_' was not declared in this scope
11373 |   CuMatrix<BaseFloat> prior_mean(mix_num_,mix_dim);
      |                                  ^~~~~~~~
nnet-simple-component.cc:11397:30: error: 'bias_params_' was not declared in this scope
11397 |   log_mix_weight.CopyFromVec(bias_params_);
      |                              ^~~~~~~~~~~~
nnet-simple-component.cc:11454:8: error: 'output_weight_' was not declared in this scope
11454 |    if (output_weight_) {
      |        ^~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11463:6: error: 'PriorSelectKLGaussianComponent' has not been declared
11463 | void PriorSelectKLGaussianComponent::UpdateSimple(const CuMatrixBase<BaseFloat> &select_id,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::UpdateSimple(const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&)':
nnet-simple-component.cc:11466:19: error: 'linear_params_' was not declared in this scope
11466 |   int32 mix_dim = linear_params_.NumCols()/2;
      |                   ^~~~~~~~~~~~~~
nnet-simple-component.cc:11467:26: error: 'output_dim_' was not declared in this scope; did you mean 'output_mix_dim'?
11467 |   int32 output_mix_dim = output_dim_/input_mix_num_;
      |                          ^~~~~~~~~~~
      |                          output_mix_dim
nnet-simple-component.cc:11467:38: error: 'input_mix_num_' was not declared in this scope
11467 |   int32 output_mix_dim = output_dim_/input_mix_num_;
      |                                      ^~~~~~~~~~~~~~
nnet-simple-component.cc:11468:32: error: 'mix_num_' was not declared in this scope
11468 |   CuMatrix<BaseFloat> gradient(mix_num_, output_mix_dim);
      |                                ^~~~~~~~
nnet-simple-component.cc:11475:25: error: 'learning_rate_' was not declared in this scope
11475 |   linear_params_.AddMat(learning_rate_, gradient.ColRange(0, 2*mix_dim));
      |                         ^~~~~~~~~~~~~~
nnet-simple-component.cc:11476:7: error: 'output_weight_' was not declared in this scope
11476 |   if (output_weight_) {
      |       ^~~~~~~~~~~~~~
nnet-simple-component.cc:11477:4: error: 'bias_params_' was not declared in this scope
11477 |    bias_params_.AddColSumMat(learning_rate_, gradient.ColRange(2*mix_dim, 1), 1.0);
      |    ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11481:6: error: 'PriorSelectKLGaussianComponent' has not been declared
11481 | void PriorSelectKLGaussianComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11482:38: error: 'ComponentPrecomputedIndexes' does not name a type
11482 |                                const ComponentPrecomputedIndexes *indexes,
      |                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11487:32: error: 'Component' has not been declared
11487 |                                Component *to_update_in,
      |                                ^~~~~~~~~
nnet-simple-component.cc:11488:67: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
11488 |                                CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                   ^~~~~
nnet-simple-component.cc:11481:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
11481 | void PriorSelectKLGaussianComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:11489:3: error: 'PriorSelectKLGaussianComponent' was not declared in this scope; did you mean 'kaldi::nnet3::PriorSelectKLGaussianComponent'?
11489 |   PriorSelectKLGaussianComponent *to_update = dynamic_cast<PriorSelectKLGaussianComponent*>(to_update_in);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |   kaldi::nnet3::PriorSelectKLGaussianComponent
In file included from nnet-simple-component.cc:28:
../nnet3/nnet-simple-component.h:3933:7: note: 'kaldi::nnet3::PriorSelectKLGaussianComponent' declared here
 3933 | class PriorSelectKLGaussianComponent: public UpdatableComponent {
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11489:35: error: 'to_update' was not declared in this scope; did you mean 'to_update_in'?
11489 |   PriorSelectKLGaussianComponent *to_update = dynamic_cast<PriorSelectKLGaussianComponent*>(to_update_in);
      |                                   ^~~~~~~~~
      |                                   to_update_in
nnet-simple-component.cc:11489:60: error: 'PriorSelectKLGaussianComponent' does not name a type
11489 |   PriorSelectKLGaussianComponent *to_update = dynamic_cast<PriorSelectKLGaussianComponent*>(to_update_in);
      |                                                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11489:90: error: expected '>' before '*' token
11489 |   PriorSelectKLGaussianComponent *to_update = dynamic_cast<PriorSelectKLGaussianComponent*>(to_update_in);
      |                                                                                          ^
nnet-simple-component.cc:11489:90: error: expected '(' before '*' token
11489 |   PriorSelectKLGaussianComponent *to_update = dynamic_cast<PriorSelectKLGaussianComponent*>(to_update_in);
      |                                                                                          ^
      |                                                                                          (
nnet-simple-component.cc:11489:91: error: expected primary-expression before '>' token
11489 |   PriorSelectKLGaussianComponent *to_update = dynamic_cast<PriorSelectKLGaussianComponent*>(to_update_in);
      |                                                                                           ^
nnet-simple-component.cc:11489:106: error: expected ')' before ';' token
11489 |   PriorSelectKLGaussianComponent *to_update = dynamic_cast<PriorSelectKLGaussianComponent*>(to_update_in);
      |                                                                                                          ^
      |                                                                                                          )
nnet-simple-component.cc:11496:3: error: 'Memo' was not declared in this scope; did you mean 'memo'?
11496 |   Memo *memo_in = static_cast<Memo*>(memo);
      |   ^~~~
      |   memo
nnet-simple-component.cc:11496:9: error: 'memo_in' was not declared in this scope; did you mean 'memo'?
11496 |   Memo *memo_in = static_cast<Memo*>(memo);
      |         ^~~~~~~
      |         memo
nnet-simple-component.cc:11496:31: error: 'Memo' does not name a type; did you mean 'memo'?
11496 |   Memo *memo_in = static_cast<Memo*>(memo);
      |                               ^~~~
      |                               memo
nnet-simple-component.cc:11496:35: error: expected '>' before '*' token
11496 |   Memo *memo_in = static_cast<Memo*>(memo);
      |                                   ^
nnet-simple-component.cc:11496:35: error: expected '(' before '*' token
11496 |   Memo *memo_in = static_cast<Memo*>(memo);
      |                                   ^
      |                                   (
nnet-simple-component.cc:11496:36: error: expected primary-expression before '>' token
11496 |   Memo *memo_in = static_cast<Memo*>(memo);
      |                                    ^
nnet-simple-component.cc:11496:43: error: expected ')' before ';' token
11496 |   Memo *memo_in = static_cast<Memo*>(memo);
      |                                           ^
      |                                           )
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11511:6: error: 'PriorSelectKLGaussianComponent' has not been declared
11511 | void PriorSelectKLGaussianComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11511:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:11512:3: error: 'ReadUpdatableCommon' was not declared in this scope
11512 |   ReadUpdatableCommon(is, binary);  // read opening tag and learning rate.
      |   ^~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11514:30: error: 'mix_num_' was not declared in this scope
11514 |   ReadBasicType(is, binary, &mix_num_);
      |                              ^~~~~~~~
nnet-simple-component.cc:11516:30: error: 'input_mix_num_' was not declared in this scope
11516 |   ReadBasicType(is, binary, &input_mix_num_);
      |                              ^~~~~~~~~~~~~~
nnet-simple-component.cc:11518:30: error: 'output_weight_' was not declared in this scope
11518 |   ReadBasicType(is, binary, &output_weight_);
      |                              ^~~~~~~~~~~~~~
nnet-simple-component.cc:11520:30: error: 'input_dim_' was not declared in this scope
11520 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:11522:30: error: 'output_dim_' was not declared in this scope
11522 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:11524:3: error: 'linear_params_' was not declared in this scope
11524 |   linear_params_.Read(is, binary);
      |   ^~~~~~~~~~~~~~
nnet-simple-component.cc:11526:3: error: 'bias_params_' was not declared in this scope
11526 |   bias_params_.Read(is, binary);
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:11531:32: error: 'is_gradient_' was not declared in this scope
11531 |     ReadBasicType(is, binary, &is_gradient_);
      |                                ^~~~~~~~~~~~
nnet-simple-component.cc:11535:32: error: 'orthonormal_constraint_' was not declared in this scope
11535 |     ReadBasicType(is, binary, &orthonormal_constraint_);
      |                                ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11537:5: error: 'orthonormal_constraint_' was not declared in this scope
11537 |     orthonormal_constraint_ = 0.0;
      |     ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11542:6: error: 'PriorSelectKLGaussianComponent' has not been declared
11542 | void PriorSelectKLGaussianComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11542:75: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
11542 | void PriorSelectKLGaussianComponent::Write(std::ostream &os, bool binary) const {
      |                                                                           ^~~~~
nnet-simple-component.cc:11542:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
11542 | void PriorSelectKLGaussianComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:11543:3: error: 'WriteUpdatableCommon' was not declared in this scope
11543 |   WriteUpdatableCommon(os, binary);  // Write opening tag and learning rate
      |   ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11545:30: error: 'mix_num_' was not declared in this scope
11545 |   WriteBasicType(os, binary, mix_num_);
      |                              ^~~~~~~~
nnet-simple-component.cc:11547:30: error: 'input_mix_num_' was not declared in this scope
11547 |   WriteBasicType(os, binary, input_mix_num_);
      |                              ^~~~~~~~~~~~~~
nnet-simple-component.cc:11549:30: error: 'output_weight_' was not declared in this scope
11549 |   WriteBasicType(os, binary, output_weight_);
      |                              ^~~~~~~~~~~~~~
nnet-simple-component.cc:11551:30: error: 'input_dim_' was not declared in this scope
11551 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:11553:30: error: 'output_dim_' was not declared in this scope
11553 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:11555:3: error: 'linear_params_' was not declared in this scope
11555 |   linear_params_.Write(os, binary);
      |   ^~~~~~~~~~~~~~
nnet-simple-component.cc:11557:3: error: 'bias_params_' was not declared in this scope
11557 |   bias_params_.Write(os, binary);
      |   ^~~~~~~~~~~~
nnet-simple-component.cc:11558:7: error: 'orthonormal_constraint_' was not declared in this scope
11558 |   if (orthonormal_constraint_ != 0.0) {
      |       ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11565:7: error: 'PriorSelectKLGaussianComponent' has not been declared
11565 | int32 PriorSelectKLGaussianComponent::NumParameters() const {
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11565:55: error: non-member function 'int32 kaldi::NumParameters()' cannot have cv-qualifier
11565 | int32 PriorSelectKLGaussianComponent::NumParameters() const {
      |                                                       ^~~~~
nnet-simple-component.cc:11565:7: error: redefinition of 'int32 kaldi::NumParameters()'
11565 | int32 PriorSelectKLGaussianComponent::NumParameters() const {
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8281:7: note: 'int32 kaldi::NumParameters()' previously defined here
 8281 | int32 BayesAffineComponent::NumParameters() const {
      |       ^~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'int32 kaldi::NumParameters()':
nnet-simple-component.cc:11566:11: error: 'InputDim' was not declared in this scope; did you mean 'Input'?
11566 |   return (InputDim() + 1) * OutputDim();
      |           ^~~~~~~~
      |           Input
nnet-simple-component.cc:11566:29: error: 'OutputDim' was not declared in this scope; did you mean 'Output'?
11566 |   return (InputDim() + 1) * OutputDim();
      |                             ^~~~~~~~~
      |                             Output
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11568:6: error: 'PriorSelectKLGaussianComponent' has not been declared
11568 | void PriorSelectKLGaussianComponent::Vectorize(VectorBase<BaseFloat> *params) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11568:79: error: non-member function 'void kaldi::Vectorize(kaldi::VectorBase<float>*)' cannot have cv-qualifier
11568 | void PriorSelectKLGaussianComponent::Vectorize(VectorBase<BaseFloat> *params) const {
      |                                                                               ^~~~~
nnet-simple-component.cc:11568:6: error: redefinition of 'void kaldi::Vectorize(kaldi::VectorBase<float>*)'
11568 | void PriorSelectKLGaussianComponent::Vectorize(VectorBase<BaseFloat> *params) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:8285:6: note: 'void kaldi::Vectorize(kaldi::VectorBase<float>*)' previously defined here
 8285 | void BayesAffineComponent::Vectorize(VectorBase<BaseFloat> *params) const {
      |      ^~~~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void kaldi::Vectorize(kaldi::VectorBase<float>*)':
nnet-simple-component.cc:11569:33: error: invalid use of 'this' in non-member function
11569 |   KALDI_ASSERT(params->Dim() == this->NumParameters());
      |                                 ^~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:11570:20: error: 'InputDim' was not declared in this scope; did you mean 'Input'?
11570 |   params->Range(0, InputDim() * OutputDim()).CopyRowsFromMat(linear_params_);
      |                    ^~~~~~~~
      |                    Input
nnet-simple-component.cc:11570:33: error: 'OutputDim' was not declared in this scope; did you mean 'Output'?
11570 |   params->Range(0, InputDim() * OutputDim()).CopyRowsFromMat(linear_params_);
      |                                 ^~~~~~~~~
      |                                 Output
nnet-simple-component.cc:11570:62: error: 'linear_params_' was not declared in this scope
11570 |   params->Range(0, InputDim() * OutputDim()).CopyRowsFromMat(linear_params_);
      |                                                              ^~~~~~~~~~~~~~
nnet-simple-component.cc:11572:42: error: 'bias_params_' was not declared in this scope
11572 |                 OutputDim()).CopyFromVec(bias_params_);
      |                                          ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11574:6: error: 'PriorSelectKLGaussianComponent' has not been declared
11574 | void PriorSelectKLGaussianComponent::UnVectorize(const VectorBase<BaseFloat> &params) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11574:6: error: redefinition of 'void kaldi::UnVectorize(const kaldi::VectorBase<float>&)'
nnet-simple-component.cc:8301:6: note: 'void kaldi::UnVectorize(const kaldi::VectorBase<float>&)' previously defined here
 8301 | void BayesAffineComponent::UnVectorize(const VectorBase<BaseFloat> &params) {
      |      ^~~~~~~~~~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void kaldi::UnVectorize(const kaldi::VectorBase<float>&)':
nnet-simple-component.cc:11575:32: error: invalid use of 'this' in non-member function
11575 |   KALDI_ASSERT(params.Dim() == this->NumParameters());
      |                                ^~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:11576:3: error: 'linear_params_' was not declared in this scope
11576 |   linear_params_.CopyRowsFromVec(params.Range(0, InputDim() * OutputDim()));
      |   ^~~~~~~~~~~~~~
nnet-simple-component.cc:11576:50: error: 'InputDim' was not declared in this scope; did you mean 'Input'?
11576 |   linear_params_.CopyRowsFromVec(params.Range(0, InputDim() * OutputDim()));
      |                                                  ^~~~~~~~
      |                                                  Input
nnet-simple-component.cc:11576:63: error: 'OutputDim' was not declared in this scope; did you mean 'Output'?
11576 |   linear_params_.CopyRowsFromVec(params.Range(0, InputDim() * OutputDim()));
      |                                                               ^~~~~~~~~
      |                                                               Output
nnet-simple-component.cc:11577:3: error: 'bias_params_' was not declared in this scope
11577 |   bias_params_.CopyFromVec(params.Range(InputDim() * OutputDim(),
      |   ^~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11585:7: error: 'InvertComponent' has not been declared
11585 | void* InvertComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~
nnet-simple-component.cc:11585:40: error: 'ComponentPrecomputedIndexes' does not name a type
11585 | void* InvertComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |                                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11587:64: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
11587 |                                  CuMatrixBase<BaseFloat> *out) const {
      |                                                                ^~~~~
nnet-simple-component.cc:11585:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
11585 | void* InvertComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc:11594:6: error: 'InvertComponent' has not been declared
11594 | void InvertComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~
nnet-simple-component.cc:11595:39: error: 'ComponentPrecomputedIndexes' does not name a type
11595 |                                 const ComponentPrecomputedIndexes *indexes,
      |                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11600:33: error: 'Component' has not been declared
11600 |                                 Component *to_update_in,
      |                                 ^~~~~~~~~
nnet-simple-component.cc:11601:68: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
11601 |                                 CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                    ^~~~~
nnet-simple-component.cc:11594:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
11594 | void InvertComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:11608:5: error: 'InvertComponent' was not declared in this scope; did you mean 'kaldi::nnet3::InvertComponent'?
11608 |     InvertComponent *to_update = dynamic_cast<InvertComponent*>(to_update_in);
      |     ^~~~~~~~~~~~~~~
      |     kaldi::nnet3::InvertComponent
In file included from nnet-simple-component.cc:28:
../nnet3/nnet-simple-component.h:4035:7: note: 'kaldi::nnet3::InvertComponent' declared here
 4035 | class InvertComponent: public NonlinearComponent {
      |       ^~~~~~~~~~~~~~~
nnet-simple-component.cc:11608:22: error: 'to_update' was not declared in this scope; did you mean 'to_update_in'?
11608 |     InvertComponent *to_update = dynamic_cast<InvertComponent*>(to_update_in);
      |                      ^~~~~~~~~
      |                      to_update_in
nnet-simple-component.cc:11608:47: error: 'InvertComponent' does not name a type
11608 |     InvertComponent *to_update = dynamic_cast<InvertComponent*>(to_update_in);
      |                                               ^~~~~~~~~~~~~~~
nnet-simple-component.cc:11608:62: error: expected '>' before '*' token
11608 |     InvertComponent *to_update = dynamic_cast<InvertComponent*>(to_update_in);
      |                                                              ^
nnet-simple-component.cc:11608:62: error: expected '(' before '*' token
11608 |     InvertComponent *to_update = dynamic_cast<InvertComponent*>(to_update_in);
      |                                                              ^
      |                                                              (
nnet-simple-component.cc:11608:63: error: expected primary-expression before '>' token
11608 |     InvertComponent *to_update = dynamic_cast<InvertComponent*>(to_update_in);
      |                                                               ^
nnet-simple-component.cc:11608:78: error: expected ')' before ';' token
11608 |     InvertComponent *to_update = dynamic_cast<InvertComponent*>(to_update_in);
      |                                                                              ^
      |                                                                              )
nnet-simple-component.cc:11610:7: error: 'RepairGradients' was not declared in this scope
11610 |       RepairGradients(out_value, in_deriv, to_update);
      |       ^~~~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11616:6: error: 'InvertComponent' has not been declared
11616 | void InvertComponent::RepairGradients(
      |      ^~~~~~~~~~~~~~~
nnet-simple-component.cc:11619:5: error: 'InvertComponent' has not been declared
11619 |     InvertComponent *to_update) const {}
      |     ^~~~~~~~~~~~~~~
nnet-simple-component.cc:11619:33: error: non-member function 'void kaldi::RepairGradients(const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*, int*)' cannot have cv-qualifier
11619 |     InvertComponent *to_update) const {}
      |                                 ^~~~~
nnet-simple-component.cc:11623:6: error: 'InvertComponent' has not been declared
11623 | void InvertComponent::StoreStats(const CuMatrixBase<BaseFloat> &in_value,
      |      ^~~~~~~~~~~~~~~
nnet-simple-component.cc:11623:6: error: redefinition of 'void kaldi::StoreStats(const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*)'
nnet-simple-component.cc:5665:6: note: 'void kaldi::StoreStats(const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*)' previously defined here
 5665 | void ExpComponent::StoreStats(const CuMatrixBase<BaseFloat> &in_value,
      |      ^~~~~~~~~~~~
nnet-simple-component.cc:11631:7: error: 'SpecMaskOnlineComponent' has not been declared
11631 | void* SpecMaskOnlineComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11631:48: error: 'ComponentPrecomputedIndexes' does not name a type
11631 | void* SpecMaskOnlineComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |                                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11633:61: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
11633 |                               CuMatrixBase<BaseFloat> *out) const {
      |                                                             ^~~~~
nnet-simple-component.cc:11631:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
11631 | void* SpecMaskOnlineComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:11645:6: error: 'mask_filter_' was not declared in this scope
11645 |  if (mask_filter_) {
      |      ^~~~~~~~~~~~
nnet-simple-component.cc:11647:21: error: 'num_filter_mask_' was not declared in this scope
11647 |   for (int32 i=0; i<num_filter_mask_; i++) {
      |                     ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:11648:26: warning: integer overflow in expression of type 'int' results in '-2147483648' [-Woverflow]
11648 |    p =  rand()/(RAND_MAX + 1);
      |                          ^
nnet-simple-component.cc:11649:12: error: 'mask_prob_' was not declared in this scope
11649 |    if (p < mask_prob_) {
      |            ^~~~~~~~~~
nnet-simple-component.cc:11650:21: error: 'width_filter_max_' was not declared in this scope
11650 |     f1 = (rand() % (width_filter_max_))+1; // f1 \in (0, width_filter_max_]
      |                     ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11653:9: error: 'mask_as_mean_' was not declared in this scope
11653 |     if (mask_as_mean_) {
      |         ^~~~~~~~~~~~~
nnet-simple-component.cc:11656:33: error: 'mask_value_' was not declared in this scope
11656 |      (out->ColRange(f0,f1)).Set(mask_value_);
      |                                 ^~~~~~~~~~~
nnet-simple-component.cc:11662:6: error: 'mask_time_' was not declared in this scope
11662 |  if (mask_time_) {
      |      ^~~~~~~~~~
nnet-simple-component.cc:11664:31: error: 'rate_time_max_' was not declared in this scope
11664 |   int32 max_mask_time = floor(rate_time_max_ * num_row);
      |                               ^~~~~~~~~~~~~~
nnet-simple-component.cc:11665:21: error: 'num_time_mask_' was not declared in this scope
11665 |   for (int32 i=0; i<num_time_mask_; i++) {
      |                     ^~~~~~~~~~~~~~
nnet-simple-component.cc:11666:26: warning: integer overflow in expression of type 'int' results in '-2147483648' [-Woverflow]
11666 |    p =  rand()/(RAND_MAX + 1);
      |                          ^
nnet-simple-component.cc:11667:12: error: 'mask_prob_' was not declared in this scope
11667 |    if (p < mask_prob_) {
      |            ^~~~~~~~~~
nnet-simple-component.cc:11668:21: error: 'width_time_max_' was not declared in this scope
11668 |     t1 = (rand() % (width_time_max_))+1; // t1 \in (0, width_time_max_]
      |                     ^~~~~~~~~~~~~~~
nnet-simple-component.cc:11672:9: error: 'mask_as_mean_' was not declared in this scope
11672 |     if (mask_as_mean_) {
      |         ^~~~~~~~~~~~~
nnet-simple-component.cc:11675:33: error: 'mask_value_' was not declared in this scope
11675 |      (out->RowRange(t0,t1)).Set(mask_value_);
      |                                 ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11684:6: error: 'SpecMaskOnlineComponent' has not been declared
11684 | void SpecMaskOnlineComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11685:36: error: 'ComponentPrecomputedIndexes' does not name a type
11685 |                              const ComponentPrecomputedIndexes *indexes,
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11690:30: error: 'Component' has not been declared
11690 |                              Component *to_update, // may be NULL; may be identical
      |                              ^~~~~~~~~
nnet-simple-component.cc:11692:65: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
11692 |                              CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                 ^~~~~
nnet-simple-component.cc:11684:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
11684 | void SpecMaskOnlineComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11696:6: error: 'SpecMaskOnlineComponent' has not been declared
11696 | void SpecMaskOnlineComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11696:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:11697:3: error: 'width_filter_max_' was not declared in this scope
11697 |   width_filter_max_ = 15;
      |   ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11698:2: error: 'width_time_max_' was not declared in this scope
11698 |  width_time_max_ = 70;
      |  ^~~~~~~~~~~~~~~
nnet-simple-component.cc:11699:2: error: 'num_filter_mask_' was not declared in this scope
11699 |  num_filter_mask_ = 2;
      |  ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:11700:2: error: 'num_time_mask_' was not declared in this scope
11700 |  num_time_mask_ = 2;
      |  ^~~~~~~~~~~~~~
nnet-simple-component.cc:11701:2: error: 'rate_time_max_' was not declared in this scope
11701 |  rate_time_max_ = 0.2;
      |  ^~~~~~~~~~~~~~
nnet-simple-component.cc:11702:2: error: 'mask_value_' was not declared in this scope
11702 |  mask_value_ = 0.0;
      |  ^~~~~~~~~~~
nnet-simple-component.cc:11703:2: error: 'mask_prob_' was not declared in this scope
11703 |  mask_prob_ = 1.0;
      |  ^~~~~~~~~~
nnet-simple-component.cc:11704:2: error: 'mask_filter_' was not declared in this scope
11704 |  mask_filter_ = true;
      |  ^~~~~~~~~~~~
nnet-simple-component.cc:11705:2: error: 'mask_time_' was not declared in this scope
11705 |  mask_time_ = true;
      |  ^~~~~~~~~~
nnet-simple-component.cc:11706:2: error: 'mask_as_mean_' was not declared in this scope
11706 |  mask_as_mean_ = true;
      |  ^~~~~~~~~~~~~
nnet-simple-component.cc:11717:30: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
11717 |   if (!cfl->GetValue("dim", &dim_) ||
      |                              ^~~~
      |                              dim3
nnet-simple-component.cc:11720:18: error: 'Type' was not declared in this scope
11720 |               << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                  ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11724:13: error: 'SpecMaskOnlineComponent' has not been declared
11724 | std::string SpecMaskOnlineComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11724:45: error: non-member function 'std::string kaldi::Info()' cannot have cv-qualifier
11724 | std::string SpecMaskOnlineComponent::Info() const {
      |                                             ^~~~~
nnet-simple-component.cc:11724:13: error: redefinition of 'std::string kaldi::Info()'
11724 | std::string SpecMaskOnlineComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5602:13: note: 'std::string kaldi::Info()' previously defined here
 5602 | std::string MinValueComponent::Info() const {
      |             ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'std::string kaldi::Info()':
nnet-simple-component.cc:11726:13: error: 'Type' was not declared in this scope
11726 |   stream << Type() << ", dim=" << dim_;
      |             ^~~~
nnet-simple-component.cc:11726:35: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
11726 |   stream << Type() << ", dim=" << dim_;
      |                                   ^~~~
      |                                   dim3
nnet-simple-component.cc:11727:38: error: 'width_filter_max_' was not declared in this scope
11727 |   stream << ", width-filter-max=" << width_filter_max_;
      |                                      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11728:36: error: 'width_time_max_' was not declared in this scope
11728 |   stream << ", width-time-max=" << width_time_max_;
      |                                    ^~~~~~~~~~~~~~~
nnet-simple-component.cc:11729:37: error: 'num_filter_mask_' was not declared in this scope
11729 |   stream << ", num-filter-mask=" << num_filter_mask_;
      |                                     ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:11730:35: error: 'num_time_mask_' was not declared in this scope
11730 |   stream << ", num-time-mask=" << num_time_mask_;
      |                                   ^~~~~~~~~~~~~~
nnet-simple-component.cc:11731:35: error: 'rate_time_max_' was not declared in this scope
11731 |   stream << ", rate-time-max=" << rate_time_max_;
      |                                   ^~~~~~~~~~~~~~
nnet-simple-component.cc:11732:32: error: 'mask_value_' was not declared in this scope
11732 |   stream << ", mask-value=" << mask_value_;
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:11733:31: error: 'mask_prob_' was not declared in this scope
11733 |   stream << ", mask-prob=" << mask_prob_;
      |                               ^~~~~~~~~~
nnet-simple-component.cc:11734:33: error: 'mask_filter_' was not declared in this scope
11734 |   stream << ", mask-filter=" << mask_filter_;
      |                                 ^~~~~~~~~~~~
nnet-simple-component.cc:11735:31: error: 'mask_time_' was not declared in this scope
11735 |   stream << ", mask-time=" << mask_time_;
      |                               ^~~~~~~~~~
nnet-simple-component.cc:11736:34: error: 'mask_as_mean_' was not declared in this scope
11736 |   stream << ", mask-as-mean=" << mask_as_mean_;
      |                                  ^~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11740:6: error: 'SpecMaskOnlineComponent' has not been declared
11740 | void SpecMaskOnlineComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11740:68: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
11740 | void SpecMaskOnlineComponent::Write(std::ostream &os, bool binary) const {
      |                                                                    ^~~~~
nnet-simple-component.cc:11740:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
11740 | void SpecMaskOnlineComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:11743:30: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
11743 |   WriteBasicType(os, binary, dim_);
      |                              ^~~~
      |                              dim3
nnet-simple-component.cc:11745:30: error: 'width_filter_max_' was not declared in this scope
11745 |   WriteBasicType(os, binary, width_filter_max_);
      |                              ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11747:30: error: 'width_time_max_' was not declared in this scope
11747 |   WriteBasicType(os, binary, width_time_max_);
      |                              ^~~~~~~~~~~~~~~
nnet-simple-component.cc:11749:30: error: 'num_filter_mask_' was not declared in this scope
11749 |   WriteBasicType(os, binary, num_filter_mask_);
      |                              ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:11751:30: error: 'num_time_mask_' was not declared in this scope
11751 |   WriteBasicType(os, binary, num_time_mask_);
      |                              ^~~~~~~~~~~~~~
nnet-simple-component.cc:11753:30: error: 'rate_time_max_' was not declared in this scope
11753 |   WriteBasicType(os, binary, rate_time_max_);
      |                              ^~~~~~~~~~~~~~
nnet-simple-component.cc:11755:30: error: 'mask_value_' was not declared in this scope
11755 |   WriteBasicType(os, binary, mask_value_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:11757:30: error: 'mask_prob_' was not declared in this scope
11757 |   WriteBasicType(os, binary, mask_prob_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:11759:30: error: 'mask_filter_' was not declared in this scope
11759 |   WriteBasicType(os, binary, mask_filter_);
      |                              ^~~~~~~~~~~~
nnet-simple-component.cc:11761:30: error: 'mask_time_' was not declared in this scope
11761 |   WriteBasicType(os, binary, mask_time_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:11763:30: error: 'mask_as_mean_' was not declared in this scope
11763 |   WriteBasicType(os, binary, mask_as_mean_);
      |                              ^~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11767:6: error: 'SpecMaskOnlineComponent' has not been declared
11767 | void SpecMaskOnlineComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11767:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:11769:30: error: 'dim_' was not declared in this scope; did you mean 'dim3'?
11769 |   ReadBasicType(is, binary, &dim_);
      |                              ^~~~
      |                              dim3
nnet-simple-component.cc:11774:5: error: 'width_filter_max_' was not declared in this scope
11774 |     width_filter_max_ = 15;
      |     ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11775:2: error: 'width_time_max_' was not declared in this scope
11775 |  width_time_max_ = 70;
      |  ^~~~~~~~~~~~~~~
nnet-simple-component.cc:11776:2: error: 'num_filter_mask_' was not declared in this scope
11776 |  num_filter_mask_ = 2;
      |  ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:11777:2: error: 'num_time_mask_' was not declared in this scope
11777 |  num_time_mask_ = 2;
      |  ^~~~~~~~~~~~~~
nnet-simple-component.cc:11778:2: error: 'rate_time_max_' was not declared in this scope
11778 |  rate_time_max_ = 0.2;
      |  ^~~~~~~~~~~~~~
nnet-simple-component.cc:11779:2: error: 'mask_value_' was not declared in this scope
11779 |  mask_value_ = 0.0;
      |  ^~~~~~~~~~~
nnet-simple-component.cc:11780:2: error: 'mask_prob_' was not declared in this scope
11780 |  mask_prob_ = 1.0;
      |  ^~~~~~~~~~
nnet-simple-component.cc:11781:2: error: 'mask_filter_' was not declared in this scope
11781 |  mask_filter_ = true;
      |  ^~~~~~~~~~~~
nnet-simple-component.cc:11782:2: error: 'mask_time_' was not declared in this scope
11782 |  mask_time_ = true;
      |  ^~~~~~~~~~
nnet-simple-component.cc:11783:2: error: 'mask_as_mean_' was not declared in this scope
11783 |  mask_as_mean_ = true;
      |  ^~~~~~~~~~~~~
nnet-simple-component.cc:11817:32: error: 'width_filter_max_' was not declared in this scope
11817 |     ReadBasicType(is, binary, &width_filter_max_);
      |                                ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11819:32: error: 'width_time_max_' was not declared in this scope
11819 |     ReadBasicType(is, binary, &width_time_max_);
      |                                ^~~~~~~~~~~~~~~
nnet-simple-component.cc:11821:32: error: 'num_filter_mask_' was not declared in this scope
11821 |     ReadBasicType(is, binary, &num_filter_mask_);
      |                                ^~~~~~~~~~~~~~~~
nnet-simple-component.cc:11823:32: error: 'num_time_mask_' was not declared in this scope
11823 |     ReadBasicType(is, binary, &num_time_mask_);
      |                                ^~~~~~~~~~~~~~
nnet-simple-component.cc:11825:32: error: 'rate_time_max_' was not declared in this scope
11825 |     ReadBasicType(is, binary, &rate_time_max_);
      |                                ^~~~~~~~~~~~~~
nnet-simple-component.cc:11827:32: error: 'mask_value_' was not declared in this scope
11827 |     ReadBasicType(is, binary, &mask_value_);
      |                                ^~~~~~~~~~~
nnet-simple-component.cc:11829:32: error: 'mask_prob_' was not declared in this scope
11829 |     ReadBasicType(is, binary, &mask_prob_);
      |                                ^~~~~~~~~~
nnet-simple-component.cc:11831:32: error: 'mask_filter_' was not declared in this scope
11831 |     ReadBasicType(is, binary, &mask_filter_);
      |                                ^~~~~~~~~~~~
nnet-simple-component.cc:11833:32: error: 'mask_time_' was not declared in this scope
11833 |     ReadBasicType(is, binary, &mask_time_);
      |                                ^~~~~~~~~~
nnet-simple-component.cc:11835:32: error: 'mask_as_mean_' was not declared in this scope
11835 |     ReadBasicType(is, binary, &mask_as_mean_);
      |                                ^~~~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11842:6: error: 'FramewiseLinearComponent' has not been declared
11842 | void FramewiseLinearComponent::Init(int32 input_dim, int32 output_dim, int32 feat_dim)  {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Init(int32, int32, int32)':
nnet-simple-component.cc:11843:3: error: 'input_dim_' was not declared in this scope; did you mean 'input_dim'?
11843 |   input_dim_ = input_dim;
      |   ^~~~~~~~~~
      |   input_dim
nnet-simple-component.cc:11844:3: error: 'output_dim_' was not declared in this scope; did you mean 'output_dim'?
11844 |   output_dim_ = output_dim; // M
      |   ^~~~~~~~~~~
      |   output_dim
nnet-simple-component.cc:11845:3: error: 'feat_dim_' was not declared in this scope; did you mean 'feat_dim'?
11845 |   feat_dim_ = feat_dim; // N
      |   ^~~~~~~~~
      |   feat_dim
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11852:6: error: 'FramewiseLinearComponent' has not been declared
11852 | void FramewiseLinearComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11852:6: error: redefinition of 'void kaldi::InitFromConfig(kaldi::ConfigLine*)'
nnet-simple-component.cc:5586:6: note: 'void kaldi::InitFromConfig(kaldi::ConfigLine*)' previously defined here
 5586 | void MinValueComponent::InitFromConfig(ConfigLine *cfl) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::InitFromConfig(kaldi::ConfigLine*)':
nnet-simple-component.cc:11861:18: error: 'Type' was not declared in this scope
11861 |               << Type() << ": \"" << cfl->WholeLine() << "\"";
      |                  ^~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11865:7: error: 'FramewiseLinearComponent' has not been declared
11865 | void* FramewiseLinearComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11866:11: error: 'ComponentPrecomputedIndexes' does not name a type
11866 |     const ComponentPrecomputedIndexes *indexes,
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11868:35: error: non-member function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
11868 |     CuMatrixBase<BaseFloat> *out) const {
      |                                   ^~~~~
nnet-simple-component.cc:11865:7: error: redefinition of 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)'
11865 | void* FramewiseLinearComponent::Propagate(
      |       ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5641:7: note: 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)' previously defined here
 5641 | void* ExpComponent::Propagate(const ComponentPrecomputedIndexes *indexes,
      |       ^~~~~~~~~~~~
In file included from ../base/kaldi-common.h:35,
                 from ../nnet3/nnet-common.h:24,
                 from ../nnet3/nnet-simple-component.h:29,
                 from nnet-simple-component.cc:28:
nnet-simple-component.cc: In function 'void* kaldi::Propagate(const int*, const kaldi::CuMatrixBase<float>&, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:11869:32: error: 'input_dim_' was not declared in this scope
11869 |   KALDI_ASSERT(in.NumCols() == input_dim_);
      |                                ^~~~~~~~~~
../base/kaldi-error.h:187:9: note: in definition of macro 'KALDI_ASSERT'
  187 |     if (cond)                                                                  \
      |         ^~~~
nnet-simple-component.cc:11872:21: error: 'feat_dim_' was not declared in this scope
11872 |   int32 param_dim = feat_dim_*output_dim_; // [ feat_dim feat_dim ... feat_dim ]
      |                     ^~~~~~~~~
nnet-simple-component.cc:11872:31: error: 'output_dim_' was not declared in this scope
11872 |   int32 param_dim = feat_dim_*output_dim_; // [ feat_dim feat_dim ... feat_dim ]
      |                               ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:11957:6: error: 'FramewiseLinearComponent' has not been declared
11957 | void FramewiseLinearComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11958:37: error: 'ComponentPrecomputedIndexes' does not name a type
11958 |                               const ComponentPrecomputedIndexes *indexes,
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:11963:31: error: 'Component' has not been declared
11963 |                               Component *to_update,
      |                               ^~~~~~~~~
nnet-simple-component.cc:11964:66: error: non-member function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' cannot have cv-qualifier
11964 |                               CuMatrixBase<BaseFloat> *in_deriv) const {
      |                                                                  ^~~~~
nnet-simple-component.cc:11957:6: error: redefinition of 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)'
11957 | void FramewiseLinearComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5574:6: note: 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)' previously defined here
 5574 | void MinValueComponent::Backprop(const std::string &debug_info,
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Backprop(const string&, const int*, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, const kaldi::CuMatrixBase<float>&, void*, int*, kaldi::CuMatrixBase<float>*)':
nnet-simple-component.cc:11968:21: error: 'feat_dim_' was not declared in this scope
11968 |   int32 param_dim = feat_dim_*output_dim_;
      |                     ^~~~~~~~~
nnet-simple-component.cc:11968:31: error: 'output_dim_' was not declared in this scope
11968 |   int32 param_dim = feat_dim_*output_dim_;
      |                               ^~~~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:12048:6: error: 'FramewiseLinearComponent' has not been declared
12048 | void FramewiseLinearComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:12048:6: error: redefinition of 'void kaldi::Read(std::istream&, bool)'
nnet-simple-component.cc:5624:6: note: 'void kaldi::Read(std::istream&, bool)' previously defined here
 5624 | void MinValueComponent::Read(std::istream &is, bool binary) {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Read(std::istream&, bool)':
nnet-simple-component.cc:12051:30: error: 'input_dim_' was not declared in this scope
12051 |   ReadBasicType(is, binary, &input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:12053:30: error: 'output_dim_' was not declared in this scope
12053 |   ReadBasicType(is, binary, &output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:12055:30: error: 'feat_dim_' was not declared in this scope
12055 |   ReadBasicType(is, binary, &feat_dim_);
      |                              ^~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:12059:6: error: 'FramewiseLinearComponent' has not been declared
12059 | void FramewiseLinearComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:12059:69: error: non-member function 'void kaldi::Write(std::ostream&, bool)' cannot have cv-qualifier
12059 | void FramewiseLinearComponent::Write(std::ostream &os, bool binary) const {
      |                                                                     ^~~~~
nnet-simple-component.cc:12059:6: error: redefinition of 'void kaldi::Write(std::ostream&, bool)'
12059 | void FramewiseLinearComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~~~~~~~~
nnet-simple-component.cc:5611:6: note: 'void kaldi::Write(std::ostream&, bool)' previously defined here
 5611 | void MinValueComponent::Write(std::ostream &os, bool binary) const {
      |      ^~~~~~~~~~~~~~~~~
nnet-simple-component.cc: In function 'void kaldi::Write(std::ostream&, bool)':
nnet-simple-component.cc:12062:30: error: 'input_dim_' was not declared in this scope
12062 |   WriteBasicType(os, binary, input_dim_);
      |                              ^~~~~~~~~~
nnet-simple-component.cc:12064:30: error: 'output_dim_' was not declared in this scope
12064 |   WriteBasicType(os, binary, output_dim_);
      |                              ^~~~~~~~~~~
nnet-simple-component.cc:12066:30: error: 'feat_dim_' was not declared in this scope
12066 |   WriteBasicType(os, binary, feat_dim_);
      |                              ^~~~~~~~~
nnet-simple-component.cc: At global scope:
nnet-simple-component.cc:12074:1: error: expected declaration before '}' token
12074 | } // namespace kaldi
      | ^
make[1]: *** [nnet-simple-component.o] Error 1
make[1]: Leaving directory `/home/xxr/works/kaldi_bayes_adapt/src/nnet3'
make: *** [nnet3] Error 2
